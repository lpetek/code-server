/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var J=["require","exports","vs/base/common/lifecycle","vs/base/common/platform","vs/platform/instantiation/common/instantiation","vs/base/common/path","vs/base/common/event","vs/base/common/uri","vs/base/common/network","vs/nls","vs/nls!vs/server/entry","vs/base/common/errors","vs/platform/log/common/log","vs/base/common/types","vs/base/common/async","vs/base/node/pfs","vs/base/common/buffer","vs/base/common/resources","vs/base/common/strings","vs/platform/files/common/files","vs/base/common/objects","vs/base/common/arrays","os","vs/platform/environment/common/environment","vs/base/common/process","vs/base/common/cancellation","vs/base/common/uuid","vs/platform/registry/common/platform","vs/platform/extensionManagement/common/extensionManagement","vs/platform/extensionManagement/common/extensionManagementUtil","vs/platform/product/common/product","vs/platform/configuration/common/configuration","fs","vs/base/common/extpath","vs/base/common/map","vs/base/parts/ipc/common/ipc","path","vs/base/common/errorMessage","child_process","vs/platform/configuration/common/configurationRegistry","vs/platform/telemetry/common/telemetry","@coder/logger","vs/platform/extensions/common/extensions","vs/base/common/codicons","vs/base/common/stream","vs/base/common/semver/semver","vs/platform/product/common/productService","vs/platform/telemetry/common/telemetryUtils","vs/base/node/zip","vs/base/common/uriIpc","vs/base/parts/ipc/node/ipc.cp","vs/platform/extensions/common/extensionValidator","vs/platform/instantiation/common/descriptors","vs/platform/instantiation/common/serviceCollection","vs/platform/localizations/common/localizations","vs/platform/log/node/spdlogLog","vs/platform/files/node/diskFileSystemProvider","vs/platform/request/common/request","vs/server/nls","vs/base/common/decorators","vs/base/common/functional","vs/base/common/iterator","vs/base/common/json","vs/base/common/normalization","vs/base/common/labels","vs/base/common/uriServer","vs/base/node/decoder","util","vs/base/node/powershell","vs/base/parts/ipc/common/ipc.net","vs/base/node/processes","vs/platform/environment/node/environmentService","vs/platform/environment/node/shellEnv","vs/platform/files/node/watcher/watcher","vs/platform/instantiation/common/instantiationService","vs/platform/localizations/node/localizations","vs/platform/log/common/bufferLog","vs/platform/log/common/logIpc","vs/platform/files/common/io","vs/platform/files/common/fileService","vs/platform/configuration/common/configurationService","vs/platform/telemetry/common/commonProperties","vs/platform/extensionManagement/common/extensionGalleryService","vs/platform/telemetry/common/telemetryService","vs/platform/telemetry/node/appInsightsAppender","vs/platform/theme/common/themeService","vs/server/logger","vs/workbench/common/editor","vs/workbench/contrib/terminal/common/environmentVariable","vs/workbench/contrib/terminal/common/environmentVariableShared","vs/platform/extensionManagement/node/extensionManagementService","vs/platform/request/node/requestService","vs/base/common/assert","vs/base/common/linkedList","vs/base/common/processes","vs/base/common/stopwatch","vs/base/common/severity","vs/base/common/console","vs/base/common/marshalling","vs/base/common/glob","vs/base/node/languagePacks","vs/base/common/performance","vs/base/node/macAddress","vs/base/node/id","vs/base/node/extpath","vs/base/node/proxy_agent","vs/base/node/watcher","vs/base/parts/storage/common/storage","vs/nls!vs/base/common/date","vs/base/common/date","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/common/jsonErrorMessages","vs/base/common/jsonErrorMessages","vs/nls!vs/base/node/processes","vs/base/node/shell","vs/nls!vs/base/node/zip","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/environment/node/argv","vs/nls!vs/platform/environment/node/argvHelper","vs/nls!vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensionManagement/common/extensionManagementCLIService","vs/nls!vs/platform/extensionManagement/node/extensionManagementService","vs/nls!vs/platform/extensionManagement/node/extensionManagementUtil","vs/nls!vs/platform/extensionManagement/node/extensionsScanner","vs/nls!vs/platform/extensions/common/extensionValidator","vs/nls!vs/platform/files/common/fileService","vs/nls!vs/platform/files/common/files","vs/nls!vs/platform/files/common/io","vs/nls!vs/platform/files/node/diskFileSystemProvider","vs/nls!vs/platform/request/common/request","vs/nls!vs/platform/telemetry/common/telemetryService","vs/nls!vs/platform/terminal/common/terminalPlatformConfiguration","vs/nls!vs/server/marketplace","vs/nls!vs/workbench/common/editor","vs/nls!vs/workbench/services/configurationResolver/common/variableResolver","vs/nls!vs/workbench/services/extensions/node/extensionPoints","vs/platform/debug/common/extensionHostDebugIpc","vs/platform/environment/common/environmentService","vs/platform/environment/node/argv","vs/platform/environment/node/userDataPath","vs/platform/extensionManagement/common/extensionManagementIpc","vs/platform/extensionManagement/common/extensionNls","vs/platform/files/common/ipcFileSystemProvider","vs/platform/files/node/watcher/nsfw/watcherService","vs/platform/files/node/watcher/unix/watcherService","vs/platform/files/node/watcher/win32/csharpWatcherService","vs/platform/files/node/watcher/win32/watcherService","vs/platform/instantiation/common/graph","vs/platform/contextkey/common/contextkey","vs/platform/download/common/download","vs/platform/extensionManagement/common/extensionManagementCLIService","vs/platform/extensionManagement/node/extensionsManifestCache","vs/platform/environment/node/argvHelper","vs/platform/files/node/watcher/nodejs/watcherService","vs/platform/label/common/label","vs/platform/extensionManagement/node/extensionDownloader","vs/platform/extensionManagement/node/extensionLifecycle","vs/platform/extensionManagement/node/extensionsWatcher","crypto","vs/platform/log/common/fileLog","vs/platform/log/node/loggerService","vs/platform/notification/common/notification","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/platform/configuration/common/configurationModels","vs/platform/remote/common/remoteAuthorityResolver","vs/platform/request/common/requestIpc","vs/platform/request/node/proxy","url","vs/platform/serviceMachineId/common/serviceMachineId","vs/platform/storage/common/storage","vs/platform/telemetry/common/errorTelemetry","vs/platform/extensionManagement/common/abstractExtensionManagementService","vs/platform/telemetry/common/telemetryLogAppender","vs/platform/telemetry/node/errorTelemetry","vs/platform/telemetry/node/telemetry","vs/platform/terminal/common/requestStore","vs/platform/terminal/common/terminal","vs/platform/terminal/node/terminalEnvironment","vs/platform/theme/common/theme","vs/platform/terminal/common/terminalProfiles","vs/platform/terminal/common/terminalPlatformConfiguration","vs/platform/terminal/node/terminalProfiles","vs/platform/terminal/node/ptyHostService","vs/platform/workspace/common/workspace","vs/server/insights","vs/server/logsDataCleaner","vs/server/connection","vs/workbench/contrib/terminal/common/environmentVariableCollection","vs/workbench/contrib/terminal/common/terminalEnvironment","vs/workbench/services/configuration/common/configuration","vs/workbench/services/configurationResolver/common/configurationResolver","vs/workbench/services/configurationResolver/common/variableResolver","vs/workbench/services/editor/common/editorGroupsService","vs/workbench/services/editor/common/editorService","vs/workbench/contrib/terminal/common/remoteTerminalChannel","vs/workbench/services/extensions/common/extensionPoints","vs/workbench/services/extensions/node/extensionPoints","vs/server/channel","vs/workbench/services/remote/common/remoteAgentFileSystemChannel","vs/workbench/services/remote/common/remoteAgentService","vs/platform/extensionManagement/node/extensionManagementUtil","vs/platform/extensionManagement/node/extensionsScanner","vs/server/marketplace","vs/base/parts/ipc/node/ipc.net","zlib","vs/server/cliProcessMain","vs/server/protocol","vs/server/server","string_decoder","proxy-agent","proxy-from-env","minimist","assert","https","http","yauzl","yazl","tar-stream","net","graceful-fs","vs/server/entry"],Z=function(x){for(var e=[],g=0,R=x.length;g<R;g++)e[g]=J[x[g]];return e};define(J[92],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function g(R,w){if(!R)throw new Error(w?`Assertion failed (${w})`:"Assertion Failed")}e.ok=g}),define(J[59],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.debounce=e.memoize=e.createDecorator=void 0;function g(T){return(S,h,m)=>{let n=null,P=null;if(typeof m.value=="function"?(n="value",P=m.value):typeof m.get=="function"&&(n="get",P=m.get),!P)throw new Error("not supported");m[n]=T(P,h)}}e.createDecorator=g;function R(T,S,h){let m=null,n=null;if(typeof h.value=="function"?(m="value",n=h.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof h.get=="function"&&(m="get",n=h.get),!n)throw new Error("not supported");const P=`$memoize$${S}`;h[m]=function(...d){return this.hasOwnProperty(P)||Object.defineProperty(this,P,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,d)}),this[P]}}e.memoize=R;function w(T,S,h){return g((m,n)=>{const P=`$debounce$${n}`,d=`$debounce$result$${n}`;return function(...b){this[d]||(this[d]=h?h():void 0),clearTimeout(this[P]),S&&(this[d]=S(this[d],...b),b=[this[d]]),this[P]=setTimeout(()=>{m.apply(this,b),this[d]=h?h():void 0},T)}})}e.debounce=w;function k(T,S,h){return g((m,n)=>{const P=`$throttle$timer$${n}`,d=`$throttle$result$${n}`,b=`$throttle$lastRun$${n}`,o=`$throttle$pending$${n}`;return function(...u){if(this[d]||(this[d]=h?h():void 0),(this[b]===null||this[b]===void 0)&&(this[b]=-Number.MAX_VALUE),S&&(this[d]=S(this[d],...u)),this[o])return;const y=this[b]+T;y<=Date.now()?(this[b]=Date.now(),m.apply(this,[this[d]]),this[d]=h?h():void 0):(this[o]=!0,this[P]=setTimeout(()=>{this[o]=!1,this[b]=Date.now(),m.apply(this,[this[d]]),this[d]=h?h():void 0},y-Date.now()))}})}e.throttle=k}),define(J[11],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorWithActions=e.isErrorWithActions=e.ExpectedError=e.NotSupportedError=e.NotImplementedError=e.getErrorMessage=e.disposed=e.readonly=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.setUnexpectedErrorHandler=e.errorHandler=e.ErrorHandler=void 0;class g{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(s=>{s(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}}e.ErrorHandler=g,e.errorHandler=new g;function R(a){e.errorHandler.setUnexpectedErrorHandler(a)}e.setUnexpectedErrorHandler=R;function w(a){h(a)||e.errorHandler.onUnexpectedError(a)}e.onUnexpectedError=w;function k(a){h(a)||e.errorHandler.onUnexpectedExternalError(a)}e.onUnexpectedExternalError=k;function T(a){if(a instanceof Error){let{name:t,message:s}=a;const i=a.stacktrace||a.stack;return{$isError:!0,name:t,message:s,stack:i}}return a}e.transformErrorForSerialization=T;const S="Canceled";function h(a){return a instanceof Error&&a.name===S&&a.message===S}e.isPromiseCanceledError=h;class m extends Error{constructor(){super(S);this.name=this.message}}e.CancellationError=m;function n(){const a=new Error(S);return a.name=a.message,a}e.canceled=n;function P(a){return a?new Error(`Illegal argument: ${a}`):new Error("Illegal argument")}e.illegalArgument=P;function d(a){return a?new Error(`Illegal state: ${a}`):new Error("Illegal state")}e.illegalState=d;function b(a){return a?new Error(`readonly property '${a} cannot be changed'`):new Error("readonly property cannot be changed")}e.readonly=b;function o(a){const t=new Error(`${a} has been disposed`);return t.name="DISPOSED",t}e.disposed=o;function u(a){return a?a.message?a.message:a.stack?a.stack.split(`
`)[0]:String(a):"Error"}e.getErrorMessage=u;class y extends Error{constructor(t){super("NotImplemented");t&&(this.message=t)}}e.NotImplementedError=y;class E extends Error{constructor(t){super("NotSupported");t&&(this.message=t)}}e.NotSupportedError=E;class C extends Error{constructor(){super(...arguments);this.isExpected=!0}}e.ExpectedError=C;function f(a){const t=a;return t instanceof Error&&Array.isArray(t.actions)}e.isErrorWithActions=f;function c(a,t=Object.create(null)){const s=new Error(a);return t.actions&&(s.actions=t.actions),s}e.createErrorWithActions=c}),define(J[21],Z([0,1,11]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.maxIndex=e.minIndex=e.splice=e.insertInto=e.mapFind=e.getRandomElement=e.asArray=e.mapArrayOrNot=e.pushToEnd=e.pushToStart=e.shuffle=e.arrayInsert=e.remove=e.insert=e.index=e.range=e.flatten=e.commonPrefixLength=e.firstOrDefault=e.lastIndex=e.uniqueFilter=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.move=e.coalesceInPlace=e.coalesce=e.topAsync=e.top=e.delta=e.sortedDiff=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function R(z,N=0){return z[z.length-(1+N)]}e.tail=R;function w(z){if(z.length===0)throw new Error("Invalid tail call");return[z.slice(0,z.length-1),z[z.length-1]]}e.tail2=w;function k(z,N,F=(q,H)=>q===H){if(z===N)return!0;if(!z||!N||z.length!==N.length)return!1;for(let q=0,H=z.length;q<H;q++)if(!F(z[q],N[q]))return!1;return!0}e.equals=k;function T(z,N,F){let q=0,H=z.length-1;for(;q<=H;){const Y=(q+H)/2|0,te=F(z[Y],N);if(te<0)q=Y+1;else if(te>0)H=Y-1;else return Y}return-(q+1)}e.binarySearch=T;function S(z,N){let F=0,q=z.length;if(q===0)return 0;for(;F<q;){const H=Math.floor((F+q)/2);N(z[H])?q=H:F=H+1}return F}e.findFirstInSorted=S;function h(z,N,F){if(z=z|0,z>=N.length)throw new TypeError("invalid index");let q=N[Math.floor(N.length*Math.random())],H=[],Y=[],te=[];for(let oe of N){const se=F(oe,q);se<0?H.push(oe):se>0?Y.push(oe):te.push(oe)}return z<H.length?h(z,H,F):z<H.length+te.length?te[0]:h(z-(H.length+te.length),Y,F)}e.quickSelect=h;function m(z,N){const F=[];let q;for(const H of z.slice(0).sort(N))!q||N(q[0],H)!==0?(q=[H],F.push(q)):q.push(H);return F}e.groupBy=m;function n(z,N,F){const q=[];function H(oe,se,ce){if(se===0&&ce.length===0)return;const he=q[q.length-1];he&&he.start+he.deleteCount===oe?(he.deleteCount+=se,he.toInsert.push(...ce)):q.push({start:oe,deleteCount:se,toInsert:ce})}let Y=0,te=0;for(;;){if(Y===z.length){H(Y,0,N.slice(te));break}if(te===N.length){H(Y,z.length-Y,[]);break}const oe=z[Y],se=N[te],ce=F(oe,se);ce===0?(Y+=1,te+=1):ce<0?(H(Y,1,[]),Y+=1):ce>0&&(H(Y,0,[se]),te+=1)}return q}e.sortedDiff=n;function P(z,N,F){const q=n(z,N,F),H=[],Y=[];for(const te of q)H.push(...z.slice(te.start,te.start+te.deleteCount)),Y.push(...te.toInsert);return{removed:H,added:Y}}e.delta=P;function d(z,N,F){if(F===0)return[];const q=z.slice(0,F).sort(N);return o(z,N,q,F,z.length),q}e.top=d;function b(z,N,F,q,H){return F===0?Promise.resolve([]):new Promise((Y,te)=>{(async()=>{const oe=z.length,se=z.slice(0,F).sort(N);for(let ce=F,he=Math.min(F+q,oe);ce<oe;ce=he,he=Math.min(he+q,oe)){if(ce>F&&await new Promise(me=>setTimeout(me)),H&&H.isCancellationRequested)throw(0,g.canceled)();o(z,N,se,ce,he)}return se})().then(Y,te)})}e.topAsync=b;function o(z,N,F,q,H){for(const Y=F.length;q<H;q++){const te=z[q];if(N(te,F[Y-1])<0){F.pop();const oe=S(F,se=>N(te,se)<0);F.splice(oe,0,te)}}}function u(z){return z.filter(N=>!!N)}e.coalesce=u;function y(z){let N=0;for(let F=0;F<z.length;F++)z[F]&&(z[N]=z[F],N+=1);z.length=N}e.coalesceInPlace=y;function E(z,N,F){z.splice(F,0,z.splice(N,1)[0])}e.move=E;function C(z){return!Array.isArray(z)||z.length===0}e.isFalsyOrEmpty=C;function f(z){return Array.isArray(z)&&z.length>0}e.isNonEmptyArray=f;function c(z,N){if(!N)return z.filter((q,H)=>z.indexOf(q)===H);const F=Object.create(null);return z.filter(q=>{const H=N(q);return F[H]?!1:(F[H]=!0,!0)})}e.distinct=c;function a(z){const N=new Set;return z.filter(F=>N.has(F)?!1:(N.add(F),!0))}e.distinctES6=a;function t(z){const N=Object.create(null);return F=>{const q=z(F);return N[q]?!1:(N[q]=!0,!0)}}e.uniqueFilter=t;function s(z,N){for(let F=z.length-1;F>=0;F--){const q=z[F];if(N(q))return F}return-1}e.lastIndex=s;function i(z,N){return z.length>0?z[0]:N}e.firstOrDefault=i;function r(z,N,F=(q,H)=>q===H){let q=0;for(let H=0,Y=Math.min(z.length,N.length);H<Y&&F(z[H],N[H]);H++)q++;return q}e.commonPrefixLength=r;function l(z){return[].concat(...z)}e.flatten=l;function v(z,N){let F=typeof N=="number"?z:0;typeof N=="number"?F=z:(F=0,N=z);const q=[];if(F<=N)for(let H=F;H<N;H++)q.push(H);else for(let H=F;H>N;H--)q.push(H);return q}e.range=v;function D(z,N,F){return z.reduce((q,H)=>(q[N(H)]=F?F(H):H,q),Object.create(null))}e.index=D;function L(z,N){return z.push(N),()=>p(z,N)}e.insert=L;function p(z,N){const F=z.indexOf(N);if(F>-1)return z.splice(F,1),N}e.remove=p;function _(z,N,F){const q=z.slice(0,N),H=z.slice(N);return q.concat(F,H)}e.arrayInsert=_;function A(z,N){let F;if(typeof N=="number"){let q=N;F=()=>{const H=Math.sin(q++)*179426549;return H-Math.floor(H)}}else F=Math.random;for(let q=z.length-1;q>0;q-=1){const H=Math.floor(F()*(q+1)),Y=z[q];z[q]=z[H],z[H]=Y}}e.shuffle=A;function I(z,N){const F=z.indexOf(N);F>-1&&(z.splice(F,1),z.unshift(N))}e.pushToStart=I;function U(z,N){const F=z.indexOf(N);F>-1&&(z.splice(F,1),z.push(N))}e.pushToEnd=U;function B(z,N){return Array.isArray(z)?z.map(N):N(z)}e.mapArrayOrNot=B;function ee(z){return Array.isArray(z)?z:[z]}e.asArray=ee;function Q(z){return z[Math.floor(Math.random()*z.length)]}e.getRandomElement=Q;function O(z,N){for(const F of z){const q=N(F);if(q!==void 0)return q}}e.mapFind=O;function $(z,N,F){const q=K(z,N),H=z.length,Y=F.length;z.length=H+Y;for(let te=H-1;te>=q;te--)z[te+Y]=z[te];for(let te=0;te<Y;te++)z[te+q]=F[te]}e.insertInto=$;function W(z,N,F,q){const H=K(z,N),Y=z.splice(H,F);return $(z,H,q),Y}e.splice=W;function K(z,N){return N<0?Math.max(N+z.length,0):Math.min(N,z.length)}function V(z,N){let F=Number.MAX_SAFE_INTEGER,q=0;return z.forEach((H,Y)=>{const te=N(H);te<F&&(F=te,q=Y)}),q}e.minIndex=V;function M(z,N){let F=Number.MIN_SAFE_INTEGER,q=0;return z.forEach((H,Y)=>{const te=N(H);te>F&&(F=te,q=Y)}),q}e.maxIndex=M;class G{constructor(N){this.items=N,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(N){let F=this.firstIdx;for(;F<this.items.length&&N(this.items[F]);)F++;const q=F===this.firstIdx?null:this.items.slice(this.firstIdx,F);return this.firstIdx=F,q}takeFromEndWhile(N){let F=this.lastIdx;for(;F>=0&&N(this.items[F]);)F--;const q=F===this.lastIdx?null:this.items.slice(F+1,this.lastIdx+1);return this.lastIdx=F,q}}e.ArrayQueue=G}),define(J[60],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function g(R){const w=this;let k=!1,T;return function(){return k||(k=!0,T=R.apply(w,arguments)),T}}e.once=g}),define(J[61],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var g;(function(R){function w(a){return a&&typeof a=="object"&&typeof a[Symbol.iterator]=="function"}R.is=w;const k=Object.freeze([]);function T(){return k}R.empty=T;function*S(a){yield a}R.single=S;function h(a){return a||k}R.from=h;function m(a){return!a||a[Symbol.iterator]().next().done===!0}R.isEmpty=m;function n(a){return a[Symbol.iterator]().next().value}R.first=n;function P(a,t){for(const s of a)if(t(s))return!0;return!1}R.some=P;function d(a,t){for(const s of a)if(t(s))return s}R.find=d;function*b(a,t){for(const s of a)t(s)&&(yield s)}R.filter=b;function*o(a,t){let s=0;for(const i of a)yield t(i,s++)}R.map=o;function*u(...a){for(const t of a)for(const s of t)yield s}R.concat=u;function*y(a){for(const t of a)for(const s of t)yield s}R.concatNested=y;function E(a,t,s){let i=s;for(const r of a)i=t(i,r);return i}R.reduce=E;function*C(a,t,s=a.length){for(t<0&&(t+=a.length),s<0?s+=a.length:s>a.length&&(s=a.length);t<s;t++)yield a[t]}R.slice=C;function f(a,t=Number.POSITIVE_INFINITY){const s=[];if(t===0)return[s,a];const i=a[Symbol.iterator]();for(let r=0;r<t;r++){const l=i.next();if(l.done)return[s,R.empty()];s.push(l.value)}return[s,{[Symbol.iterator](){return i}}]}R.consume=f;function c(a,t,s=(i,r)=>i===r){const i=a[Symbol.iterator](),r=t[Symbol.iterator]();for(;;){const l=i.next(),v=r.next();if(l.done!==v.done)return!1;if(l.done)return!0;if(!s(l.value,v.value))return!1}}R.equals=c})(g=e.Iterable||(e.Iterable={}))}),define(J[62],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeType=e.stripComments=e.visit=e.findNodeAtOffset=e.contains=e.getNodeValue=e.getNodePath=e.findNodeAtLocation=e.parseTree=e.parse=e.getLocation=e.createScanner=e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0;var g;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(g=e.ScanError||(e.ScanError={}));var R;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(R=e.SyntaxKind||(e.SyntaxKind={}));var w;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(w=e.ParseErrorCode||(e.ParseErrorCode={}));var k;(function(t){t.DEFAULT={allowTrailingComma:!0}})(k=e.ParseOptions||(e.ParseOptions={}));function T(t,s=!1){let i=0,r=t.length,l="",v=0,D=16,L=0;function p(Q){let O=0,$=0;for(;O<Q;){const W=t.charCodeAt(i);if(W>=48&&W<=57)$=$*16+W-48;else if(W>=65&&W<=70)$=$*16+W-65+10;else if(W>=97&&W<=102)$=$*16+W-97+10;else break;i++,O++}return O<Q&&($=-1),$}function _(Q){i=Q,l="",v=0,D=16,L=0}function A(){const Q=i;if(t.charCodeAt(i)===48)i++;else for(i++;i<t.length&&m(t.charCodeAt(i));)i++;if(i<t.length&&t.charCodeAt(i)===46)if(i++,i<t.length&&m(t.charCodeAt(i)))for(i++;i<t.length&&m(t.charCodeAt(i));)i++;else return L=3,t.substring(Q,i);let O=i;if(i<t.length&&(t.charCodeAt(i)===69||t.charCodeAt(i)===101))if(i++,(i<t.length&&t.charCodeAt(i)===43||t.charCodeAt(i)===45)&&i++,i<t.length&&m(t.charCodeAt(i))){for(i++;i<t.length&&m(t.charCodeAt(i));)i++;O=i}else L=3;return t.substring(Q,O)}function I(){let Q="",O=i;for(;;){if(i>=r){Q+=t.substring(O,i),L=2;break}const $=t.charCodeAt(i);if($===34){Q+=t.substring(O,i),i++;break}if($===92){if(Q+=t.substring(O,i),i++,i>=r){L=2;break}switch(t.charCodeAt(i++)){case 34:Q+='"';break;case 92:Q+="\\";break;case 47:Q+="/";break;case 98:Q+="\b";break;case 102:Q+="\f";break;case 110:Q+=`
`;break;case 114:Q+="\r";break;case 116:Q+="	";break;case 117:const K=p(4);K>=0?Q+=String.fromCharCode(K):L=4;break;default:L=5}O=i;continue}if($>=0&&$<=31)if(h($)){Q+=t.substring(O,i),L=2;break}else L=6;i++}return Q}function U(){if(l="",L=0,v=i,i>=r)return v=r,D=17;let Q=t.charCodeAt(i);if(S(Q)){do i++,l+=String.fromCharCode(Q),Q=t.charCodeAt(i);while(S(Q));return D=15}if(h(Q))return i++,l+=String.fromCharCode(Q),Q===13&&t.charCodeAt(i)===10&&(i++,l+=`
`),D=14;switch(Q){case 123:return i++,D=1;case 125:return i++,D=2;case 91:return i++,D=3;case 93:return i++,D=4;case 58:return i++,D=6;case 44:return i++,D=5;case 34:return i++,l=I(),D=10;case 47:const O=i-1;if(t.charCodeAt(i+1)===47){for(i+=2;i<r&&!h(t.charCodeAt(i));)i++;return l=t.substring(O,i),D=12}if(t.charCodeAt(i+1)===42){i+=2;const $=r-1;let W=!1;for(;i<$;){if(t.charCodeAt(i)===42&&t.charCodeAt(i+1)===47){i+=2,W=!0;break}i++}return W||(i++,L=1),l=t.substring(O,i),D=13}return l+=String.fromCharCode(Q),i++,D=16;case 45:if(l+=String.fromCharCode(Q),i++,i===r||!m(t.charCodeAt(i)))return D=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l+=A(),D=11;default:for(;i<r&&B(Q);)i++,Q=t.charCodeAt(i);if(v!==i){switch(l=t.substring(v,i),l){case"true":return D=8;case"false":return D=9;case"null":return D=7}return D=16}return l+=String.fromCharCode(Q),i++,D=16}}function B(Q){if(S(Q)||h(Q))return!1;switch(Q){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function ee(){let Q;do Q=U();while(Q>=12&&Q<=15);return Q}return{setPosition:_,getPosition:()=>i,scan:s?ee:U,getToken:()=>D,getTokenValue:()=>l,getTokenOffset:()=>v,getTokenLength:()=>i-v,getTokenError:()=>L}}e.createScanner=T;function S(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}function h(t){return t===10||t===13||t===8232||t===8233}function m(t){return t>=48&&t<=57}var n;(function(t){t[t.nullCharacter=0]="nullCharacter",t[t.maxAsciiCharacter=127]="maxAsciiCharacter",t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.lineSeparator=8232]="lineSeparator",t[t.paragraphSeparator=8233]="paragraphSeparator",t[t.nextLine=133]="nextLine",t[t.space=32]="space",t[t.nonBreakingSpace=160]="nonBreakingSpace",t[t.enQuad=8192]="enQuad",t[t.emQuad=8193]="emQuad",t[t.enSpace=8194]="enSpace",t[t.emSpace=8195]="emSpace",t[t.threePerEmSpace=8196]="threePerEmSpace",t[t.fourPerEmSpace=8197]="fourPerEmSpace",t[t.sixPerEmSpace=8198]="sixPerEmSpace",t[t.figureSpace=8199]="figureSpace",t[t.punctuationSpace=8200]="punctuationSpace",t[t.thinSpace=8201]="thinSpace",t[t.hairSpace=8202]="hairSpace",t[t.zeroWidthSpace=8203]="zeroWidthSpace",t[t.narrowNoBreakSpace=8239]="narrowNoBreakSpace",t[t.ideographicSpace=12288]="ideographicSpace",t[t.mathematicalSpace=8287]="mathematicalSpace",t[t.ogham=5760]="ogham",t[t._=95]="_",t[t.$=36]="$",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.ampersand=38]="ampersand",t[t.asterisk=42]="asterisk",t[t.at=64]="at",t[t.backslash=92]="backslash",t[t.bar=124]="bar",t[t.caret=94]="caret",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.closeParen=41]="closeParen",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.equals=61]="equals",t[t.exclamation=33]="exclamation",t[t.greaterThan=62]="greaterThan",t[t.lessThan=60]="lessThan",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.openParen=40]="openParen",t[t.percent=37]="percent",t[t.plus=43]="plus",t[t.question=63]="question",t[t.semicolon=59]="semicolon",t[t.singleQuote=39]="singleQuote",t[t.slash=47]="slash",t[t.tilde=126]="tilde",t[t.backspace=8]="backspace",t[t.formFeed=12]="formFeed",t[t.byteOrderMark=65279]="byteOrderMark",t[t.tab=9]="tab",t[t.verticalTab=11]="verticalTab"})(n||(n={}));function P(t,s){const i=[],r=new Object;let l;const v={value:{},offset:0,length:0,type:"object",parent:void 0};let D=!1;function L(p,_,A,I){v.value=p,v.offset=_,v.length=A,v.type=I,v.colonOffset=void 0,l=v}try{f(t,{onObjectBegin:(p,_)=>{if(s<=p)throw r;l=void 0,D=s>p,i.push("")},onObjectProperty:(p,_,A)=>{if(s<_||(L(p,_,A,"property"),i[i.length-1]=p,s<=_+A))throw r},onObjectEnd:(p,_)=>{if(s<=p)throw r;l=void 0,i.pop()},onArrayBegin:(p,_)=>{if(s<=p)throw r;l=void 0,i.push(0)},onArrayEnd:(p,_)=>{if(s<=p)throw r;l=void 0,i.pop()},onLiteralValue:(p,_,A)=>{if(s<_||(L(p,_,A,a(p)),s<=_+A))throw r},onSeparator:(p,_,A)=>{if(s<=_)throw r;if(p===":"&&l&&l.type==="property")l.colonOffset=_,D=!1,l=void 0;else if(p===","){const I=i[i.length-1];typeof I=="number"?i[i.length-1]=I+1:(D=!0,i[i.length-1]=""),l=void 0}}})}catch(p){if(p!==r)throw p}return{path:i,previousNode:l,isAtPropertyKey:D,matches:p=>{let _=0;for(let A=0;_<p.length&&A<i.length;A++)if(p[_]===i[A]||p[_]==="*")_++;else if(p[_]!=="**")return!1;return _===p.length}}}e.getLocation=P;function d(t,s=[],i=k.DEFAULT){let r=null,l=[];const v=[];function D(p){Array.isArray(l)?l.push(p):r!==null&&(l[r]=p)}return f(t,{onObjectBegin:()=>{const p={};D(p),v.push(l),l=p,r=null},onObjectProperty:p=>{r=p},onObjectEnd:()=>{l=v.pop()},onArrayBegin:()=>{const p=[];D(p),v.push(l),l=p,r=null},onArrayEnd:()=>{l=v.pop()},onLiteralValue:D,onError:(p,_,A)=>{s.push({error:p,offset:_,length:A})}},i),l[0]}e.parse=d;function b(t,s=[],i=k.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function l(p){r.type==="property"&&(r.length=p-r.offset,r=r.parent)}function v(p){return r.children.push(p),p}f(t,{onObjectBegin:p=>{r=v({type:"object",offset:p,length:-1,parent:r,children:[]})},onObjectProperty:(p,_,A)=>{r=v({type:"property",offset:_,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:p,offset:_,length:A,parent:r})},onObjectEnd:(p,_)=>{r.length=p+_-r.offset,r=r.parent,l(p+_)},onArrayBegin:(p,_)=>{r=v({type:"array",offset:p,length:-1,parent:r,children:[]})},onArrayEnd:(p,_)=>{r.length=p+_-r.offset,r=r.parent,l(p+_)},onLiteralValue:(p,_,A)=>{v({type:a(p),offset:_,length:A,parent:r,value:p}),l(_+A)},onSeparator:(p,_,A)=>{r.type==="property"&&(p===":"?r.colonOffset=_:p===","&&l(_))},onError:(p,_,A)=>{s.push({error:p,offset:_,length:A})}},i);const L=r.children[0];return L&&delete L.parent,L}e.parseTree=b;function o(t,s){if(!t)return;let i=t;for(let r of s)if(typeof r=="string"){if(i.type!=="object"||!Array.isArray(i.children))return;let l=!1;for(const v of i.children)if(Array.isArray(v.children)&&v.children[0].value===r){i=v.children[1],l=!0;break}if(!l)return}else{const l=r;if(i.type!=="array"||l<0||!Array.isArray(i.children)||l>=i.children.length)return;i=i.children[l]}return i}e.findNodeAtLocation=o;function u(t){if(!t.parent||!t.parent.children)return[];const s=u(t.parent);if(t.parent.type==="property"){const i=t.parent.children[0].value;s.push(i)}else if(t.parent.type==="array"){const i=t.parent.children.indexOf(t);i!==-1&&s.push(i)}return s}e.getNodePath=u;function y(t){switch(t.type){case"array":return t.children.map(y);case"object":const s=Object.create(null);for(let i of t.children){const r=i.children[1];r&&(s[i.children[0].value]=y(r))}return s;case"null":case"string":case"number":case"boolean":return t.value;default:return}}e.getNodeValue=y;function E(t,s,i=!1){return s>=t.offset&&s<t.offset+t.length||i&&s===t.offset+t.length}e.contains=E;function C(t,s,i=!1){if(E(t,s,i)){const r=t.children;if(Array.isArray(r))for(let l=0;l<r.length&&r[l].offset<=s;l++){const v=C(r[l],s,i);if(v)return v}return t}}e.findNodeAtOffset=C;function f(t,s,i=k.DEFAULT){const r=T(t,!1);function l(F){return F?()=>F(r.getTokenOffset(),r.getTokenLength()):()=>!0}function v(F){return F?q=>F(q,r.getTokenOffset(),r.getTokenLength()):()=>!0}const D=l(s.onObjectBegin),L=v(s.onObjectProperty),p=l(s.onObjectEnd),_=l(s.onArrayBegin),A=l(s.onArrayEnd),I=v(s.onLiteralValue),U=v(s.onSeparator),B=l(s.onComment),ee=v(s.onError),Q=i&&i.disallowComments,O=i&&i.allowTrailingComma;function $(){for(;;){const F=r.scan();switch(r.getTokenError()){case 4:W(14);break;case 5:W(15);break;case 3:W(13);break;case 1:Q||W(11);break;case 2:W(12);break;case 6:W(16);break}switch(F){case 12:case 13:Q?W(10):B();break;case 16:W(1);break;case 15:case 14:break;default:return F}}}function W(F,q=[],H=[]){if(ee(F),q.length+H.length>0){let Y=r.getToken();for(;Y!==17;){if(q.indexOf(Y)!==-1){$();break}else if(H.indexOf(Y)!==-1)break;Y=$()}}}function K(F){const q=r.getTokenValue();return F?I(q):L(q),$(),!0}function V(){switch(r.getToken()){case 11:let F=0;try{F=JSON.parse(r.getTokenValue()),typeof F!="number"&&(W(2),F=0)}catch(q){W(2)}I(F);break;case 7:I(null);break;case 8:I(!0);break;case 9:I(!1);break;default:return!1}return $(),!0}function M(){return r.getToken()!==10?(W(3,[],[2,5]),!1):(K(!1),r.getToken()===6?(U(":"),$(),N()||W(4,[],[2,5])):W(5,[],[2,5]),!0)}function G(){D(),$();let F=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(F||W(4,[],[]),U(","),$(),r.getToken()===2&&O)break}else F&&W(6,[],[]);M()||W(4,[],[2,5]),F=!0}return p(),r.getToken()!==2?W(7,[2],[]):$(),!0}function z(){_(),$();let F=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(F||W(4,[],[]),U(","),$(),r.getToken()===4&&O)break}else F&&W(6,[],[]);N()||W(4,[],[4,5]),F=!0}return A(),r.getToken()!==4?W(8,[4],[]):$(),!0}function N(){switch(r.getToken()){case 3:return z();case 1:return G();case 10:return K(!0);default:return V()}}return $(),r.getToken()===17?i.allowEmptyContent?!0:(W(4,[],[]),!1):N()?(r.getToken()!==17&&W(9,[],[]),!0):(W(4,[],[]),!1)}e.visit=f;function c(t,s){let i=T(t),r=[],l,v=0,D;do switch(D=i.getPosition(),l=i.scan(),l){case 12:case 13:case 17:v!==D&&r.push(t.substring(v,D)),s!==void 0&&r.push(i.getTokenValue().replace(/[^\r\n]/g,s)),v=i.getPosition();break}while(l!==17);return r.join("")}e.stripComments=c;function a(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}e.getNodeType=a}),define(J[2],Z([0,1,60,61]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.AsyncReferenceCollection=e.ReferenceCollection=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const w=!1;let k=null;function T(i){k=i}if(e.setDisposableTracker=T,w){const i="__is_disposable_tracked__";T(new class{trackDisposable(r){const l=new Error("Potentially leaked disposable").stack;setTimeout(()=>{r[i]||console.log(l)},3e3)}setParent(r,l){if(r&&r!==C.None)try{r[i]=!0}catch{}}markAsDisposed(r){if(r&&r!==C.None)try{r[i]=!0}catch{}}markAsSingleton(r){}})}function S(i){return k?.trackDisposable(i),i}function h(i){k?.markAsDisposed(i)}function m(i,r){k?.setParent(i,r)}function n(i,r){if(!!k)for(const l of i)k.setParent(l,r)}function P(i){return k?.markAsSingleton(i),i}e.markAsSingleton=P;class d extends Error{constructor(r){super(`Encountered errors while disposing of store. Errors: [${r.join(", ")}]`);this.errors=r}}e.MultiDisposeError=d;function b(i){return typeof i.dispose=="function"&&i.dispose.length===0}e.isDisposable=b;function o(i){if(R.Iterable.is(i)){let r=[];for(const l of i)if(l)try{l.dispose()}catch(v){r.push(v)}if(r.length===1)throw r[0];if(r.length>1)throw new d(r);return Array.isArray(i)?[]:i}else if(i)return i.dispose(),i}e.dispose=o;function u(...i){const r=y(()=>o(i));return n(i,r),r}e.combinedDisposable=u;function y(i){const r=S({dispose:(0,g.once)(()=>{h(r),i()})});return r}e.toDisposable=y;class E{constructor(){this._toDispose=new Set,this._isDisposed=!1,S(this)}dispose(){this._isDisposed||(h(this),this._isDisposed=!0,this.clear())}clear(){try{o(this._toDispose.values())}finally{this._toDispose.clear()}}add(r){if(!r)return r;if(r===this)throw new Error("Cannot register a disposable on itself!");return m(r,this),this._isDisposed?E.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(r),r}}e.DisposableStore=E,E.DISABLE_DISPOSED_WARNING=!1;class C{constructor(){this._store=new E,S(this),m(this._store,this)}dispose(){h(this),this._store.dispose()}_register(r){if(r===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(r)}}e.Disposable=C,C.None=Object.freeze({dispose(){}});class f{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(r){this._isDisposed||r===this._value||(this._value?.dispose(),r&&m(r,this),this._value=r)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,h(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){const r=this._value;return this._value=void 0,r&&m(r,null),r}}e.MutableDisposable=f;class c{constructor(r){this._disposable=r,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=c;class a{constructor(){this.references=new Map}acquire(r,...l){let v=this.references.get(r);v||(v={counter:0,object:this.createReferencedObject(r,...l)},this.references.set(r,v));const{object:D}=v,L=(0,g.once)(()=>{--v.counter==0&&(this.destroyReferencedObject(r,v.object),this.references.delete(r))});return v.counter++,{object:D,dispose:L}}}e.ReferenceCollection=a;class t{constructor(r){this.referenceCollection=r}async acquire(r,...l){const v=this.referenceCollection.acquire(r,...l);try{return{object:await v.object,dispose:()=>v.dispose()}}catch(D){throw v.dispose(),D}}}e.AsyncReferenceCollection=t;class s{constructor(r){this.object=r}dispose(){}}e.ImmortalReference=s}),define(J[93],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class g{constructor(k){this.element=k,this.next=g.Undefined,this.prev=g.Undefined}}g.Undefined=new g(void 0);class R{constructor(){this._first=g.Undefined,this._last=g.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===g.Undefined}clear(){let k=this._first;for(;k!==g.Undefined;){const T=k.next;k.prev=g.Undefined,k.next=g.Undefined,k=T}this._first=g.Undefined,this._last=g.Undefined,this._size=0}unshift(k){return this._insert(k,!1)}push(k){return this._insert(k,!0)}_insert(k,T){const S=new g(k);if(this._first===g.Undefined)this._first=S,this._last=S;else if(T){const m=this._last;this._last=S,S.prev=m,m.next=S}else{const m=this._first;this._first=S,S.next=m,m.prev=S}this._size+=1;let h=!1;return()=>{h||(h=!0,this._remove(S))}}shift(){if(this._first!==g.Undefined){const k=this._first.element;return this._remove(this._first),k}}pop(){if(this._last!==g.Undefined){const k=this._last.element;return this._remove(this._last),k}}_remove(k){if(k.prev!==g.Undefined&&k.next!==g.Undefined){const T=k.prev;T.next=k.next,k.next.prev=T}else k.prev===g.Undefined&&k.next===g.Undefined?(this._first=g.Undefined,this._last=g.Undefined):k.next===g.Undefined?(this._last=this._last.prev,this._last.next=g.Undefined):k.prev===g.Undefined&&(this._first=this._first.next,this._first.prev=g.Undefined);this._size-=1}*[Symbol.iterator](){let k=this._first;for(;k!==g.Undefined;)yield k.element,k=k.next}}e.LinkedList=R}),function(){function x(w){const k=[];typeof w=="number"&&k.push("code/timeOrigin",w);function T(h){k.push(h,Date.now())}function S(){const h=[];for(let m=0;m<k.length;m+=2)h.push({name:k[m],startTime:k[m+1]});return h}return{mark:T,getMarks:S}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function")return typeof performance.timeOrigin!="number"&&!performance.timing?x():{mark(w){performance.mark(w)},getMarks(){let w=performance.timeOrigin;typeof w!="number"&&(w=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const k=[{name:"code/timeOrigin",startTime:Math.round(w)}];for(const T of performance.getEntriesByType("mark"))k.push({name:T.name,startTime:Math.round(w+T.startTime)});return k}};if(typeof process=="object"){const w=Math.round((require.nodeRequire||require)("perf_hooks").performance.timeOrigin);return x(w)}else return console.trace("perf-util loaded in UNKNOWN environment"),x()}function g(w){return w.MonacoPerformanceMarks||(w.MonacoPerformanceMarks=e()),w.MonacoPerformanceMarks}var R;typeof global=="object"?R=global:typeof self=="object"?R=self:R={},typeof define=="function"?define("vs/base/common/performance",[],function(){return g(R)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=g(R):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),R.perf=g(R))}(),define(J[3],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.OperatingSystem=e.setImmediate=e.translationsConfigFile=e.locale=e.Language=e.language=e.userAgent=e.platform=e.isIOS=e.isWeb=e.isNative=e.isLinuxSnap=e.isLinux=e.isMacintosh=e.isWindows=e.PlatformToString=e.Platform=e.isElectronSandboxed=e.globals=void 0;const g="en";let R=!1,w=!1,k=!1,T=!1,S=!1,h=!1,m=!1,n,P=g,d,b;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let o;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?o=e.globals.vscode.process:typeof process!="undefined"&&(o=process);const u=typeof o?.versions?.electron=="string"&&o.type==="renderer";if(e.isElectronSandboxed=u&&o?.sandboxed,typeof navigator=="object"&&!u){b=navigator.userAgent,R=b.indexOf("Windows")>=0,w=b.indexOf("Macintosh")>=0,m=(b.indexOf("Macintosh")>=0||b.indexOf("iPad")>=0||b.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,k=b.indexOf("Linux")>=0,h=!0,n=navigator.language,P=n;const i=typeof document!="undefined"&&document.getElementById("vscode-remote-nls-configuration"),r=i&&i.getAttribute("data-settings");if(r)try{const l=JSON.parse(r);n=l.locale,d=l._translationsConfigFile,P=l.availableLanguages["*"]||g}catch(l){}}else if(typeof o=="object"){R=o.platform==="win32",w=o.platform==="darwin",k=o.platform==="linux",T=k&&!!o.env.SNAP&&!!o.env.SNAP_REVISION,n=g,P=g;const i=o.env.VSCODE_NLS_CONFIG;if(i)try{const r=JSON.parse(i),l=r.availableLanguages["*"];n=r.locale,P=l||g,d=r._translationsConfigFile}catch(r){}S=!0}else console.error("Unable to resolve platform.");var y;(function(i){i[i.Web=0]="Web",i[i.Mac=1]="Mac",i[i.Linux=2]="Linux",i[i.Windows=3]="Windows"})(y=e.Platform||(e.Platform={}));function E(i){switch(i){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}e.PlatformToString=E;let C=0;w?C=1:R?C=3:k&&(C=2),e.isWindows=R,e.isMacintosh=w,e.isLinux=k,e.isLinuxSnap=T,e.isNative=S,e.isWeb=h,e.isIOS=m,e.platform=C,e.userAgent=b,e.language=P;var f;(function(i){function r(){return e.language}i.value=r;function l(){return e.language.length===2?e.language==="en":e.language.length>=3?e.language[0]==="e"&&e.language[1]==="n"&&e.language[2]==="-":!1}i.isDefaultVariant=l;function v(){return e.language==="en"}i.isDefault=v})(f=e.Language||(e.Language={})),e.locale=n,e.translationsConfigFile=d,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let l=[];e.globals.addEventListener("message",D=>{if(D.data&&D.data.vscodeSetImmediateId)for(let L=0,p=l.length;L<p;L++){const _=l[L];if(_.id===D.data.vscodeSetImmediateId){l.splice(L,1),_.callback();return}}});let v=0;return D=>{const L=++v;l.push({id:L,callback:D}),e.globals.postMessage({vscodeSetImmediateId:L},"*")}}if(typeof o?.nextTick=="function")return o.nextTick.bind(o);const r=Promise.resolve();return l=>r.then(l)}();var c;(function(i){i[i.Windows=1]="Windows",i[i.Macintosh=2]="Macintosh",i[i.Linux=3]="Linux"})(c=e.OperatingSystem||(e.OperatingSystem={})),e.OS=w||m?2:R?1:3;let a=!0,t=!1;function s(){if(!t){t=!0;const i=new Uint8Array(2);i[0]=1,i[1]=2,a=new Uint16Array(i.buffer)[0]===(2<<8)+1}return a}e.isLittleEndian=s}),define(J[24],Z([0,1,3]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arch=e.nextTick=e.platform=e.env=e.cwd=void 0;let R;if(typeof g.globals.vscode!="undefined"&&typeof g.globals.vscode.process!="undefined"){const w=g.globals.vscode.process;R={get platform(){return w.platform},get arch(){return w.arch},get env(){return w.env},cwd(){return w.cwd()},nextTick(k){return(0,g.setImmediate)(k)}}}else typeof process!="undefined"?R={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(w){return process.nextTick(w)}}:R={get platform(){return g.isWindows?"win32":g.isMacintosh?"darwin":"linux"},get arch(){},nextTick(w){return(0,g.setImmediate)(w)},get env(){return{}},cwd(){return"/"}};e.cwd=R.cwd,e.env=R.env,e.platform=R.platform,e.nextTick=R.nextTick,e.arch=R.arch}),define(J[5],Z([0,1,24]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delimiter=e.sep=e.toNamespacedPath=e.parse=e.format=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.join=e.isAbsolute=e.normalize=e.posix=e.win32=void 0;const R=65,w=97,k=90,T=122,S=46,h=47,m=92,n=58,P=63;class d extends Error{constructor(c,a,t){let s;typeof a=="string"&&a.indexOf("not ")===0?(s="must not be",a=a.replace(/^not /,"")):s="must be";const i=c.indexOf(".")!==-1?"property":"argument";let r=`The "${c}" ${i} ${s} of type ${a}`;r+=`. Received type ${typeof t}`,super(r),this.code="ERR_INVALID_ARG_TYPE"}}function b(f,c){if(typeof f!="string")throw new d(c,"string",f)}function o(f){return f===h||f===m}function u(f){return f===h}function y(f){return f>=R&&f<=k||f>=w&&f<=T}function E(f,c,a,t){let s="",i=0,r=-1,l=0,v=0;for(let D=0;D<=f.length;++D){if(D<f.length)v=f.charCodeAt(D);else{if(t(v))break;v=h}if(t(v)){if(!(r===D-1||l===1))if(l===2){if(s.length<2||i!==2||s.charCodeAt(s.length-1)!==S||s.charCodeAt(s.length-2)!==S){if(s.length>2){const L=s.lastIndexOf(a);L===-1?(s="",i=0):(s=s.slice(0,L),i=s.length-1-s.lastIndexOf(a)),r=D,l=0;continue}else if(s.length!==0){s="",i=0,r=D,l=0;continue}}c&&(s+=s.length>0?`${a}..`:"..",i=2)}else s.length>0?s+=`${a}${f.slice(r+1,D)}`:s=f.slice(r+1,D),i=D-r-1;r=D,l=0}else v===S&&l!==-1?++l:l=-1}return s}function C(f,c){if(c===null||typeof c!="object")throw new d("pathObject","Object",c);const a=c.dir||c.root,t=c.base||`${c.name||""}${c.ext||""}`;return a?a===c.root?`${a}${t}`:`${a}${f}${t}`:t}e.win32={resolve(...f){let c="",a="",t=!1;for(let s=f.length-1;s>=-1;s--){let i;if(s>=0){if(i=f[s],b(i,"path"),i.length===0)continue}else c.length===0?i=g.cwd():(i=g.env[`=${c}`]||g.cwd(),(i===void 0||i.slice(0,2).toLowerCase()!==c.toLowerCase()&&i.charCodeAt(2)===m)&&(i=`${c}\\`));const r=i.length;let l=0,v="",D=!1;const L=i.charCodeAt(0);if(r===1)o(L)&&(l=1,D=!0);else if(o(L))if(D=!0,o(i.charCodeAt(1))){let p=2,_=p;for(;p<r&&!o(i.charCodeAt(p));)p++;if(p<r&&p!==_){const A=i.slice(_,p);for(_=p;p<r&&o(i.charCodeAt(p));)p++;if(p<r&&p!==_){for(_=p;p<r&&!o(i.charCodeAt(p));)p++;(p===r||p!==_)&&(v=`\\\\${A}\\${i.slice(_,p)}`,l=p)}}}else l=1;else y(L)&&i.charCodeAt(1)===n&&(v=i.slice(0,2),l=2,r>2&&o(i.charCodeAt(2))&&(D=!0,l=3));if(v.length>0)if(c.length>0){if(v.toLowerCase()!==c.toLowerCase())continue}else c=v;if(t){if(c.length>0)break}else if(a=`${i.slice(l)}\\${a}`,t=D,D&&c.length>0)break}return a=E(a,!t,"\\",o),t?`${c}\\${a}`:`${c}${a}`||"."},normalize(f){b(f,"path");const c=f.length;if(c===0)return".";let a=0,t,s=!1;const i=f.charCodeAt(0);if(c===1)return u(i)?"\\":f;if(o(i))if(s=!0,o(f.charCodeAt(1))){let l=2,v=l;for(;l<c&&!o(f.charCodeAt(l));)l++;if(l<c&&l!==v){const D=f.slice(v,l);for(v=l;l<c&&o(f.charCodeAt(l));)l++;if(l<c&&l!==v){for(v=l;l<c&&!o(f.charCodeAt(l));)l++;if(l===c)return`\\\\${D}\\${f.slice(v)}\\`;l!==v&&(t=`\\\\${D}\\${f.slice(v,l)}`,a=l)}}}else a=1;else y(i)&&f.charCodeAt(1)===n&&(t=f.slice(0,2),a=2,c>2&&o(f.charCodeAt(2))&&(s=!0,a=3));let r=a<c?E(f.slice(a),!s,"\\",o):"";return r.length===0&&!s&&(r="."),r.length>0&&o(f.charCodeAt(c-1))&&(r+="\\"),t===void 0?s?`\\${r}`:r:s?`${t}\\${r}`:`${t}${r}`},isAbsolute(f){b(f,"path");const c=f.length;if(c===0)return!1;const a=f.charCodeAt(0);return o(a)||c>2&&y(a)&&f.charCodeAt(1)===n&&o(f.charCodeAt(2))},join(...f){if(f.length===0)return".";let c,a;for(let i=0;i<f.length;++i){const r=f[i];b(r,"path"),r.length>0&&(c===void 0?c=a=r:c+=`\\${r}`)}if(c===void 0)return".";let t=!0,s=0;if(typeof a=="string"&&o(a.charCodeAt(0))){++s;const i=a.length;i>1&&o(a.charCodeAt(1))&&(++s,i>2&&(o(a.charCodeAt(2))?++s:t=!1))}if(t){for(;s<c.length&&o(c.charCodeAt(s));)s++;s>=2&&(c=`\\${c.slice(s)}`)}return e.win32.normalize(c)},relative(f,c){if(b(f,"from"),b(c,"to"),f===c)return"";const a=e.win32.resolve(f),t=e.win32.resolve(c);if(a===t||(f=a.toLowerCase(),c=t.toLowerCase(),f===c))return"";let s=0;for(;s<f.length&&f.charCodeAt(s)===m;)s++;let i=f.length;for(;i-1>s&&f.charCodeAt(i-1)===m;)i--;const r=i-s;let l=0;for(;l<c.length&&c.charCodeAt(l)===m;)l++;let v=c.length;for(;v-1>l&&c.charCodeAt(v-1)===m;)v--;const D=v-l,L=r<D?r:D;let p=-1,_=0;for(;_<L;_++){const I=f.charCodeAt(s+_);if(I!==c.charCodeAt(l+_))break;I===m&&(p=_)}if(_!==L){if(p===-1)return t}else{if(D>L){if(c.charCodeAt(l+_)===m)return t.slice(l+_+1);if(_===2)return t.slice(l+_)}r>L&&(f.charCodeAt(s+_)===m?p=_:_===2&&(p=3)),p===-1&&(p=0)}let A="";for(_=s+p+1;_<=i;++_)(_===i||f.charCodeAt(_)===m)&&(A+=A.length===0?"..":"\\..");return l+=p,A.length>0?`${A}${t.slice(l,v)}`:(t.charCodeAt(l)===m&&++l,t.slice(l,v))},toNamespacedPath(f){if(typeof f!="string")return f;if(f.length===0)return"";const c=e.win32.resolve(f);if(c.length<=2)return f;if(c.charCodeAt(0)===m){if(c.charCodeAt(1)===m){const a=c.charCodeAt(2);if(a!==P&&a!==S)return`\\\\?\\UNC\\${c.slice(2)}`}}else if(y(c.charCodeAt(0))&&c.charCodeAt(1)===n&&c.charCodeAt(2)===m)return`\\\\?\\${c}`;return f},dirname(f){b(f,"path");const c=f.length;if(c===0)return".";let a=-1,t=0;const s=f.charCodeAt(0);if(c===1)return o(s)?f:".";if(o(s)){if(a=t=1,o(f.charCodeAt(1))){let l=2,v=l;for(;l<c&&!o(f.charCodeAt(l));)l++;if(l<c&&l!==v){for(v=l;l<c&&o(f.charCodeAt(l));)l++;if(l<c&&l!==v){for(v=l;l<c&&!o(f.charCodeAt(l));)l++;if(l===c)return f;l!==v&&(a=t=l+1)}}}}else y(s)&&f.charCodeAt(1)===n&&(a=c>2&&o(f.charCodeAt(2))?3:2,t=a);let i=-1,r=!0;for(let l=c-1;l>=t;--l)if(o(f.charCodeAt(l))){if(!r){i=l;break}}else r=!1;if(i===-1){if(a===-1)return".";i=a}return f.slice(0,i)},basename(f,c){c!==void 0&&b(c,"ext"),b(f,"path");let a=0,t=-1,s=!0,i;if(f.length>=2&&y(f.charCodeAt(0))&&f.charCodeAt(1)===n&&(a=2),c!==void 0&&c.length>0&&c.length<=f.length){if(c===f)return"";let r=c.length-1,l=-1;for(i=f.length-1;i>=a;--i){const v=f.charCodeAt(i);if(o(v)){if(!s){a=i+1;break}}else l===-1&&(s=!1,l=i+1),r>=0&&(v===c.charCodeAt(r)?--r==-1&&(t=i):(r=-1,t=l))}return a===t?t=l:t===-1&&(t=f.length),f.slice(a,t)}for(i=f.length-1;i>=a;--i)if(o(f.charCodeAt(i))){if(!s){a=i+1;break}}else t===-1&&(s=!1,t=i+1);return t===-1?"":f.slice(a,t)},extname(f){b(f,"path");let c=0,a=-1,t=0,s=-1,i=!0,r=0;f.length>=2&&f.charCodeAt(1)===n&&y(f.charCodeAt(0))&&(c=t=2);for(let l=f.length-1;l>=c;--l){const v=f.charCodeAt(l);if(o(v)){if(!i){t=l+1;break}continue}s===-1&&(i=!1,s=l+1),v===S?a===-1?a=l:r!==1&&(r=1):a!==-1&&(r=-1)}return a===-1||s===-1||r===0||r===1&&a===s-1&&a===t+1?"":f.slice(a,s)},format:C.bind(null,"\\"),parse(f){b(f,"path");const c={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return c;const a=f.length;let t=0,s=f.charCodeAt(0);if(a===1)return o(s)?(c.root=c.dir=f,c):(c.base=c.name=f,c);if(o(s)){if(t=1,o(f.charCodeAt(1))){let p=2,_=p;for(;p<a&&!o(f.charCodeAt(p));)p++;if(p<a&&p!==_){for(_=p;p<a&&o(f.charCodeAt(p));)p++;if(p<a&&p!==_){for(_=p;p<a&&!o(f.charCodeAt(p));)p++;p===a?t=p:p!==_&&(t=p+1)}}}}else if(y(s)&&f.charCodeAt(1)===n){if(a<=2)return c.root=c.dir=f,c;if(t=2,o(f.charCodeAt(2))){if(a===3)return c.root=c.dir=f,c;t=3}}t>0&&(c.root=f.slice(0,t));let i=-1,r=t,l=-1,v=!0,D=f.length-1,L=0;for(;D>=t;--D){if(s=f.charCodeAt(D),o(s)){if(!v){r=D+1;break}continue}l===-1&&(v=!1,l=D+1),s===S?i===-1?i=D:L!==1&&(L=1):i!==-1&&(L=-1)}return l!==-1&&(i===-1||L===0||L===1&&i===l-1&&i===r+1?c.base=c.name=f.slice(r,l):(c.name=f.slice(r,i),c.base=f.slice(r,l),c.ext=f.slice(i,l))),r>0&&r!==t?c.dir=f.slice(0,r-1):c.dir=c.root,c},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...f){let c="",a=!1;for(let t=f.length-1;t>=-1&&!a;t--){const s=t>=0?f[t]:g.cwd();b(s,"path"),s.length!==0&&(c=`${s}/${c}`,a=s.charCodeAt(0)===h)}return c=E(c,!a,"/",u),a?`/${c}`:c.length>0?c:"."},normalize(f){if(b(f,"path"),f.length===0)return".";const c=f.charCodeAt(0)===h,a=f.charCodeAt(f.length-1)===h;return f=E(f,!c,"/",u),f.length===0?c?"/":a?"./":".":(a&&(f+="/"),c?`/${f}`:f)},isAbsolute(f){return b(f,"path"),f.length>0&&f.charCodeAt(0)===h},join(...f){if(f.length===0)return".";let c;for(let a=0;a<f.length;++a){const t=f[a];b(t,"path"),t.length>0&&(c===void 0?c=t:c+=`/${t}`)}return c===void 0?".":e.posix.normalize(c)},relative(f,c){if(b(f,"from"),b(c,"to"),f===c||(f=e.posix.resolve(f),c=e.posix.resolve(c),f===c))return"";const a=1,t=f.length,s=t-a,i=1,r=c.length-i,l=s<r?s:r;let v=-1,D=0;for(;D<l;D++){const p=f.charCodeAt(a+D);if(p!==c.charCodeAt(i+D))break;p===h&&(v=D)}if(D===l)if(r>l){if(c.charCodeAt(i+D)===h)return c.slice(i+D+1);if(D===0)return c.slice(i+D)}else s>l&&(f.charCodeAt(a+D)===h?v=D:D===0&&(v=0));let L="";for(D=a+v+1;D<=t;++D)(D===t||f.charCodeAt(D)===h)&&(L+=L.length===0?"..":"/..");return`${L}${c.slice(i+v)}`},toNamespacedPath(f){return f},dirname(f){if(b(f,"path"),f.length===0)return".";const c=f.charCodeAt(0)===h;let a=-1,t=!0;for(let s=f.length-1;s>=1;--s)if(f.charCodeAt(s)===h){if(!t){a=s;break}}else t=!1;return a===-1?c?"/":".":c&&a===1?"//":f.slice(0,a)},basename(f,c){c!==void 0&&b(c,"ext"),b(f,"path");let a=0,t=-1,s=!0,i;if(c!==void 0&&c.length>0&&c.length<=f.length){if(c===f)return"";let r=c.length-1,l=-1;for(i=f.length-1;i>=0;--i){const v=f.charCodeAt(i);if(v===h){if(!s){a=i+1;break}}else l===-1&&(s=!1,l=i+1),r>=0&&(v===c.charCodeAt(r)?--r==-1&&(t=i):(r=-1,t=l))}return a===t?t=l:t===-1&&(t=f.length),f.slice(a,t)}for(i=f.length-1;i>=0;--i)if(f.charCodeAt(i)===h){if(!s){a=i+1;break}}else t===-1&&(s=!1,t=i+1);return t===-1?"":f.slice(a,t)},extname(f){b(f,"path");let c=-1,a=0,t=-1,s=!0,i=0;for(let r=f.length-1;r>=0;--r){const l=f.charCodeAt(r);if(l===h){if(!s){a=r+1;break}continue}t===-1&&(s=!1,t=r+1),l===S?c===-1?c=r:i!==1&&(i=1):c!==-1&&(i=-1)}return c===-1||t===-1||i===0||i===1&&c===t-1&&c===a+1?"":f.slice(c,t)},format:C.bind(null,"/"),parse(f){b(f,"path");const c={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return c;const a=f.charCodeAt(0)===h;let t;a?(c.root="/",t=1):t=0;let s=-1,i=0,r=-1,l=!0,v=f.length-1,D=0;for(;v>=t;--v){const L=f.charCodeAt(v);if(L===h){if(!l){i=v+1;break}continue}r===-1&&(l=!1,r=v+1),L===S?s===-1?s=v:D!==1&&(D=1):s!==-1&&(D=-1)}if(r!==-1){const L=i===0&&a?1:i;s===-1||D===0||D===1&&s===r-1&&s===i+1?c.base=c.name=f.slice(L,r):(c.name=f.slice(L,s),c.base=f.slice(L,r),c.ext=f.slice(s,r))}return i>0?c.dir=f.slice(0,i-1):a&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=g.platform==="win32"?e.win32.normalize:e.posix.normalize,e.isAbsolute=g.platform==="win32"?e.win32.isAbsolute:e.posix.isAbsolute,e.join=g.platform==="win32"?e.win32.join:e.posix.join,e.resolve=g.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=g.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=g.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=g.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=g.platform==="win32"?e.win32.extname:e.posix.extname,e.format=g.platform==="win32"?e.win32.format:e.posix.format,e.parse=g.platform==="win32"?e.win32.parse:e.posix.parse,e.toNamespacedPath=g.platform==="win32"?e.win32.toNamespacedPath:e.posix.toNamespacedPath,e.sep=g.platform==="win32"?e.win32.sep:e.posix.sep,e.delimiter=g.platform==="win32"?e.win32.delimiter:e.posix.delimiter}),define(J[94],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeProcessEnvironment=e.TerminateResponseCode=e.Source=void 0;var g;(function(k){k[k.stdout=0]="stdout",k[k.stderr=1]="stderr"})(g=e.Source||(e.Source={}));var R;(function(k){k[k.Success=0]="Success",k[k.Unknown=1]="Unknown",k[k.AccessDenied=2]="AccessDenied",k[k.ProcessNotFound=3]="ProcessNotFound"})(R=e.TerminateResponseCode||(e.TerminateResponseCode={}));function w(k,...T){const S=T.reduce((n,P)=>(n[P]=!0,n),{}),h=[/^ELECTRON_.+$/,/^VSCODE_.+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/,/^CODE_SERVER_.+$/];Object.keys(k).filter(n=>!S[n]).forEach(n=>{for(let P=0;P<h.length;P++)if(n.search(h[P])!==-1){delete k[n];break}})}e.sanitizeProcessEnvironment=w}),function(x,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("vs/base/common/semver/semver",[],e);else{var g=e();for(var R in g)(typeof exports=="object"?exports:x)[R]=g[R]}}(typeof self!="undefined"?self:this,function(){return function(x){var e={};function g(R){if(e[R])return e[R].exports;var w=e[R]={i:R,l:!1,exports:{}};return x[R].call(w.exports,w,w.exports,g),w.l=!0,w.exports}return g.m=x,g.c=e,g.d=function(R,w,k){g.o(R,w)||Object.defineProperty(R,w,{enumerable:!0,get:k})},g.r=function(R){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})},g.t=function(R,w){if(1&w&&(R=g(R)),8&w||4&w&&typeof R=="object"&&R&&R.__esModule)return R;var k=Object.create(null);if(g.r(k),Object.defineProperty(k,"default",{enumerable:!0,value:R}),2&w&&typeof R!="string")for(var T in R)g.d(k,T,function(S){return R[S]}.bind(null,T));return k},g.n=function(R){var w=R&&R.__esModule?function(){return R.default}:function(){return R};return g.d(w,"a",w),w},g.o=function(R,w){return Object.prototype.hasOwnProperty.call(R,w)},g.p="",g(g.s=0)}([function(x,e,g){(function(R){var w;e=x.exports=H,w=typeof R=="object"&&R.env&&R.env.NODE_DEBUG&&/\bsemver\b/i.test(R.env.NODE_DEBUG)?function(){var X=Array.prototype.slice.call(arguments,0);X.unshift("SEMVER"),console.log.apply(console,X)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var k=256,T=Number.MAX_SAFE_INTEGER||9007199254740991,S=e.re=[],h=e.src=[],m=0,n=m++;h[n]="0|[1-9]\\d*";var P=m++;h[P]="[0-9]+";var d=m++;h[d]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var b=m++;h[b]="("+h[n]+")\\.("+h[n]+")\\.("+h[n]+")";var o=m++;h[o]="("+h[P]+")\\.("+h[P]+")\\.("+h[P]+")";var u=m++;h[u]="(?:"+h[n]+"|"+h[d]+")";var y=m++;h[y]="(?:"+h[P]+"|"+h[d]+")";var E=m++;h[E]="(?:-("+h[u]+"(?:\\."+h[u]+")*))";var C=m++;h[C]="(?:-?("+h[y]+"(?:\\."+h[y]+")*))";var f=m++;h[f]="[0-9A-Za-z-]+";var c=m++;h[c]="(?:\\+("+h[f]+"(?:\\."+h[f]+")*))";var a=m++,t="v?"+h[b]+h[E]+"?"+h[c]+"?";h[a]="^"+t+"$";var s="[v=\\s]*"+h[o]+h[C]+"?"+h[c]+"?",i=m++;h[i]="^"+s+"$";var r=m++;h[r]="((?:<|>)?=?)";var l=m++;h[l]=h[P]+"|x|X|\\*";var v=m++;h[v]=h[n]+"|x|X|\\*";var D=m++;h[D]="[v=\\s]*("+h[v]+")(?:\\.("+h[v]+")(?:\\.("+h[v]+")(?:"+h[E]+")?"+h[c]+"?)?)?";var L=m++;h[L]="[v=\\s]*("+h[l]+")(?:\\.("+h[l]+")(?:\\.("+h[l]+")(?:"+h[C]+")?"+h[c]+"?)?)?";var p=m++;h[p]="^"+h[r]+"\\s*"+h[D]+"$";var _=m++;h[_]="^"+h[r]+"\\s*"+h[L]+"$";var A=m++;h[A]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var I=m++;h[I]="(?:~>?)";var U=m++;h[U]="(\\s*)"+h[I]+"\\s+",S[U]=new RegExp(h[U],"g");var B=m++;h[B]="^"+h[I]+h[D]+"$";var ee=m++;h[ee]="^"+h[I]+h[L]+"$";var Q=m++;h[Q]="(?:\\^)";var O=m++;h[O]="(\\s*)"+h[Q]+"\\s+",S[O]=new RegExp(h[O],"g");var $=m++;h[$]="^"+h[Q]+h[D]+"$";var W=m++;h[W]="^"+h[Q]+h[L]+"$";var K=m++;h[K]="^"+h[r]+"\\s*("+s+")$|^$";var V=m++;h[V]="^"+h[r]+"\\s*("+t+")$|^$";var M=m++;h[M]="(\\s*)"+h[r]+"\\s*("+s+"|"+h[D]+")",S[M]=new RegExp(h[M],"g");var G=m++;h[G]="^\\s*("+h[D]+")\\s+-\\s+("+h[D]+")\\s*$";var z=m++;h[z]="^\\s*("+h[L]+")\\s+-\\s+("+h[L]+")\\s*$";var N=m++;h[N]="(<|>)?=?\\s*\\*";for(var F=0;F<35;F++)w(F,h[F]),S[F]||(S[F]=new RegExp(h[F]));function q(X,re){if(X instanceof H)return X;if(typeof X!="string"||X.length>k||!(re?S[i]:S[a]).test(X))return null;try{return new H(X,re)}catch(ie){return null}}function H(X,re){if(X instanceof H){if(X.loose===re)return X;X=X.version}else if(typeof X!="string")throw new TypeError("Invalid Version: "+X);if(X.length>k)throw new TypeError("version is longer than "+k+" characters");if(!(this instanceof H))return new H(X,re);w("SemVer",X,re),this.loose=re;var ie=X.trim().match(re?S[i]:S[a]);if(!ie)throw new TypeError("Invalid Version: "+X);if(this.raw=X,this.major=+ie[1],this.minor=+ie[2],this.patch=+ie[3],this.major>T||this.major<0)throw new TypeError("Invalid major version");if(this.minor>T||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>T||this.patch<0)throw new TypeError("Invalid patch version");ie[4]?this.prerelease=ie[4].split(".").map(function(de){if(/^[0-9]+$/.test(de)){var ye=+de;if(ye>=0&&ye<T)return ye}return de}):this.prerelease=[],this.build=ie[5]?ie[5].split("."):[],this.format()}e.parse=q,e.valid=function(X,re){var ie=q(X,re);return ie?ie.version:null},e.clean=function(X,re){var ie=q(X.trim().replace(/^[=v]+/,""),re);return ie?ie.version:null},e.SemVer=H,H.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},H.prototype.toString=function(){return this.version},H.prototype.compare=function(X){return w("SemVer.compare",this.version,this.loose,X),X instanceof H||(X=new H(X,this.loose)),this.compareMain(X)||this.comparePre(X)},H.prototype.compareMain=function(X){return X instanceof H||(X=new H(X,this.loose)),te(this.major,X.major)||te(this.minor,X.minor)||te(this.patch,X.patch)},H.prototype.comparePre=function(X){if(X instanceof H||(X=new H(X,this.loose)),this.prerelease.length&&!X.prerelease.length)return-1;if(!this.prerelease.length&&X.prerelease.length)return 1;if(!this.prerelease.length&&!X.prerelease.length)return 0;var re=0;do{var ie=this.prerelease[re],de=X.prerelease[re];if(w("prerelease compare",re,ie,de),ie===void 0&&de===void 0)return 0;if(de===void 0)return 1;if(ie===void 0)return-1;if(ie!==de)return te(ie,de)}while(++re)},H.prototype.inc=function(X,re){switch(X){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",re);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",re);break;case"prepatch":this.prerelease.length=0,this.inc("patch",re),this.inc("pre",re);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",re),this.inc("pre",re);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var ie=this.prerelease.length;--ie>=0;)typeof this.prerelease[ie]=="number"&&(this.prerelease[ie]++,ie=-2);ie===-1&&this.prerelease.push(0)}re&&(this.prerelease[0]===re?isNaN(this.prerelease[1])&&(this.prerelease=[re,0]):this.prerelease=[re,0]);break;default:throw new Error("invalid increment argument: "+X)}return this.format(),this.raw=this.version,this},e.inc=function(X,re,ie,de){typeof ie=="string"&&(de=ie,ie=void 0);try{return new H(X,ie).inc(re,de).version}catch(ye){return null}},e.diff=function(X,re){if(he(X,re))return null;var ie=q(X),de=q(re);if(ie.prerelease.length||de.prerelease.length){for(var ye in ie)if((ye==="major"||ye==="minor"||ye==="patch")&&ie[ye]!==de[ye])return"pre"+ye;return"prerelease"}for(var ye in ie)if((ye==="major"||ye==="minor"||ye==="patch")&&ie[ye]!==de[ye])return ye},e.compareIdentifiers=te;var Y=/^[0-9]+$/;function te(X,re){var ie=Y.test(X),de=Y.test(re);return ie&&de&&(X=+X,re=+re),ie&&!de?-1:de&&!ie?1:X<re?-1:X>re?1:0}function oe(X,re,ie){return new H(X,ie).compare(new H(re,ie))}function se(X,re,ie){return oe(X,re,ie)>0}function ce(X,re,ie){return oe(X,re,ie)<0}function he(X,re,ie){return oe(X,re,ie)===0}function me(X,re,ie){return oe(X,re,ie)!==0}function De(X,re,ie){return oe(X,re,ie)>=0}function Oe(X,re,ie){return oe(X,re,ie)<=0}function Ce(X,re,ie,de){var ye;switch(re){case"===":typeof X=="object"&&(X=X.version),typeof ie=="object"&&(ie=ie.version),ye=X===ie;break;case"!==":typeof X=="object"&&(X=X.version),typeof ie=="object"&&(ie=ie.version),ye=X!==ie;break;case"":case"=":case"==":ye=he(X,ie,de);break;case"!=":ye=me(X,ie,de);break;case">":ye=se(X,ie,de);break;case">=":ye=De(X,ie,de);break;case"<":ye=ce(X,ie,de);break;case"<=":ye=Oe(X,ie,de);break;default:throw new TypeError("Invalid operator: "+re)}return ye}function Re(X,re){if(X instanceof Re){if(X.loose===re)return X;X=X.value}if(!(this instanceof Re))return new Re(X,re);w("comparator",X,re),this.loose=re,this.parse(X),this.semver===Me?this.value="":this.value=this.operator+this.semver.version,w("comp",this)}e.rcompareIdentifiers=function(X,re){return te(re,X)},e.major=function(X,re){return new H(X,re).major},e.minor=function(X,re){return new H(X,re).minor},e.patch=function(X,re){return new H(X,re).patch},e.compare=oe,e.compareLoose=function(X,re){return oe(X,re,!0)},e.rcompare=function(X,re,ie){return oe(re,X,ie)},e.sort=function(X,re){return X.sort(function(ie,de){return e.compare(ie,de,re)})},e.rsort=function(X,re){return X.sort(function(ie,de){return e.rcompare(ie,de,re)})},e.gt=se,e.lt=ce,e.eq=he,e.neq=me,e.gte=De,e.lte=Oe,e.cmp=Ce,e.Comparator=Re;var Me={};function pe(X,re){if(X instanceof pe)return X.loose===re?X:new pe(X.raw,re);if(X instanceof Re)return new pe(X.value,re);if(!(this instanceof pe))return new pe(X,re);if(this.loose=re,this.raw=X,this.set=X.split(/\s*\|\|\s*/).map(function(ie){return this.parseRange(ie.trim())},this).filter(function(ie){return ie.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+X);this.format()}function be(X){return!X||X.toLowerCase()==="x"||X==="*"}function Ee(X,re,ie,de,ye,ke,Ie,Ne,Ae,j,ne,ae,le){return((re=be(ie)?"":be(de)?">="+ie+".0.0":be(ye)?">="+ie+"."+de+".0":">="+re)+" "+(Ne=be(Ae)?"":be(j)?"<"+(+Ae+1)+".0.0":be(ne)?"<"+Ae+"."+(+j+1)+".0":ae?"<="+Ae+"."+j+"."+ne+"-"+ae:"<="+Ne)).trim()}function Fe(X,re){for(var ie=0;ie<X.length;ie++)if(!X[ie].test(re))return!1;if(re.prerelease.length){for(ie=0;ie<X.length;ie++)if(w(X[ie].semver),X[ie].semver!==Me&&X[ie].semver.prerelease.length>0){var de=X[ie].semver;if(de.major===re.major&&de.minor===re.minor&&de.patch===re.patch)return!0}return!1}return!0}function _e(X,re,ie){try{re=new pe(re,ie)}catch(de){return!1}return re.test(X)}function Ue(X,re,ie,de){var ye,ke,Ie,Ne,Ae;switch(X=new H(X,de),re=new pe(re,de),ie){case">":ye=se,ke=Oe,Ie=ce,Ne=">",Ae=">=";break;case"<":ye=ce,ke=De,Ie=se,Ne="<",Ae="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(_e(X,re,de))return!1;for(var j=0;j<re.set.length;++j){var ne=re.set[j],ae=null,le=null;if(ne.forEach(function(ue){ue.semver===Me&&(ue=new Re(">=0.0.0")),ae=ae||ue,le=le||ue,ye(ue.semver,ae.semver,de)?ae=ue:Ie(ue.semver,le.semver,de)&&(le=ue)}),ae.operator===Ne||ae.operator===Ae||(!le.operator||le.operator===Ne)&&ke(X,le.semver)||le.operator===Ae&&Ie(X,le.semver))return!1}return!0}Re.prototype.parse=function(X){var re=this.loose?S[K]:S[V],ie=X.match(re);if(!ie)throw new TypeError("Invalid comparator: "+X);this.operator=ie[1],this.operator==="="&&(this.operator=""),ie[2]?this.semver=new H(ie[2],this.loose):this.semver=Me},Re.prototype.toString=function(){return this.value},Re.prototype.test=function(X){return w("Comparator.test",X,this.loose),this.semver===Me||(typeof X=="string"&&(X=new H(X,this.loose)),Ce(X,this.operator,this.semver,this.loose))},Re.prototype.intersects=function(X,re){if(!(X instanceof Re))throw new TypeError("a Comparator is required");var ie;if(this.operator==="")return ie=new pe(X.value,re),_e(this.value,ie,re);if(X.operator==="")return ie=new pe(this.value,re),_e(X.semver,ie,re);var de=!(this.operator!==">="&&this.operator!==">"||X.operator!==">="&&X.operator!==">"),ye=!(this.operator!=="<="&&this.operator!=="<"||X.operator!=="<="&&X.operator!=="<"),ke=this.semver.version===X.semver.version,Ie=!(this.operator!==">="&&this.operator!=="<="||X.operator!==">="&&X.operator!=="<="),Ne=Ce(this.semver,"<",X.semver,re)&&(this.operator===">="||this.operator===">")&&(X.operator==="<="||X.operator==="<"),Ae=Ce(this.semver,">",X.semver,re)&&(this.operator==="<="||this.operator==="<")&&(X.operator===">="||X.operator===">");return de||ye||ke&&Ie||Ne||Ae},e.Range=pe,pe.prototype.format=function(){return this.range=this.set.map(function(X){return X.join(" ").trim()}).join("||").trim(),this.range},pe.prototype.toString=function(){return this.range},pe.prototype.parseRange=function(X){var re=this.loose;X=X.trim(),w("range",X,re);var ie=re?S[z]:S[G];X=X.replace(ie,Ee),w("hyphen replace",X),X=X.replace(S[M],"$1$2$3"),w("comparator trim",X,S[M]),X=(X=(X=X.replace(S[U],"$1~")).replace(S[O],"$1^")).split(/\s+/).join(" ");var de=re?S[K]:S[V],ye=X.split(" ").map(function(ke){return function(Ie,Ne){return w("comp",Ie),Ie=function(Ae,j){return Ae.trim().split(/\s+/).map(function(ne){return function(ae,le){w("caret",ae,le);var ue=le?S[W]:S[$];return ae.replace(ue,function(Se,fe,ve,Pe,Le){var Te;return w("caret",ae,Se,fe,ve,Pe,Le),be(fe)?Te="":be(ve)?Te=">="+fe+".0.0 <"+(+fe+1)+".0.0":be(Pe)?Te=fe==="0"?">="+fe+"."+ve+".0 <"+fe+"."+(+ve+1)+".0":">="+fe+"."+ve+".0 <"+(+fe+1)+".0.0":Le?(w("replaceCaret pr",Le),Le.charAt(0)!=="-"&&(Le="-"+Le),Te=fe==="0"?ve==="0"?">="+fe+"."+ve+"."+Pe+Le+" <"+fe+"."+ve+"."+(+Pe+1):">="+fe+"."+ve+"."+Pe+Le+" <"+fe+"."+(+ve+1)+".0":">="+fe+"."+ve+"."+Pe+Le+" <"+(+fe+1)+".0.0"):(w("no pr"),Te=fe==="0"?ve==="0"?">="+fe+"."+ve+"."+Pe+" <"+fe+"."+ve+"."+(+Pe+1):">="+fe+"."+ve+"."+Pe+" <"+fe+"."+(+ve+1)+".0":">="+fe+"."+ve+"."+Pe+" <"+(+fe+1)+".0.0"),w("caret return",Te),Te})}(ne,j)}).join(" ")}(Ie,Ne),w("caret",Ie),Ie=function(Ae,j){return Ae.trim().split(/\s+/).map(function(ne){return function(ae,le){var ue=le?S[ee]:S[B];return ae.replace(ue,function(Se,fe,ve,Pe,Le){var Te;return w("tilde",ae,Se,fe,ve,Pe,Le),be(fe)?Te="":be(ve)?Te=">="+fe+".0.0 <"+(+fe+1)+".0.0":be(Pe)?Te=">="+fe+"."+ve+".0 <"+fe+"."+(+ve+1)+".0":Le?(w("replaceTilde pr",Le),Le.charAt(0)!=="-"&&(Le="-"+Le),Te=">="+fe+"."+ve+"."+Pe+Le+" <"+fe+"."+(+ve+1)+".0"):Te=">="+fe+"."+ve+"."+Pe+" <"+fe+"."+(+ve+1)+".0",w("tilde return",Te),Te})}(ne,j)}).join(" ")}(Ie,Ne),w("tildes",Ie),Ie=function(Ae,j){return w("replaceXRanges",Ae,j),Ae.split(/\s+/).map(function(ne){return function(ae,le){ae=ae.trim();var ue=le?S[_]:S[p];return ae.replace(ue,function(Se,fe,ve,Pe,Le,Te){w("xRange",ae,Se,fe,ve,Pe,Le,Te);var je=be(ve),Be=je||be(Pe),$e=Be||be(Le);return fe==="="&&$e&&(fe=""),je?Se=fe===">"||fe==="<"?"<0.0.0":"*":fe&&$e?(Be&&(Pe=0),$e&&(Le=0),fe===">"?(fe=">=",Be?(ve=+ve+1,Pe=0,Le=0):$e&&(Pe=+Pe+1,Le=0)):fe==="<="&&(fe="<",Be?ve=+ve+1:Pe=+Pe+1),Se=fe+ve+"."+Pe+"."+Le):Be?Se=">="+ve+".0.0 <"+(+ve+1)+".0.0":$e&&(Se=">="+ve+"."+Pe+".0 <"+ve+"."+(+Pe+1)+".0"),w("xRange return",Se),Se})}(ne,j)}).join(" ")}(Ie,Ne),w("xrange",Ie),Ie=function(Ae,j){return w("replaceStars",Ae,j),Ae.trim().replace(S[N],"")}(Ie,Ne),w("stars",Ie),Ie}(ke,re)}).join(" ").split(/\s+/);return this.loose&&(ye=ye.filter(function(ke){return!!ke.match(de)})),ye=ye.map(function(ke){return new Re(ke,re)})},pe.prototype.intersects=function(X,re){if(!(X instanceof pe))throw new TypeError("a Range is required");return this.set.some(function(ie){return ie.every(function(de){return X.set.some(function(ye){return ye.every(function(ke){return de.intersects(ke,re)})})})})},e.toComparators=function(X,re){return new pe(X,re).set.map(function(ie){return ie.map(function(de){return de.value}).join(" ").trim().split(" ")})},pe.prototype.test=function(X){if(!X)return!1;typeof X=="string"&&(X=new H(X,this.loose));for(var re=0;re<this.set.length;re++)if(Fe(this.set[re],X))return!0;return!1},e.satisfies=_e,e.maxSatisfying=function(X,re,ie){var de=null,ye=null;try{var ke=new pe(re,ie)}catch(Ie){return null}return X.forEach(function(Ie){ke.test(Ie)&&(de&&ye.compare(Ie)!==-1||(ye=new H(de=Ie,ie)))}),de},e.minSatisfying=function(X,re,ie){var de=null,ye=null;try{var ke=new pe(re,ie)}catch(Ie){return null}return X.forEach(function(Ie){ke.test(Ie)&&(de&&ye.compare(Ie)!==1||(ye=new H(de=Ie,ie)))}),de},e.validRange=function(X,re){try{return new pe(X,re).range||"*"}catch(ie){return null}},e.ltr=function(X,re,ie){return Ue(X,re,"<",ie)},e.gtr=function(X,re,ie){return Ue(X,re,">",ie)},e.outside=Ue,e.prerelease=function(X,re){var ie=q(X,re);return ie&&ie.prerelease.length?ie.prerelease:null},e.intersects=function(X,re,ie){return X=new pe(X,ie),re=new pe(re,ie),X.intersects(re)},e.coerce=function(X){if(X instanceof H)return X;if(typeof X!="string")return null;var re=X.match(S[A]);return re==null?null:q((re[1]||"0")+"."+(re[2]||"0")+"."+(re[3]||"0"))}}).call(this,g(1))},function(x,e){var g,R,w=x.exports={};function k(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}function S(y){if(g===setTimeout)return setTimeout(y,0);if((g===k||!g)&&setTimeout)return g=setTimeout,setTimeout(y,0);try{return g(y,0)}catch(E){try{return g.call(null,y,0)}catch(C){return g.call(this,y,0)}}}(function(){try{g=typeof setTimeout=="function"?setTimeout:k}catch(y){g=k}try{R=typeof clearTimeout=="function"?clearTimeout:T}catch(y){R=T}})();var h,m=[],n=!1,P=-1;function d(){n&&h&&(n=!1,h.length?m=h.concat(m):P=-1,m.length&&b())}function b(){if(!n){var y=S(d);n=!0;for(var E=m.length;E;){for(h=m,m=[];++P<E;)h&&h[P].run();P=-1,E=m.length}h=null,n=!1,function(C){if(R===clearTimeout)return clearTimeout(C);if((R===T||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(C);try{R(C)}catch(f){try{return R.call(null,C)}catch(c){return R.call(this,C)}}}(y)}}function o(y,E){this.fun=y,this.array=E}function u(){}w.nextTick=function(y){var E=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)E[C-1]=arguments[C];m.push(new o(y,E)),m.length!==1||n||S(b)},o.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=u,w.addListener=u,w.once=u,w.off=u,w.removeListener=u,w.removeAllListeners=u,w.emit=u,w.prependListener=u,w.prependOnceListener=u,w.listeners=function(y){return[]},w.binding=function(y){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(y){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}}])}),define(J[95],Z([0,1,3]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const R=g.globals.performance&&typeof g.globals.performance.now=="function";class w{constructor(T){this._highResolution=R&&T,this._startTime=this._now(),this._stopTime=-1}static create(T=!0){return new w(T)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?g.globals.performance.now():Date.now()}}e.StopWatch=w}),define(J[6],Z([0,1,11,60,2,93,95]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.DebounceEmitter=e.PauseableEmitter=e.AsyncEmitter=e.Emitter=e.setGlobalLeakWarningThreshold=e.Event=void 0;var S;(function(f){f.None=()=>w.Disposable.None;function c(Q){return(O,$=null,W)=>{let K=!1,V;return V=Q(M=>{if(!K)return V?V.dispose():K=!0,O.call($,M)},null,W),K&&V.dispose(),V}}f.once=c;function a(Q,O){return v(($,W=null,K)=>Q(V=>$.call(W,O(V)),null,K))}f.map=a;function t(Q,O){return v(($,W=null,K)=>Q(V=>{O(V),$.call(W,V)},null,K))}f.forEach=t;function s(Q,O){return v(($,W=null,K)=>Q(V=>O(V)&&$.call(W,V),null,K))}f.filter=s;function i(Q){return Q}f.signal=i;function r(...Q){return(O,$=null,W)=>(0,w.combinedDisposable)(...Q.map(K=>K(V=>O.call($,V),null,W)))}f.any=r;function l(Q,O,$){let W=$;return a(Q,K=>(W=O(W,K),W))}f.reduce=l;function v(Q){let O;const $=new d({onFirstListenerAdd(){O=Q($.fire,$)},onLastListenerRemove(){O.dispose()}});return $.event}function D(Q,O,$=100,W=!1,K){let V,M,G,z=0;const N=new d({leakWarningThreshold:K,onFirstListenerAdd(){V=Q(F=>{z++,M=O(M,F),W&&!G&&(N.fire(M),M=void 0),clearTimeout(G),G=setTimeout(()=>{const q=M;M=void 0,G=void 0,(!W||z>1)&&N.fire(q),z=0},$)})},onLastListenerRemove(){V.dispose()}});return N.event}f.debounce=D;function L(Q,O=($,W)=>$===W){let $=!0,W;return s(Q,K=>{const V=$||!O(K,W);return $=!1,W=K,V})}f.latch=L;function p(Q,O){return[f.filter(Q,O),f.filter(Q,$=>!O($))]}f.split=p;function _(Q,O=!1,$=[]){let W=$.slice(),K=Q(G=>{W?W.push(G):M.fire(G)});const V=()=>{W&&W.forEach(G=>M.fire(G)),W=null},M=new d({onFirstListenerAdd(){K||(K=Q(G=>M.fire(G)))},onFirstListenerDidAdd(){W&&(O?setTimeout(V):V())},onLastListenerRemove(){K&&K.dispose(),K=null}});return M.event}f.buffer=_;class A{constructor(O){this.event=O}map(O){return new A(a(this.event,O))}forEach(O){return new A(t(this.event,O))}filter(O){return new A(s(this.event,O))}reduce(O,$){return new A(l(this.event,O,$))}latch(){return new A(L(this.event))}debounce(O,$=100,W=!1,K){return new A(D(this.event,O,$,W,K))}on(O,$,W){return this.event(O,$,W)}once(O,$,W){return c(this.event)(O,$,W)}}function I(Q){return new A(Q)}f.chain=I;function U(Q,O,$=W=>W){const W=(...G)=>M.fire($(...G)),K=()=>Q.on(O,W),V=()=>Q.removeListener(O,W),M=new d({onFirstListenerAdd:K,onLastListenerRemove:V});return M.event}f.fromNodeEventEmitter=U;function B(Q,O,$=W=>W){const W=(...G)=>M.fire($(...G)),K=()=>Q.addEventListener(O,W),V=()=>Q.removeEventListener(O,W),M=new d({onFirstListenerAdd:K,onLastListenerRemove:V});return M.event}f.fromDOMEventEmitter=B;function ee(Q){return new Promise(O=>c(Q)(O))}f.toPromise=ee})(S=e.Event||(e.Event={}));class h{constructor(c){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${c}_${h._idPool++}`}start(c){this._stopWatch=new T.StopWatch(!0),this._listenerCount=c}stop(){if(this._stopWatch){const c=this._stopWatch.elapsed();this._elapsedOverall+=c,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${c.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}h._idPool=0;let m=-1;function n(f){const c=m;return m=f,{dispose(){m=c}}}e.setGlobalLeakWarningThreshold=n;class P{constructor(c,a=Math.random().toString(18).slice(2,5)){this.customThreshold=c,this.name=a,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(c){let a=m;if(typeof this.customThreshold=="number"&&(a=this.customThreshold),a<=0||c<a)return;this._stacks||(this._stacks=new Map);const t=new Error().stack.split(`
`).slice(3).join(`
`),s=this._stacks.get(t)||0;if(this._stacks.set(t,s+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=a*.5;let i,r=0;for(const[l,v]of this._stacks)(!i||r<v)&&(i=l,r=v);console.warn(`[${this.name}] potential listener LEAK detected, having ${c} listeners already. MOST frequent listener (${r}):`),console.warn(i)}return()=>{const i=this._stacks.get(t)||0;this._stacks.set(t,i-1)}}}class d{constructor(c){this._disposed=!1,this._options=c,this._leakageMon=m>0?new P(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=this._options?._profName?new h(this._options._profName):void 0}get event(){return this._event||(this._event=(c,a,t)=>{this._listeners||(this._listeners=new k.LinkedList);const s=this._listeners.isEmpty();s&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const i=this._listeners.push(a?[c,a]:c);s&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,c,a);const r=this._leakageMon?.check(this._listeners.size),l=(0,w.toDisposable)(()=>{r&&r(),this._disposed||(i(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return t instanceof w.DisposableStore?t.add(l):Array.isArray(t)&&t.push(l),l}),this._event}fire(c){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new k.LinkedList);for(let a of this._listeners)this._deliveryQueue.push([a,c]);for(this._perfMon?.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[a,t]=this._deliveryQueue.shift();try{typeof a=="function"?a.call(void 0,t):a[0].call(a[1],t)}catch(s){(0,g.onUnexpectedError)(s)}}this._perfMon?.stop()}}dispose(){this._disposed||(this._disposed=!0,this._listeners?.clear(),this._deliveryQueue?.clear(),this._options?.onLastListenerRemove?.(),this._leakageMon?.dispose())}}e.Emitter=d;class b extends d{async fireAsync(c,a,t){if(!!this._listeners){this._asyncDeliveryQueue||(this._asyncDeliveryQueue=new k.LinkedList);for(const s of this._listeners)this._asyncDeliveryQueue.push([s,c]);for(;this._asyncDeliveryQueue.size>0&&!a.isCancellationRequested;){const[s,i]=this._asyncDeliveryQueue.shift(),r=[],l={...i,waitUntil:v=>{if(Object.isFrozen(r))throw new Error("waitUntil can NOT be called asynchronous");t&&(v=t(v,typeof s=="function"?s:s[0])),r.push(v)}};try{typeof s=="function"?s.call(void 0,l):s[0].call(s[1],l)}catch(v){(0,g.onUnexpectedError)(v);continue}Object.freeze(r),await Promise.allSettled(r).then(v=>{for(const D of v)D.status==="rejected"&&(0,g.onUnexpectedError)(D.reason)})}}}}e.AsyncEmitter=b;class o extends d{constructor(c){super(c);this._isPaused=0,this._eventQueue=new k.LinkedList,this._mergeFn=c?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const c=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(c))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(c){this._listeners&&(this._isPaused!==0?this._eventQueue.push(c):super.fire(c))}}e.PauseableEmitter=o;class u extends o{constructor(c){super(c);this._delay=c.delay??100}fire(c){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(c)}}e.DebounceEmitter=u;class y{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new d({onFirstListenerAdd:()=>this.onFirstListenerAdd(),onLastListenerRemove:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(c){const a={event:c,listener:null};this.events.push(a),this.hasListeners&&this.hook(a);const t=()=>{this.hasListeners&&this.unhook(a);const s=this.events.indexOf(a);this.events.splice(s,1)};return(0,w.toDisposable)((0,R.once)(t))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(c=>this.hook(c))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(c=>this.unhook(c))}hook(c){c.listener=c.event(a=>this.emitter.fire(a))}unhook(c){c.listener&&c.listener.dispose(),c.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=y;class E{constructor(){this.buffers=[]}wrapEvent(c){return(a,t,s)=>c(i=>{const r=this.buffers[this.buffers.length-1];r?r.push(()=>a.call(t,i)):a.call(t,i)},void 0,s)}bufferEvents(c){const a=[];this.buffers.push(a);const t=c();return this.buffers.pop(),a.forEach(s=>s()),t}}e.EventBufferer=E;class C{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=w.Disposable.None,this.emitter=new d({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(c){this.inputEvent=c,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=c(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=C}),define(J[25],Z([0,1,6]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const R=Object.freeze(function(S,h){const m=setTimeout(S.bind(h),0);return{dispose(){clearTimeout(m)}}});var w;(function(S){function h(m){return m===S.None||m===S.Cancelled||m instanceof k?!0:!m||typeof m!="object"?!1:typeof m.isCancellationRequested=="boolean"&&typeof m.onCancellationRequested=="function"}S.isCancellationToken=h,S.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:g.Event.None}),S.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:R})})(w=e.CancellationToken||(e.CancellationToken={}));class k{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?R:(this._emitter||(this._emitter=new g.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class T{constructor(h){this._token=void 0,this._parentListener=void 0,this._parentListener=h&&h.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new k),this._token}cancel(){this._token?this._token instanceof k&&this._token.cancel():this._token=w.Cancelled}dispose(h=!1){h&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof k&&this._token.dispose():this._token=w.None}}e.CancellationTokenSource=T}),define(J[43],Z([0,1,6]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.getClassNamesArray=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class R{constructor(){this._icons=new Map,this._onDidRegister=new g.Emitter}add(P){const d=this._icons.get(P.id);d?P.description?d.description=P.description:console.error(`Duplicate registration of codicon ${P.id}`):(this._icons.set(P.id,P),this._onDidRegister.fire(P))}get(P){return this._icons.get(P)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const w=new R;e.iconRegistry=w;function k(n,P){return new S(n,P)}e.registerCodicon=k;function T(n){return n?n.replace(/\$\((.*?)\)/g,(P,d)=>` ${d} `).trim():""}e.getCodiconAriaLabel=T;class S{constructor(P,d,b){this.id=P,this.definition=d,this.description=b,w.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=S;function h(n,P){const d=["codicon","codicon-"+n];return P&&d.push("codicon-modifier-"+P),d}e.getClassNamesArray=h;var m;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9\\-]+",n.iconModifierExpression="~[A-Za-z]+";const P=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function d(u){if(u instanceof S)return["codicon","codicon-"+u.id];const y=P.exec(u.id);if(!y)return d(S.error);let[,E,C]=y;const f=["codicon","codicon-"+E];return C&&f.push("codicon-modifier-"+C.substr(1)),f}n.asClassNameArray=d;function b(u){return d(u).join(" ")}n.asClassName=b;function o(u){return"."+d(u).join(".")}n.asCSSSelector=o})(m=e.CSSIcon||(e.CSSIcon={})),function(n){n.add=new n("add",{fontCharacter:"\\ea60"}),n.plus=new n("plus",{fontCharacter:"\\ea60"}),n.gistNew=new n("gist-new",{fontCharacter:"\\ea60"}),n.repoCreate=new n("repo-create",{fontCharacter:"\\ea60"}),n.lightbulb=new n("lightbulb",{fontCharacter:"\\ea61"}),n.lightBulb=new n("light-bulb",{fontCharacter:"\\ea61"}),n.repo=new n("repo",{fontCharacter:"\\ea62"}),n.repoDelete=new n("repo-delete",{fontCharacter:"\\ea62"}),n.gistFork=new n("gist-fork",{fontCharacter:"\\ea63"}),n.repoForked=new n("repo-forked",{fontCharacter:"\\ea63"}),n.gitPullRequest=new n("git-pull-request",{fontCharacter:"\\ea64"}),n.gitPullRequestAbandoned=new n("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),n.recordKeys=new n("record-keys",{fontCharacter:"\\ea65"}),n.keyboard=new n("keyboard",{fontCharacter:"\\ea65"}),n.tag=new n("tag",{fontCharacter:"\\ea66"}),n.tagAdd=new n("tag-add",{fontCharacter:"\\ea66"}),n.tagRemove=new n("tag-remove",{fontCharacter:"\\ea66"}),n.person=new n("person",{fontCharacter:"\\ea67"}),n.personFollow=new n("person-follow",{fontCharacter:"\\ea67"}),n.personOutline=new n("person-outline",{fontCharacter:"\\ea67"}),n.personFilled=new n("person-filled",{fontCharacter:"\\ea67"}),n.gitBranch=new n("git-branch",{fontCharacter:"\\ea68"}),n.gitBranchCreate=new n("git-branch-create",{fontCharacter:"\\ea68"}),n.gitBranchDelete=new n("git-branch-delete",{fontCharacter:"\\ea68"}),n.sourceControl=new n("source-control",{fontCharacter:"\\ea68"}),n.mirror=new n("mirror",{fontCharacter:"\\ea69"}),n.mirrorPublic=new n("mirror-public",{fontCharacter:"\\ea69"}),n.star=new n("star",{fontCharacter:"\\ea6a"}),n.starAdd=new n("star-add",{fontCharacter:"\\ea6a"}),n.starDelete=new n("star-delete",{fontCharacter:"\\ea6a"}),n.starEmpty=new n("star-empty",{fontCharacter:"\\ea6a"}),n.comment=new n("comment",{fontCharacter:"\\ea6b"}),n.commentAdd=new n("comment-add",{fontCharacter:"\\ea6b"}),n.alert=new n("alert",{fontCharacter:"\\ea6c"}),n.warning=new n("warning",{fontCharacter:"\\ea6c"}),n.search=new n("search",{fontCharacter:"\\ea6d"}),n.searchSave=new n("search-save",{fontCharacter:"\\ea6d"}),n.logOut=new n("log-out",{fontCharacter:"\\ea6e"}),n.signOut=new n("sign-out",{fontCharacter:"\\ea6e"}),n.logIn=new n("log-in",{fontCharacter:"\\ea6f"}),n.signIn=new n("sign-in",{fontCharacter:"\\ea6f"}),n.eye=new n("eye",{fontCharacter:"\\ea70"}),n.eyeUnwatch=new n("eye-unwatch",{fontCharacter:"\\ea70"}),n.eyeWatch=new n("eye-watch",{fontCharacter:"\\ea70"}),n.circleFilled=new n("circle-filled",{fontCharacter:"\\ea71"}),n.primitiveDot=new n("primitive-dot",{fontCharacter:"\\ea71"}),n.closeDirty=new n("close-dirty",{fontCharacter:"\\ea71"}),n.debugBreakpoint=new n("debug-breakpoint",{fontCharacter:"\\ea71"}),n.debugBreakpointDisabled=new n("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),n.debugHint=new n("debug-hint",{fontCharacter:"\\ea71"}),n.primitiveSquare=new n("primitive-square",{fontCharacter:"\\ea72"}),n.edit=new n("edit",{fontCharacter:"\\ea73"}),n.pencil=new n("pencil",{fontCharacter:"\\ea73"}),n.info=new n("info",{fontCharacter:"\\ea74"}),n.issueOpened=new n("issue-opened",{fontCharacter:"\\ea74"}),n.gistPrivate=new n("gist-private",{fontCharacter:"\\ea75"}),n.gitForkPrivate=new n("git-fork-private",{fontCharacter:"\\ea75"}),n.lock=new n("lock",{fontCharacter:"\\ea75"}),n.mirrorPrivate=new n("mirror-private",{fontCharacter:"\\ea75"}),n.close=new n("close",{fontCharacter:"\\ea76"}),n.removeClose=new n("remove-close",{fontCharacter:"\\ea76"}),n.x=new n("x",{fontCharacter:"\\ea76"}),n.repoSync=new n("repo-sync",{fontCharacter:"\\ea77"}),n.sync=new n("sync",{fontCharacter:"\\ea77"}),n.clone=new n("clone",{fontCharacter:"\\ea78"}),n.desktopDownload=new n("desktop-download",{fontCharacter:"\\ea78"}),n.beaker=new n("beaker",{fontCharacter:"\\ea79"}),n.microscope=new n("microscope",{fontCharacter:"\\ea79"}),n.vm=new n("vm",{fontCharacter:"\\ea7a"}),n.deviceDesktop=new n("device-desktop",{fontCharacter:"\\ea7a"}),n.file=new n("file",{fontCharacter:"\\ea7b"}),n.fileText=new n("file-text",{fontCharacter:"\\ea7b"}),n.more=new n("more",{fontCharacter:"\\ea7c"}),n.ellipsis=new n("ellipsis",{fontCharacter:"\\ea7c"}),n.kebabHorizontal=new n("kebab-horizontal",{fontCharacter:"\\ea7c"}),n.mailReply=new n("mail-reply",{fontCharacter:"\\ea7d"}),n.reply=new n("reply",{fontCharacter:"\\ea7d"}),n.organization=new n("organization",{fontCharacter:"\\ea7e"}),n.organizationFilled=new n("organization-filled",{fontCharacter:"\\ea7e"}),n.organizationOutline=new n("organization-outline",{fontCharacter:"\\ea7e"}),n.newFile=new n("new-file",{fontCharacter:"\\ea7f"}),n.fileAdd=new n("file-add",{fontCharacter:"\\ea7f"}),n.newFolder=new n("new-folder",{fontCharacter:"\\ea80"}),n.fileDirectoryCreate=new n("file-directory-create",{fontCharacter:"\\ea80"}),n.trash=new n("trash",{fontCharacter:"\\ea81"}),n.trashcan=new n("trashcan",{fontCharacter:"\\ea81"}),n.history=new n("history",{fontCharacter:"\\ea82"}),n.clock=new n("clock",{fontCharacter:"\\ea82"}),n.folder=new n("folder",{fontCharacter:"\\ea83"}),n.fileDirectory=new n("file-directory",{fontCharacter:"\\ea83"}),n.symbolFolder=new n("symbol-folder",{fontCharacter:"\\ea83"}),n.logoGithub=new n("logo-github",{fontCharacter:"\\ea84"}),n.markGithub=new n("mark-github",{fontCharacter:"\\ea84"}),n.github=new n("github",{fontCharacter:"\\ea84"}),n.terminal=new n("terminal",{fontCharacter:"\\ea85"}),n.console=new n("console",{fontCharacter:"\\ea85"}),n.repl=new n("repl",{fontCharacter:"\\ea85"}),n.zap=new n("zap",{fontCharacter:"\\ea86"}),n.symbolEvent=new n("symbol-event",{fontCharacter:"\\ea86"}),n.error=new n("error",{fontCharacter:"\\ea87"}),n.stop=new n("stop",{fontCharacter:"\\ea87"}),n.variable=new n("variable",{fontCharacter:"\\ea88"}),n.symbolVariable=new n("symbol-variable",{fontCharacter:"\\ea88"}),n.array=new n("array",{fontCharacter:"\\ea8a"}),n.symbolArray=new n("symbol-array",{fontCharacter:"\\ea8a"}),n.symbolModule=new n("symbol-module",{fontCharacter:"\\ea8b"}),n.symbolPackage=new n("symbol-package",{fontCharacter:"\\ea8b"}),n.symbolNamespace=new n("symbol-namespace",{fontCharacter:"\\ea8b"}),n.symbolObject=new n("symbol-object",{fontCharacter:"\\ea8b"}),n.symbolMethod=new n("symbol-method",{fontCharacter:"\\ea8c"}),n.symbolFunction=new n("symbol-function",{fontCharacter:"\\ea8c"}),n.symbolConstructor=new n("symbol-constructor",{fontCharacter:"\\ea8c"}),n.symbolBoolean=new n("symbol-boolean",{fontCharacter:"\\ea8f"}),n.symbolNull=new n("symbol-null",{fontCharacter:"\\ea8f"}),n.symbolNumeric=new n("symbol-numeric",{fontCharacter:"\\ea90"}),n.symbolNumber=new n("symbol-number",{fontCharacter:"\\ea90"}),n.symbolStructure=new n("symbol-structure",{fontCharacter:"\\ea91"}),n.symbolStruct=new n("symbol-struct",{fontCharacter:"\\ea91"}),n.symbolParameter=new n("symbol-parameter",{fontCharacter:"\\ea92"}),n.symbolTypeParameter=new n("symbol-type-parameter",{fontCharacter:"\\ea92"}),n.symbolKey=new n("symbol-key",{fontCharacter:"\\ea93"}),n.symbolText=new n("symbol-text",{fontCharacter:"\\ea93"}),n.symbolReference=new n("symbol-reference",{fontCharacter:"\\ea94"}),n.goToFile=new n("go-to-file",{fontCharacter:"\\ea94"}),n.symbolEnum=new n("symbol-enum",{fontCharacter:"\\ea95"}),n.symbolValue=new n("symbol-value",{fontCharacter:"\\ea95"}),n.symbolRuler=new n("symbol-ruler",{fontCharacter:"\\ea96"}),n.symbolUnit=new n("symbol-unit",{fontCharacter:"\\ea96"}),n.activateBreakpoints=new n("activate-breakpoints",{fontCharacter:"\\ea97"}),n.archive=new n("archive",{fontCharacter:"\\ea98"}),n.arrowBoth=new n("arrow-both",{fontCharacter:"\\ea99"}),n.arrowDown=new n("arrow-down",{fontCharacter:"\\ea9a"}),n.arrowLeft=new n("arrow-left",{fontCharacter:"\\ea9b"}),n.arrowRight=new n("arrow-right",{fontCharacter:"\\ea9c"}),n.arrowSmallDown=new n("arrow-small-down",{fontCharacter:"\\ea9d"}),n.arrowSmallLeft=new n("arrow-small-left",{fontCharacter:"\\ea9e"}),n.arrowSmallRight=new n("arrow-small-right",{fontCharacter:"\\ea9f"}),n.arrowSmallUp=new n("arrow-small-up",{fontCharacter:"\\eaa0"}),n.arrowUp=new n("arrow-up",{fontCharacter:"\\eaa1"}),n.bell=new n("bell",{fontCharacter:"\\eaa2"}),n.bold=new n("bold",{fontCharacter:"\\eaa3"}),n.book=new n("book",{fontCharacter:"\\eaa4"}),n.bookmark=new n("bookmark",{fontCharacter:"\\eaa5"}),n.debugBreakpointConditionalUnverified=new n("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),n.debugBreakpointConditional=new n("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),n.debugBreakpointConditionalDisabled=new n("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),n.debugBreakpointDataUnverified=new n("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),n.debugBreakpointData=new n("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),n.debugBreakpointDataDisabled=new n("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),n.debugBreakpointLogUnverified=new n("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),n.debugBreakpointLog=new n("debug-breakpoint-log",{fontCharacter:"\\eaab"}),n.debugBreakpointLogDisabled=new n("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),n.briefcase=new n("briefcase",{fontCharacter:"\\eaac"}),n.broadcast=new n("broadcast",{fontCharacter:"\\eaad"}),n.browser=new n("browser",{fontCharacter:"\\eaae"}),n.bug=new n("bug",{fontCharacter:"\\eaaf"}),n.calendar=new n("calendar",{fontCharacter:"\\eab0"}),n.caseSensitive=new n("case-sensitive",{fontCharacter:"\\eab1"}),n.check=new n("check",{fontCharacter:"\\eab2"}),n.checklist=new n("checklist",{fontCharacter:"\\eab3"}),n.chevronDown=new n("chevron-down",{fontCharacter:"\\eab4"}),n.chevronLeft=new n("chevron-left",{fontCharacter:"\\eab5"}),n.chevronRight=new n("chevron-right",{fontCharacter:"\\eab6"}),n.chevronUp=new n("chevron-up",{fontCharacter:"\\eab7"}),n.chromeClose=new n("chrome-close",{fontCharacter:"\\eab8"}),n.chromeMaximize=new n("chrome-maximize",{fontCharacter:"\\eab9"}),n.chromeMinimize=new n("chrome-minimize",{fontCharacter:"\\eaba"}),n.chromeRestore=new n("chrome-restore",{fontCharacter:"\\eabb"}),n.circleOutline=new n("circle-outline",{fontCharacter:"\\eabc"}),n.debugBreakpointUnverified=new n("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),n.circleSlash=new n("circle-slash",{fontCharacter:"\\eabd"}),n.circuitBoard=new n("circuit-board",{fontCharacter:"\\eabe"}),n.clearAll=new n("clear-all",{fontCharacter:"\\eabf"}),n.clippy=new n("clippy",{fontCharacter:"\\eac0"}),n.closeAll=new n("close-all",{fontCharacter:"\\eac1"}),n.cloudDownload=new n("cloud-download",{fontCharacter:"\\eac2"}),n.cloudUpload=new n("cloud-upload",{fontCharacter:"\\eac3"}),n.code=new n("code",{fontCharacter:"\\eac4"}),n.collapseAll=new n("collapse-all",{fontCharacter:"\\eac5"}),n.colorMode=new n("color-mode",{fontCharacter:"\\eac6"}),n.commentDiscussion=new n("comment-discussion",{fontCharacter:"\\eac7"}),n.compareChanges=new n("compare-changes",{fontCharacter:"\\eafd"}),n.creditCard=new n("credit-card",{fontCharacter:"\\eac9"}),n.dash=new n("dash",{fontCharacter:"\\eacc"}),n.dashboard=new n("dashboard",{fontCharacter:"\\eacd"}),n.database=new n("database",{fontCharacter:"\\eace"}),n.debugContinue=new n("debug-continue",{fontCharacter:"\\eacf"}),n.debugDisconnect=new n("debug-disconnect",{fontCharacter:"\\ead0"}),n.debugPause=new n("debug-pause",{fontCharacter:"\\ead1"}),n.debugRestart=new n("debug-restart",{fontCharacter:"\\ead2"}),n.debugStart=new n("debug-start",{fontCharacter:"\\ead3"}),n.debugStepInto=new n("debug-step-into",{fontCharacter:"\\ead4"}),n.debugStepOut=new n("debug-step-out",{fontCharacter:"\\ead5"}),n.debugStepOver=new n("debug-step-over",{fontCharacter:"\\ead6"}),n.debugStop=new n("debug-stop",{fontCharacter:"\\ead7"}),n.debug=new n("debug",{fontCharacter:"\\ead8"}),n.deviceCameraVideo=new n("device-camera-video",{fontCharacter:"\\ead9"}),n.deviceCamera=new n("device-camera",{fontCharacter:"\\eada"}),n.deviceMobile=new n("device-mobile",{fontCharacter:"\\eadb"}),n.diffAdded=new n("diff-added",{fontCharacter:"\\eadc"}),n.diffIgnored=new n("diff-ignored",{fontCharacter:"\\eadd"}),n.diffModified=new n("diff-modified",{fontCharacter:"\\eade"}),n.diffRemoved=new n("diff-removed",{fontCharacter:"\\eadf"}),n.diffRenamed=new n("diff-renamed",{fontCharacter:"\\eae0"}),n.diff=new n("diff",{fontCharacter:"\\eae1"}),n.discard=new n("discard",{fontCharacter:"\\eae2"}),n.editorLayout=new n("editor-layout",{fontCharacter:"\\eae3"}),n.emptyWindow=new n("empty-window",{fontCharacter:"\\eae4"}),n.exclude=new n("exclude",{fontCharacter:"\\eae5"}),n.extensions=new n("extensions",{fontCharacter:"\\eae6"}),n.eyeClosed=new n("eye-closed",{fontCharacter:"\\eae7"}),n.fileBinary=new n("file-binary",{fontCharacter:"\\eae8"}),n.fileCode=new n("file-code",{fontCharacter:"\\eae9"}),n.fileMedia=new n("file-media",{fontCharacter:"\\eaea"}),n.filePdf=new n("file-pdf",{fontCharacter:"\\eaeb"}),n.fileSubmodule=new n("file-submodule",{fontCharacter:"\\eaec"}),n.fileSymlinkDirectory=new n("file-symlink-directory",{fontCharacter:"\\eaed"}),n.fileSymlinkFile=new n("file-symlink-file",{fontCharacter:"\\eaee"}),n.fileZip=new n("file-zip",{fontCharacter:"\\eaef"}),n.files=new n("files",{fontCharacter:"\\eaf0"}),n.filter=new n("filter",{fontCharacter:"\\eaf1"}),n.flame=new n("flame",{fontCharacter:"\\eaf2"}),n.foldDown=new n("fold-down",{fontCharacter:"\\eaf3"}),n.foldUp=new n("fold-up",{fontCharacter:"\\eaf4"}),n.fold=new n("fold",{fontCharacter:"\\eaf5"}),n.folderActive=new n("folder-active",{fontCharacter:"\\eaf6"}),n.folderOpened=new n("folder-opened",{fontCharacter:"\\eaf7"}),n.gear=new n("gear",{fontCharacter:"\\eaf8"}),n.gift=new n("gift",{fontCharacter:"\\eaf9"}),n.gistSecret=new n("gist-secret",{fontCharacter:"\\eafa"}),n.gist=new n("gist",{fontCharacter:"\\eafb"}),n.gitCommit=new n("git-commit",{fontCharacter:"\\eafc"}),n.gitCompare=new n("git-compare",{fontCharacter:"\\eafd"}),n.gitMerge=new n("git-merge",{fontCharacter:"\\eafe"}),n.githubAction=new n("github-action",{fontCharacter:"\\eaff"}),n.githubAlt=new n("github-alt",{fontCharacter:"\\eb00"}),n.globe=new n("globe",{fontCharacter:"\\eb01"}),n.grabber=new n("grabber",{fontCharacter:"\\eb02"}),n.graph=new n("graph",{fontCharacter:"\\eb03"}),n.gripper=new n("gripper",{fontCharacter:"\\eb04"}),n.heart=new n("heart",{fontCharacter:"\\eb05"}),n.home=new n("home",{fontCharacter:"\\eb06"}),n.horizontalRule=new n("horizontal-rule",{fontCharacter:"\\eb07"}),n.hubot=new n("hubot",{fontCharacter:"\\eb08"}),n.inbox=new n("inbox",{fontCharacter:"\\eb09"}),n.issueClosed=new n("issue-closed",{fontCharacter:"\\eba4"}),n.issueReopened=new n("issue-reopened",{fontCharacter:"\\eb0b"}),n.issues=new n("issues",{fontCharacter:"\\eb0c"}),n.italic=new n("italic",{fontCharacter:"\\eb0d"}),n.jersey=new n("jersey",{fontCharacter:"\\eb0e"}),n.json=new n("json",{fontCharacter:"\\eb0f"}),n.kebabVertical=new n("kebab-vertical",{fontCharacter:"\\eb10"}),n.key=new n("key",{fontCharacter:"\\eb11"}),n.law=new n("law",{fontCharacter:"\\eb12"}),n.lightbulbAutofix=new n("lightbulb-autofix",{fontCharacter:"\\eb13"}),n.linkExternal=new n("link-external",{fontCharacter:"\\eb14"}),n.link=new n("link",{fontCharacter:"\\eb15"}),n.listOrdered=new n("list-ordered",{fontCharacter:"\\eb16"}),n.listUnordered=new n("list-unordered",{fontCharacter:"\\eb17"}),n.liveShare=new n("live-share",{fontCharacter:"\\eb18"}),n.loading=new n("loading",{fontCharacter:"\\eb19"}),n.location=new n("location",{fontCharacter:"\\eb1a"}),n.mailRead=new n("mail-read",{fontCharacter:"\\eb1b"}),n.mail=new n("mail",{fontCharacter:"\\eb1c"}),n.markdown=new n("markdown",{fontCharacter:"\\eb1d"}),n.megaphone=new n("megaphone",{fontCharacter:"\\eb1e"}),n.mention=new n("mention",{fontCharacter:"\\eb1f"}),n.milestone=new n("milestone",{fontCharacter:"\\eb20"}),n.mortarBoard=new n("mortar-board",{fontCharacter:"\\eb21"}),n.move=new n("move",{fontCharacter:"\\eb22"}),n.multipleWindows=new n("multiple-windows",{fontCharacter:"\\eb23"}),n.mute=new n("mute",{fontCharacter:"\\eb24"}),n.noNewline=new n("no-newline",{fontCharacter:"\\eb25"}),n.note=new n("note",{fontCharacter:"\\eb26"}),n.octoface=new n("octoface",{fontCharacter:"\\eb27"}),n.openPreview=new n("open-preview",{fontCharacter:"\\eb28"}),n.package_=new n("package",{fontCharacter:"\\eb29"}),n.paintcan=new n("paintcan",{fontCharacter:"\\eb2a"}),n.pin=new n("pin",{fontCharacter:"\\eb2b"}),n.play=new n("play",{fontCharacter:"\\eb2c"}),n.run=new n("run",{fontCharacter:"\\eb2c"}),n.plug=new n("plug",{fontCharacter:"\\eb2d"}),n.preserveCase=new n("preserve-case",{fontCharacter:"\\eb2e"}),n.preview=new n("preview",{fontCharacter:"\\eb2f"}),n.project=new n("project",{fontCharacter:"\\eb30"}),n.pulse=new n("pulse",{fontCharacter:"\\eb31"}),n.question=new n("question",{fontCharacter:"\\eb32"}),n.quote=new n("quote",{fontCharacter:"\\eb33"}),n.radioTower=new n("radio-tower",{fontCharacter:"\\eb34"}),n.reactions=new n("reactions",{fontCharacter:"\\eb35"}),n.references=new n("references",{fontCharacter:"\\eb36"}),n.refresh=new n("refresh",{fontCharacter:"\\eb37"}),n.regex=new n("regex",{fontCharacter:"\\eb38"}),n.remoteExplorer=new n("remote-explorer",{fontCharacter:"\\eb39"}),n.remote=new n("remote",{fontCharacter:"\\eb3a"}),n.remove=new n("remove",{fontCharacter:"\\eb3b"}),n.replaceAll=new n("replace-all",{fontCharacter:"\\eb3c"}),n.replace=new n("replace",{fontCharacter:"\\eb3d"}),n.repoClone=new n("repo-clone",{fontCharacter:"\\eb3e"}),n.repoForcePush=new n("repo-force-push",{fontCharacter:"\\eb3f"}),n.repoPull=new n("repo-pull",{fontCharacter:"\\eb40"}),n.repoPush=new n("repo-push",{fontCharacter:"\\eb41"}),n.report=new n("report",{fontCharacter:"\\eb42"}),n.requestChanges=new n("request-changes",{fontCharacter:"\\eb43"}),n.rocket=new n("rocket",{fontCharacter:"\\eb44"}),n.rootFolderOpened=new n("root-folder-opened",{fontCharacter:"\\eb45"}),n.rootFolder=new n("root-folder",{fontCharacter:"\\eb46"}),n.rss=new n("rss",{fontCharacter:"\\eb47"}),n.ruby=new n("ruby",{fontCharacter:"\\eb48"}),n.saveAll=new n("save-all",{fontCharacter:"\\eb49"}),n.saveAs=new n("save-as",{fontCharacter:"\\eb4a"}),n.save=new n("save",{fontCharacter:"\\eb4b"}),n.screenFull=new n("screen-full",{fontCharacter:"\\eb4c"}),n.screenNormal=new n("screen-normal",{fontCharacter:"\\eb4d"}),n.searchStop=new n("search-stop",{fontCharacter:"\\eb4e"}),n.server=new n("server",{fontCharacter:"\\eb50"}),n.settingsGear=new n("settings-gear",{fontCharacter:"\\eb51"}),n.settings=new n("settings",{fontCharacter:"\\eb52"}),n.shield=new n("shield",{fontCharacter:"\\eb53"}),n.smiley=new n("smiley",{fontCharacter:"\\eb54"}),n.sortPrecedence=new n("sort-precedence",{fontCharacter:"\\eb55"}),n.splitHorizontal=new n("split-horizontal",{fontCharacter:"\\eb56"}),n.splitVertical=new n("split-vertical",{fontCharacter:"\\eb57"}),n.squirrel=new n("squirrel",{fontCharacter:"\\eb58"}),n.starFull=new n("star-full",{fontCharacter:"\\eb59"}),n.starHalf=new n("star-half",{fontCharacter:"\\eb5a"}),n.symbolClass=new n("symbol-class",{fontCharacter:"\\eb5b"}),n.symbolColor=new n("symbol-color",{fontCharacter:"\\eb5c"}),n.symbolConstant=new n("symbol-constant",{fontCharacter:"\\eb5d"}),n.symbolEnumMember=new n("symbol-enum-member",{fontCharacter:"\\eb5e"}),n.symbolField=new n("symbol-field",{fontCharacter:"\\eb5f"}),n.symbolFile=new n("symbol-file",{fontCharacter:"\\eb60"}),n.symbolInterface=new n("symbol-interface",{fontCharacter:"\\eb61"}),n.symbolKeyword=new n("symbol-keyword",{fontCharacter:"\\eb62"}),n.symbolMisc=new n("symbol-misc",{fontCharacter:"\\eb63"}),n.symbolOperator=new n("symbol-operator",{fontCharacter:"\\eb64"}),n.symbolProperty=new n("symbol-property",{fontCharacter:"\\eb65"}),n.wrench=new n("wrench",{fontCharacter:"\\eb65"}),n.wrenchSubaction=new n("wrench-subaction",{fontCharacter:"\\eb65"}),n.symbolSnippet=new n("symbol-snippet",{fontCharacter:"\\eb66"}),n.tasklist=new n("tasklist",{fontCharacter:"\\eb67"}),n.telescope=new n("telescope",{fontCharacter:"\\eb68"}),n.textSize=new n("text-size",{fontCharacter:"\\eb69"}),n.threeBars=new n("three-bars",{fontCharacter:"\\eb6a"}),n.thumbsdown=new n("thumbsdown",{fontCharacter:"\\eb6b"}),n.thumbsup=new n("thumbsup",{fontCharacter:"\\eb6c"}),n.tools=new n("tools",{fontCharacter:"\\eb6d"}),n.triangleDown=new n("triangle-down",{fontCharacter:"\\eb6e"}),n.triangleLeft=new n("triangle-left",{fontCharacter:"\\eb6f"}),n.triangleRight=new n("triangle-right",{fontCharacter:"\\eb70"}),n.triangleUp=new n("triangle-up",{fontCharacter:"\\eb71"}),n.twitter=new n("twitter",{fontCharacter:"\\eb72"}),n.unfold=new n("unfold",{fontCharacter:"\\eb73"}),n.unlock=new n("unlock",{fontCharacter:"\\eb74"}),n.unmute=new n("unmute",{fontCharacter:"\\eb75"}),n.unverified=new n("unverified",{fontCharacter:"\\eb76"}),n.verified=new n("verified",{fontCharacter:"\\eb77"}),n.versions=new n("versions",{fontCharacter:"\\eb78"}),n.vmActive=new n("vm-active",{fontCharacter:"\\eb79"}),n.vmOutline=new n("vm-outline",{fontCharacter:"\\eb7a"}),n.vmRunning=new n("vm-running",{fontCharacter:"\\eb7b"}),n.watch=new n("watch",{fontCharacter:"\\eb7c"}),n.whitespace=new n("whitespace",{fontCharacter:"\\eb7d"}),n.wholeWord=new n("whole-word",{fontCharacter:"\\eb7e"}),n.window=new n("window",{fontCharacter:"\\eb7f"}),n.wordWrap=new n("word-wrap",{fontCharacter:"\\eb80"}),n.zoomIn=new n("zoom-in",{fontCharacter:"\\eb81"}),n.zoomOut=new n("zoom-out",{fontCharacter:"\\eb82"}),n.listFilter=new n("list-filter",{fontCharacter:"\\eb83"}),n.listFlat=new n("list-flat",{fontCharacter:"\\eb84"}),n.listSelection=new n("list-selection",{fontCharacter:"\\eb85"}),n.selection=new n("selection",{fontCharacter:"\\eb85"}),n.listTree=new n("list-tree",{fontCharacter:"\\eb86"}),n.debugBreakpointFunctionUnverified=new n("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),n.debugBreakpointFunction=new n("debug-breakpoint-function",{fontCharacter:"\\eb88"}),n.debugBreakpointFunctionDisabled=new n("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),n.debugStackframeActive=new n("debug-stackframe-active",{fontCharacter:"\\eb89"}),n.debugStackframeDot=new n("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),n.debugStackframe=new n("debug-stackframe",{fontCharacter:"\\eb8b"}),n.debugStackframeFocused=new n("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),n.debugBreakpointUnsupported=new n("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),n.symbolString=new n("symbol-string",{fontCharacter:"\\eb8d"}),n.debugReverseContinue=new n("debug-reverse-continue",{fontCharacter:"\\eb8e"}),n.debugStepBack=new n("debug-step-back",{fontCharacter:"\\eb8f"}),n.debugRestartFrame=new n("debug-restart-frame",{fontCharacter:"\\eb90"}),n.callIncoming=new n("call-incoming",{fontCharacter:"\\eb92"}),n.callOutgoing=new n("call-outgoing",{fontCharacter:"\\eb93"}),n.menu=new n("menu",{fontCharacter:"\\eb94"}),n.expandAll=new n("expand-all",{fontCharacter:"\\eb95"}),n.feedback=new n("feedback",{fontCharacter:"\\eb96"}),n.groupByRefType=new n("group-by-ref-type",{fontCharacter:"\\eb97"}),n.ungroupByRefType=new n("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),n.account=new n("account",{fontCharacter:"\\eb99"}),n.bellDot=new n("bell-dot",{fontCharacter:"\\eb9a"}),n.debugConsole=new n("debug-console",{fontCharacter:"\\eb9b"}),n.library=new n("library",{fontCharacter:"\\eb9c"}),n.output=new n("output",{fontCharacter:"\\eb9d"}),n.runAll=new n("run-all",{fontCharacter:"\\eb9e"}),n.syncIgnored=new n("sync-ignored",{fontCharacter:"\\eb9f"}),n.pinned=new n("pinned",{fontCharacter:"\\eba0"}),n.githubInverted=new n("github-inverted",{fontCharacter:"\\eba1"}),n.debugAlt=new n("debug-alt",{fontCharacter:"\\eb91"}),n.serverProcess=new n("server-process",{fontCharacter:"\\eba2"}),n.serverEnvironment=new n("server-environment",{fontCharacter:"\\eba3"}),n.pass=new n("pass",{fontCharacter:"\\eba4"}),n.stopCircle=new n("stop-circle",{fontCharacter:"\\eba5"}),n.playCircle=new n("play-circle",{fontCharacter:"\\eba6"}),n.record=new n("record",{fontCharacter:"\\eba7"}),n.debugAltSmall=new n("debug-alt-small",{fontCharacter:"\\eba8"}),n.vmConnect=new n("vm-connect",{fontCharacter:"\\eba9"}),n.cloud=new n("cloud",{fontCharacter:"\\ebaa"}),n.merge=new n("merge",{fontCharacter:"\\ebab"}),n.exportIcon=new n("export",{fontCharacter:"\\ebac"}),n.graphLeft=new n("graph-left",{fontCharacter:"\\ebad"}),n.magnet=new n("magnet",{fontCharacter:"\\ebae"}),n.notebook=new n("notebook",{fontCharacter:"\\ebaf"}),n.redo=new n("redo",{fontCharacter:"\\ebb0"}),n.checkAll=new n("check-all",{fontCharacter:"\\ebb1"}),n.pinnedDirty=new n("pinned-dirty",{fontCharacter:"\\ebb2"}),n.passFilled=new n("pass-filled",{fontCharacter:"\\ebb3"}),n.circleLargeFilled=new n("circle-large-filled",{fontCharacter:"\\ebb4"}),n.circleLargeOutline=new n("circle-large-outline",{fontCharacter:"\\ebb5"}),n.combine=new n("combine",{fontCharacter:"\\ebb6"}),n.gather=new n("gather",{fontCharacter:"\\ebb6"}),n.table=new n("table",{fontCharacter:"\\ebb7"}),n.variableGroup=new n("variable-group",{fontCharacter:"\\ebb8"}),n.typeHierarchy=new n("type-hierarchy",{fontCharacter:"\\ebb9"}),n.typeHierarchySub=new n("type-hierarchy-sub",{fontCharacter:"\\ebba"}),n.typeHierarchySuper=new n("type-hierarchy-super",{fontCharacter:"\\ebbb"}),n.gitPullRequestCreate=new n("git-pull-request-create",{fontCharacter:"\\ebbc"}),n.runAbove=new n("run-above",{fontCharacter:"\\ebbd"}),n.runBelow=new n("run-below",{fontCharacter:"\\ebbe"}),n.notebookTemplate=new n("notebook-template",{fontCharacter:"\\ebbf"}),n.debugRerun=new n("debug-rerun",{fontCharacter:"\\ebc0"}),n.workspaceTrusted=new n("workspace-trusted",{fontCharacter:"\\ebc1"}),n.workspaceUntrusted=new n("workspace-untrusted",{fontCharacter:"\\ebc2"}),n.workspaceUnspecified=new n("workspace-unspecified",{fontCharacter:"\\ebc3"}),n.terminalCmd=new n("terminal-cmd",{fontCharacter:"\\ebc4"}),n.terminalDebian=new n("terminal-debian",{fontCharacter:"\\ebc5"}),n.terminalLinux=new n("terminal-linux",{fontCharacter:"\\ebc6"}),n.terminalPowershell=new n("terminal-powershell",{fontCharacter:"\\ebc7"}),n.terminalTmux=new n("terminal-tmux",{fontCharacter:"\\ebc8"}),n.terminalUbuntu=new n("terminal-ubuntu",{fontCharacter:"\\ebc9"}),n.terminalBash=new n("terminal-bash",{fontCharacter:"\\ebca"}),n.arrowSwap=new n("arrow-swap",{fontCharacter:"\\ebcb"}),n.copy=new n("copy",{fontCharacter:"\\ebcc"}),n.personAdd=new n("person-add",{fontCharacter:"\\ebcd"}),n.filterFilled=new n("filter-filled",{fontCharacter:"\\ebce"}),n.wand=new n("wand",{fontCharacter:"\\ebcf"}),n.debugLineByLine=new n("debug-line-by-line",{fontCharacter:"\\ebd0"}),n.inspect=new n("inspect",{fontCharacter:"\\ebd1"}),n.layers=new n("layers",{fontCharacter:"\\ebd2"}),n.layersDot=new n("layers-dot",{fontCharacter:"\\ebd3"}),n.layersActive=new n("layers-active",{fontCharacter:"\\ebd4"}),n.compass=new n("compass",{fontCharacter:"\\ebd5"}),n.compassDot=new n("compass-dot",{fontCharacter:"\\ebd6"}),n.compassActive=new n("compass-active",{fontCharacter:"\\ebd7"}),n.azure=new n("azure",{fontCharacter:"\\ebd8"}),n.issueDraft=new n("issue-draft",{fontCharacter:"\\ebd9"}),n.gitPullRequestClosed=new n("git-pull-request-closed",{fontCharacter:"\\ebda"}),n.gitPullRequestDraft=new n("git-pull-request-draft",{fontCharacter:"\\ebdb"}),n.debugAll=new n("debug-all",{fontCharacter:"\\ebdc"}),n.debugCoverage=new n("debug-coverage",{fontCharacter:"\\ebdd"}),n.runErrors=new n("run-errors",{fontCharacter:"\\ebde"}),n.folderLibrary=new n("folder-library",{fontCharacter:"\\ebdf"}),n.dropDownButton=new n("drop-down-button",n.chevronDown.definition)}(S=e.Codicon||(e.Codicon={}))}),define(J[44],Z([0,1,11,2]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedStream=e.prefixedReadable=e.transform=e.toReadable=e.emptyStream=e.toStream=e.peekStream=e.listenStream=e.consumeStream=e.peekReadable=e.consumeReadable=e.newWriteableStream=e.isReadableBufferedStream=e.isReadableStream=void 0;function w(f){const c=f;return c?[c.on,c.pause,c.resume,c.destroy].every(a=>typeof a=="function"):!1}e.isReadableStream=w;function k(f){const c=f;return c?w(c.stream)&&Array.isArray(c.buffer)&&typeof c.ended=="boolean":!1}e.isReadableBufferedStream=k;function T(f,c){return new S(f,c)}e.newWriteableStream=T;class S{constructor(c,a){this.reducer=c,this.options=a,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(c){if(!this.state.destroyed){if(this.state.flowing)this.emitData(c);else if(this.buffer.data.push(c),typeof this.options?.highWaterMark=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(a=>this.pendingWritePromises.push(a))}}error(c){this.state.destroyed||(this.state.flowing?this.emitError(c):this.buffer.error.push(c))}end(c){this.state.destroyed||(typeof c!="undefined"&&this.write(c),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(c){this.listeners.data.slice(0).forEach(a=>a(c))}emitError(c){this.listeners.error.length===0?(0,g.onUnexpectedError)(c):this.listeners.error.slice(0).forEach(a=>a(c))}emitEnd(){this.listeners.end.slice(0).forEach(c=>c())}on(c,a){if(!this.state.destroyed)switch(c){case"data":this.listeners.data.push(a),this.resume();break;case"end":this.listeners.end.push(a),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(a),this.state.flowing&&this.flowErrors();break}}removeListener(c,a){if(this.state.destroyed)return;let t;switch(c){case"data":t=this.listeners.data;break;case"end":t=this.listeners.end;break;case"error":t=this.listeners.error;break}if(t){const s=t.indexOf(a);s>=0&&t.splice(s,1)}}flowData(){if(this.buffer.data.length>0){const c=this.reducer(this.buffer.data);this.emitData(c),this.buffer.data.length=0;const a=[...this.pendingWritePromises];this.pendingWritePromises.length=0,a.forEach(t=>t())}}flowErrors(){if(this.listeners.error.length>0){for(const c of this.buffer.error)this.emitError(c);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function h(f,c){const a=[];let t;for(;(t=f.read())!==null;)a.push(t);return c(a)}e.consumeReadable=h;function m(f,c,a){const t=[];let s;for(;(s=f.read())!==null&&t.length<a;)t.push(s);return s===null&&t.length>0?c(t):{read:()=>{if(t.length>0)return t.shift();if(typeof s!="undefined"){const i=s;return s=void 0,i}return f.read()}}}e.peekReadable=m;function n(f,c){return new Promise((a,t)=>{const s=[];P(f,{onData:i=>{c&&s.push(i)},onError:i=>{c?t(i):a(void 0)},onEnd:()=>{a(c?c(s):void 0)}})})}e.consumeStream=n;function P(f,c){f.on("error",a=>c.onError(a)),f.on("end",()=>c.onEnd()),f.on("data",a=>c.onData(a))}e.listenStream=P;function d(f,c){return new Promise((a,t)=>{const s=new R.DisposableStore,i=[],r=D=>{if(i.push(D),i.length>c)return s.dispose(),f.pause(),a({stream:f,buffer:i,ended:!1})},l=D=>t(D),v=()=>a({stream:f,buffer:i,ended:!0});s.add((0,R.toDisposable)(()=>f.removeListener("error",l))),f.on("error",l),s.add((0,R.toDisposable)(()=>f.removeListener("end",v))),f.on("end",v),s.add((0,R.toDisposable)(()=>f.removeListener("data",r))),f.on("data",r)})}e.peekStream=d;function b(f,c){const a=T(c);return a.end(f),a}e.toStream=b;function o(){const f=T(()=>{throw new Error("not supported")});return f.end(),f}e.emptyStream=o;function u(f){let c=!1;return{read:()=>c?null:(c=!0,f)}}e.toReadable=u;function y(f,c,a){const t=T(a);return P(f,{onData:s=>t.write(c.data(s)),onError:s=>t.error(c.error?c.error(s):s),onEnd:()=>t.end()}),t}e.transform=y;function E(f,c,a){let t=!1;return{read:()=>{const s=c.read();return t?s:(t=!0,s!==null?a([f,s]):f)}}}e.prefixedReadable=E;function C(f,c,a){let t=!1;const s=T(a);return P(c,{onData:i=>t?s.write(i):(t=!0,s.write(a([f,i]))),onError:i=>s.error(i),onEnd:()=>{t||(t=!0,s.write(f)),s.end()}}),s}e.prefixedStream=C}),define(J[16],Z([0,1,44]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedBufferStream=e.prefixedBufferReadable=e.newWriteableBufferStream=e.streamToBufferReadableStream=e.bufferToStream=e.bufferedStreamToBuffer=e.streamToBuffer=e.bufferToReadable=e.readableToBuffer=e.writeUInt8=e.readUInt8=e.writeUInt32LE=e.readUInt32LE=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const R=typeof Buffer!="undefined";let w,k;class T{constructor(r){this.buffer=r,this.byteLength=this.buffer.byteLength}static alloc(r){return R?new T(Buffer.allocUnsafe(r)):new T(new Uint8Array(r))}static wrap(r){return R&&!Buffer.isBuffer(r)&&(r=Buffer.from(r.buffer,r.byteOffset,r.byteLength)),new T(r)}static fromString(r,l){return!(l?.dontUseNodeBuffer||!1)&&R?new T(Buffer.from(r)):(w||(w=new TextEncoder),new T(w.encode(r)))}static concat(r,l){if(typeof l=="undefined"){l=0;for(let L=0,p=r.length;L<p;L++)l+=r[L].byteLength}const v=T.alloc(l);let D=0;for(let L=0,p=r.length;L<p;L++){const _=r[L];v.set(_,D),D+=_.byteLength}return v}toString(){return R?this.buffer.toString():(k||(k=new TextDecoder),k.decode(this.buffer))}slice(r,l){return new T(this.buffer.subarray(r,l))}set(r,l){r instanceof T?this.buffer.set(r.buffer,l):this.buffer.set(r,l)}readUInt32BE(r){return m(this.buffer,r)}writeUInt32BE(r,l){n(this.buffer,r,l)}readUInt32LE(r){return P(this.buffer,r)}writeUInt32LE(r,l){d(this.buffer,r,l)}readUInt8(r){return b(this.buffer,r)}writeUInt8(r,l){o(this.buffer,r,l)}}e.VSBuffer=T;function S(i,r){return i[r+0]<<0>>>0|i[r+1]<<8>>>0}e.readUInt16LE=S;function h(i,r,l){i[l+0]=r&255,r=r>>>8,i[l+1]=r&255}e.writeUInt16LE=h;function m(i,r){return i[r]*2**24+i[r+1]*2**16+i[r+2]*2**8+i[r+3]}e.readUInt32BE=m;function n(i,r,l){i[l+3]=r,r=r>>>8,i[l+2]=r,r=r>>>8,i[l+1]=r,r=r>>>8,i[l]=r}e.writeUInt32BE=n;function P(i,r){return i[r+0]<<0>>>0|i[r+1]<<8>>>0|i[r+2]<<16>>>0|i[r+3]<<24>>>0}e.readUInt32LE=P;function d(i,r,l){i[l+0]=r&255,r=r>>>8,i[l+1]=r&255,r=r>>>8,i[l+2]=r&255,r=r>>>8,i[l+3]=r&255}e.writeUInt32LE=d;function b(i,r){return i[r]}e.readUInt8=b;function o(i,r,l){i[l]=r}e.writeUInt8=o;function u(i){return g.consumeReadable(i,r=>T.concat(r))}e.readableToBuffer=u;function y(i){return g.toReadable(i)}e.bufferToReadable=y;function E(i){return g.consumeStream(i,r=>T.concat(r))}e.streamToBuffer=E;async function C(i){return i.ended?T.concat(i.buffer):T.concat([...i.buffer,await E(i.stream)])}e.bufferedStreamToBuffer=C;function f(i){return g.toStream(i,r=>T.concat(r))}e.bufferToStream=f;function c(i){return g.transform(i,{data:r=>typeof r=="string"?T.fromString(r):T.wrap(r)},r=>T.concat(r))}e.streamToBufferReadableStream=c;function a(i){return g.newWriteableStream(r=>T.concat(r),i)}e.newWriteableBufferStream=a;function t(i,r){return g.prefixedReadable(i,r,l=>T.concat(l))}e.prefixedBufferReadable=t;function s(i,r){return g.prefixedStream(i,r,l=>T.concat(l))}e.prefixedBufferStream=s}),define(J[18],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLeftDeleteOffset=e.GraphemeBreakType=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.getNLines=e.uppercaseFirstLetter=e.containsUppercaseCharacter=e.fuzzyContains=e.stripUTF8BOM=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.removeAnsiEscapeCodes=e.lcut=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpContainsBackreference=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.truncate=e.count=e.escapeRegExpCharacters=e.escape=e.format2=e.format=e.isFalsyOrWhitespace=void 0;function g(j){return!j||typeof j!="string"?!0:j.trim().length===0}e.isFalsyOrWhitespace=g;const R=/{(\d+)}/g;function w(j,...ne){return ne.length===0?j:j.replace(R,function(ae,le){const ue=parseInt(le,10);return isNaN(ue)||ue<0||ue>=ne.length?ae:ne[ue]})}e.format=w;const k=/{([^}]+)}/g;function T(j,ne){return j.replace(k,(ae,le)=>ne[le]??ae)}e.format2=T;function S(j){return j.replace(/[<>&]/g,function(ne){switch(ne){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ne}})}e.escape=S;function h(j){return j.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=h;function m(j,ne){let ae=0;const le=ne.charCodeAt(0);for(let ue=j.length-1;ue>=0;ue--)j.charCodeAt(ue)===le&&ae++;return ae}e.count=m;function n(j,ne,ae="\u2026"){return j.length<=ne?j:`${j.substr(0,ne)}${ae}`}e.truncate=n;function P(j,ne=" "){const ae=d(j,ne);return b(ae,ne)}e.trim=P;function d(j,ne){if(!j||!ne)return j;const ae=ne.length;if(ae===0||j.length===0)return j;let le=0;for(;j.indexOf(ne,le)===le;)le=le+ae;return j.substring(le)}e.ltrim=d;function b(j,ne){if(!j||!ne)return j;const ae=ne.length,le=j.length;if(ae===0||le===0)return j;let ue=le,Se=-1;for(;Se=j.lastIndexOf(ne,ue-1),!(Se===-1||Se+ae!==ue);){if(Se===0)return"";ue=Se}return j.substring(0,ue)}e.rtrim=b;function o(j){return j.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=o;function u(j){return j.replace(/\*/g,"")}e.stripWildcards=u;function y(j,ne,ae={}){if(!j)throw new Error("Cannot create regex from empty string");ne||(j=h(j)),ae.wholeWord&&(/\B/.test(j.charAt(0))||(j="\\b"+j),/\B/.test(j.charAt(j.length-1))||(j=j+"\\b"));let le="";return ae.global&&(le+="g"),ae.matchCase||(le+="i"),ae.multiline&&(le+="m"),ae.unicode&&(le+="u"),new RegExp(j,le)}e.createRegExp=y;function E(j){return j.source==="^"||j.source==="^$"||j.source==="$"||j.source==="^\\s*$"?!1:!!(j.exec("")&&j.lastIndex===0)}e.regExpLeadsToEndlessLoop=E;function C(j){return!!j.match(/([^\\]|^)(\\\\)*\\\d+/)}e.regExpContainsBackreference=C;function f(j){return(j.global?"g":"")+(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")}e.regExpFlags=f;function c(j){return j.split(/\r\n|\r|\n/)}e.splitLines=c;function a(j){for(let ne=0,ae=j.length;ne<ae;ne++){const le=j.charCodeAt(ne);if(le!==32&&le!==9)return ne}return-1}e.firstNonWhitespaceIndex=a;function t(j,ne=0,ae=j.length){for(let le=ne;le<ae;le++){const ue=j.charCodeAt(le);if(ue!==32&&ue!==9)return j.substring(ne,le)}return j.substring(ne,ae)}e.getLeadingWhitespace=t;function s(j,ne=j.length-1){for(let ae=ne;ae>=0;ae--){const le=j.charCodeAt(ae);if(le!==32&&le!==9)return ae}return-1}e.lastNonWhitespaceIndex=s;function i(j,ne){return j<ne?-1:j>ne?1:0}e.compare=i;function r(j,ne,ae=0,le=j.length,ue=0,Se=ne.length){for(;ae<le&&ue<Se;ae++,ue++){let Pe=j.charCodeAt(ae),Le=ne.charCodeAt(ue);if(Pe<Le)return-1;if(Pe>Le)return 1}const fe=le-ae,ve=Se-ue;return fe<ve?-1:fe>ve?1:0}e.compareSubstring=r;function l(j,ne){return v(j,ne,0,j.length,0,ne.length)}e.compareIgnoreCase=l;function v(j,ne,ae=0,le=j.length,ue=0,Se=ne.length){for(;ae<le&&ue<Se;ae++,ue++){let Pe=j.charCodeAt(ae),Le=ne.charCodeAt(ue);if(Pe===Le)continue;const Te=Pe-Le;if(!(Te===32&&L(Le))&&!(Te===-32&&L(Pe)))return D(Pe)&&D(Le)?Te:r(j.toLowerCase(),ne.toLowerCase(),ae,le,ue,Se)}const fe=le-ae,ve=Se-ue;return fe<ve?-1:fe>ve?1:0}e.compareSubstringIgnoreCase=v;function D(j){return j>=97&&j<=122}e.isLowerAsciiLetter=D;function L(j){return j>=65&&j<=90}e.isUpperAsciiLetter=L;function p(j){return D(j)||L(j)}function _(j,ne){return j.length===ne.length&&A(j,ne)}e.equalsIgnoreCase=_;function A(j,ne,ae=j.length){for(let le=0;le<ae;le++){const ue=j.charCodeAt(le),Se=ne.charCodeAt(le);if(ue!==Se){if(p(ue)&&p(Se)){const fe=Math.abs(ue-Se);if(fe!==0&&fe!==32)return!1}else if(String.fromCharCode(ue).toLowerCase()!==String.fromCharCode(Se).toLowerCase())return!1}}return!0}function I(j,ne){const ae=ne.length;return ne.length>j.length?!1:A(j,ne,ae)}e.startsWithIgnoreCase=I;function U(j,ne){let ae,le=Math.min(j.length,ne.length);for(ae=0;ae<le;ae++)if(j.charCodeAt(ae)!==ne.charCodeAt(ae))return ae;return le}e.commonPrefixLength=U;function B(j,ne){let ae,le=Math.min(j.length,ne.length);const ue=j.length-1,Se=ne.length-1;for(ae=0;ae<le;ae++)if(j.charCodeAt(ue-ae)!==ne.charCodeAt(Se-ae))return ae;return le}e.commonSuffixLength=B;function ee(j){return 55296<=j&&j<=56319}e.isHighSurrogate=ee;function Q(j){return 56320<=j&&j<=57343}e.isLowSurrogate=Q;function O(j,ne){return(j-55296<<10)+(ne-56320)+65536}e.computeCodePoint=O;function $(j,ne,ae){const le=j.charCodeAt(ae);if(ee(le)&&ae+1<ne){const ue=j.charCodeAt(ae+1);if(Q(ue))return O(le,ue)}return le}e.getNextCodePoint=$;function W(j,ne){const ae=j.charCodeAt(ne-1);if(Q(ae)&&ne>1){const le=j.charCodeAt(ne-2);if(ee(le))return O(le,ae)}return ae}function K(j,ne){const ae=ie.getInstance(),le=ne,ue=j.length,Se=$(j,ue,ne);ne+=Se>=65536?2:1;let fe=ae.getGraphemeBreakType(Se);for(;ne<ue;){const ve=$(j,ue,ne),Pe=ae.getGraphemeBreakType(ve);if(X(fe,Pe))break;ne+=ve>=65536?2:1,fe=Pe}return ne-le}e.nextCharLength=K;function V(j,ne){const ae=ie.getInstance(),le=ne,ue=W(j,ne);ne-=ue>=65536?2:1;let Se=ae.getGraphemeBreakType(ue);for(;ne>0;){const fe=W(j,ne),ve=ae.getGraphemeBreakType(fe);if(X(ve,Se))break;ne-=fe>=65536?2:1,Se=ve}return le-ne}e.prevCharLength=V;function M(j,ne){const ae=ie.getInstance(),le=j.length,ue=ne,Se=$(j,le,ne),fe=ae.getGraphemeBreakType(Se);ne+=Se>=65536?2:1;let ve=fe;for(;ne<le;){const Le=$(j,le,ne),Te=ae.getGraphemeBreakType(Le);if(X(ve,Te))break;ne+=Le>=65536?2:1,ve=Te}const Pe=ne;for(ne=ue,ve=fe;ne>0;){const Le=W(j,ne),Te=ae.getGraphemeBreakType(Le);if(X(Te,ve))break;ne-=Le>=65536?2:1,ve=Te}return[ne,Pe]}function G(j,ne){return ne>0&&Q(j.charCodeAt(ne))?M(j,ne-1):M(j,ne)}e.getCharContainingOffset=G;const z=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function N(j){return z.test(j)}e.containsRTL=N;const F=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function q(j){return F.test(j)}e.containsEmoji=q;const H=/^[\t\n\r\x20-\x7E]*$/;function Y(j){return H.test(j)}e.isBasicASCII=Y,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function te(j){return e.UNUSUAL_LINE_TERMINATORS.test(j)}e.containsUnusualLineTerminators=te;function oe(j){for(let ne=0,ae=j.length;ne<ae;ne++)if(se(j.charCodeAt(ne)))return!0;return!1}e.containsFullWidthCharacter=oe;function se(j){return j=+j,j>=11904&&j<=55215||j>=63744&&j<=64255||j>=65281&&j<=65374}e.isFullWidthCharacter=se;function ce(j){return j>=127462&&j<=127487||j===8986||j===8987||j===9200||j===9203||j>=9728&&j<=10175||j===11088||j===11093||j>=127744&&j<=128591||j>=128640&&j<=128764||j>=128992&&j<=129003||j>=129280&&j<=129535||j>=129648&&j<=129750}e.isEmojiImprecise=ce;function he(j,ne){if(j.length<ne)return j;const ae=/\b/g;let le=0;for(;ae.test(j)&&!(j.length-ae.lastIndex<ne);)le=ae.lastIndex,ae.lastIndex+=1;return j.substring(le).replace(/^\s/,"")}e.lcut=he;const me=/\x1B\x5B[12]?K/g,De=/\x1b\[\d+m/g,Oe=/\x1b\[0?m/g;function Ce(j){return j&&(j=j.replace(me,""),j=j.replace(De,""),j=j.replace(Oe,"")),j}e.removeAnsiEscapeCodes=Ce,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function Re(j){return!!(j&&j.length>0&&j.charCodeAt(0)===65279)}e.startsWithUTF8BOM=Re;function Me(j){return Re(j)?j.substr(1):j}e.stripUTF8BOM=Me;function pe(j,ne){if(!j||!ne||j.length<ne.length)return!1;const ae=ne.length,le=j.toLowerCase();let ue=0,Se=-1;for(;ue<ae;){const fe=le.indexOf(ne[ue],Se+1);if(fe<0)return!1;Se=fe,ue++}return!0}e.fuzzyContains=pe;function be(j,ne=!1){return j?(ne&&(j=j.replace(/\\./g,"")),j.toLowerCase()!==j):!1}e.containsUppercaseCharacter=be;function Ee(j){return j.charAt(0).toUpperCase()+j.slice(1)}e.uppercaseFirstLetter=Ee;function Fe(j,ne=1){if(ne===0)return"";let ae=-1;do ae=j.indexOf(`
`,ae+1),ne--;while(ne>0&&ae>=0);return ae===-1?j:(j[ae-1]==="\r"&&ae--,j.substr(0,ae))}e.getNLines=Fe;function _e(j){const ne=90-65+1;return j=j%(2*ne),j<ne?String.fromCharCode(97+j):String.fromCharCode(65+j-ne)}e.singleLetterHash=_e;function Ue(j){return ie.getInstance().getGraphemeBreakType(j)}e.getGraphemeBreakType=Ue;function X(j,ne){return j===0?ne!==5&&ne!==7:j===2&&ne===3?!1:j===4||j===2||j===3||ne===4||ne===2||ne===3?!0:!(j===8&&(ne===8||ne===9||ne===11||ne===12)||(j===11||j===9)&&(ne===9||ne===10)||(j===12||j===10)&&ne===10||ne===5||ne===13||ne===7||j===1||j===13&&ne===14||j===6&&ne===6)}e.breakBetweenGraphemeBreakType=X;var re;(function(j){j[j.Other=0]="Other",j[j.Prepend=1]="Prepend",j[j.CR=2]="CR",j[j.LF=3]="LF",j[j.Control=4]="Control",j[j.Extend=5]="Extend",j[j.Regional_Indicator=6]="Regional_Indicator",j[j.SpacingMark=7]="SpacingMark",j[j.L=8]="L",j[j.V=9]="V",j[j.T=10]="T",j[j.LV=11]="LV",j[j.LVT=12]="LVT",j[j.ZWJ=13]="ZWJ",j[j.Extended_Pictographic=14]="Extended_Pictographic"})(re=e.GraphemeBreakType||(e.GraphemeBreakType={}));class ie{constructor(){this._data=de()}static getInstance(){return ie._INSTANCE||(ie._INSTANCE=new ie),ie._INSTANCE}getGraphemeBreakType(ne){if(ne<32)return ne===10?3:ne===13?2:4;if(ne<127)return 0;const ae=this._data,le=ae.length/3;let ue=1;for(;ue<=le;)if(ne<ae[3*ue])ue=2*ue;else if(ne>ae[3*ue+1])ue=2*ue+1;else return ae[3*ue+2];return 0}}ie._INSTANCE=null;function de(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function ye(j,ne){if(j===0)return 0;const ae=ke(j,ne);if(ae!==void 0)return ae;const le=W(ne,j);return j-=Ie(le),j}e.getLeftDeleteOffset=ye;function ke(j,ne){let ae=W(ne,j);for(j-=Ie(ae);Ne(ae)||ae===65039||ae===8419;){if(j===0)return;ae=W(ne,j),j-=Ie(ae)}if(!!ce(ae)){if(j>=0){const le=W(ne,j);le===8205&&(j-=Ie(le))}return j}}function Ie(j){return j>=65536?2:1}function Ne(j){return 127995<=j&&j<=127999}var Ae;(function(j){j[j.zwj=8205]="zwj",j[j.emojiVariantSelector=65039]="emojiVariantSelector",j[j.enclosingKeyCap=8419]="enclosingKeyCap"})(Ae||(Ae={}))}),define(J[96],Z([0,1,18]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var R;(function(w){w[w.Ignore=0]="Ignore",w[w.Info=1]="Info",w[w.Warning=2]="Warning",w[w.Error=3]="Error"})(R||(R={})),function(w){const k="error",T="warning",S="warn",h="info",m="ignore";function n(d){return d?g.equalsIgnoreCase(k,d)?w.Error:g.equalsIgnoreCase(T,d)||g.equalsIgnoreCase(S,d)?w.Warning:g.equalsIgnoreCase(h,d)?w.Info:w.Ignore:w.Ignore}w.fromValue=n;function P(d){switch(d){case w.Error:return k;case w.Warning:return T;case w.Info:return h;default:return m}}w.toString=P}(R||(R={})),e.default=R}),define(J[13],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=e.assertNever=e.NotImplementedProxy=e.withUndefinedAsNull=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.areFunctions=e.isFunction=e.isEmptyObject=e.assertAllDefined=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isObject=e.isStringArray=e.isString=e.isArray=void 0;function g(L){return Array.isArray(L)}e.isArray=g;function R(L){return typeof L=="string"}e.isString=R;function w(L){return Array.isArray(L)&&L.every(p=>R(p))}e.isStringArray=w;function k(L){return typeof L=="object"&&L!==null&&!Array.isArray(L)&&!(L instanceof RegExp)&&!(L instanceof Date)}e.isObject=k;function T(L){return typeof L=="number"&&!isNaN(L)}e.isNumber=T;function S(L){return!!L&&typeof L[Symbol.iterator]=="function"}e.isIterable=S;function h(L){return L===!0||L===!1}e.isBoolean=h;function m(L){return typeof L=="undefined"}e.isUndefined=m;function n(L){return!P(L)}e.isDefined=n;function P(L){return m(L)||L===null}e.isUndefinedOrNull=P;function d(L,p){if(!L)throw new Error(p?`Unexpected type, expected '${p}'`:"Unexpected type")}e.assertType=d;function b(L){if(P(L))throw new Error("Assertion Failed: argument is undefined or null");return L}e.assertIsDefined=b;function o(...L){const p=[];for(let _=0;_<L.length;_++){const A=L[_];if(P(A))throw new Error(`Assertion Failed: argument at index ${_} is undefined or null`);p.push(A)}return p}e.assertAllDefined=o;const u=Object.prototype.hasOwnProperty;function y(L){if(!k(L))return!1;for(let p in L)if(u.call(L,p))return!1;return!0}e.isEmptyObject=y;function E(L){return typeof L=="function"}e.isFunction=E;function C(...L){return L.length>0&&L.every(E)}e.areFunctions=C;function f(L,p){const _=Math.min(L.length,p.length);for(let A=0;A<_;A++)c(L[A],p[A])}e.validateConstraints=f;function c(L,p){if(R(p)){if(typeof L!==p)throw new Error(`argument does not match constraint: typeof ${p}`)}else if(E(p)){try{if(L instanceof p)return}catch{}if(!P(L)&&L.constructor===p||p.length===1&&p.call(void 0,L)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=c;function a(L){let p=[],_=Object.getPrototypeOf(L);for(;Object.prototype!==_;)p=p.concat(Object.getOwnPropertyNames(_)),_=Object.getPrototypeOf(_);return p}e.getAllPropertyNames=a;function t(L){const p=[];for(const _ of a(L))typeof L[_]=="function"&&p.push(_);return p}e.getAllMethodNames=t;function s(L,p){const _=I=>function(){const U=Array.prototype.slice.call(arguments,0);return p(I,U)};let A={};for(const I of L)A[I]=_(I);return A}e.createProxyObject=s;function i(L){return L===null?void 0:L}e.withNullAsUndefined=i;function r(L){return typeof L=="undefined"?null:L}e.withUndefinedAsNull=r;function l(L){return class{constructor(){return new Proxy({},{get(p,_){if(p[_])return p[_];throw new Error(`Not Implemented: ${L}->${String(_)}`)}})}}}e.NotImplementedProxy=l;function v(L,p="Unreachable"){throw new Error(p)}e.assertNever=v;function D(L){return!!L&&typeof L.then=="function"&&typeof L.catch=="function"}e.isPromise=D}),define(J[33],Z([0,1,5,3,18,13]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function T(i){return i===47||i===92}e.isPathSeparator=T;function S(i){return i.replace(/[\\/]/g,g.posix.sep)}e.toSlashes=S;function h(i){return i.indexOf("/")===-1&&(i=S(i)),/^[a-zA-Z]:(\/|$)/.test(i)&&(i="/"+i),i}e.toPosixPath=h;function m(i,r=g.posix.sep){if(!i)return"";const l=i.length,v=i.charCodeAt(0);if(T(v)){if(T(i.charCodeAt(1))&&!T(i.charCodeAt(2))){let L=3;const p=L;for(;L<l&&!T(i.charCodeAt(L));L++);if(p!==L&&!T(i.charCodeAt(L+1))){for(L+=1;L<l;L++)if(T(i.charCodeAt(L)))return i.slice(0,L+1).replace(/[\\/]/g,r)}}return r}else if(E(v)&&i.charCodeAt(1)===58)return T(i.charCodeAt(2))?i.slice(0,2)+r:i.slice(0,2);let D=i.indexOf("://");if(D!==-1){for(D+=3;D<l;D++)if(T(i.charCodeAt(D)))return i.slice(0,D+1)}return""}e.getRoot=m;function n(i){if(!R.isWindows||!i||i.length<5)return!1;let r=i.charCodeAt(0);if(r!==92||(r=i.charCodeAt(1),r!==92))return!1;let l=2;const v=l;for(;l<i.length&&(r=i.charCodeAt(l),r!==92);l++);return!(v===l||(r=i.charCodeAt(l+1),isNaN(r)||r===92))}e.isUNC=n;const P=/[\\/:\*\?"<>\|]/g,d=/[\\/]/g,b=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function o(i,r=R.isWindows){const l=r?P:d;return!(!i||i.length===0||/^\s+$/.test(i)||(l.lastIndex=0,l.test(i))||r&&b.test(i)||i==="."||i===".."||r&&i[i.length-1]==="."||r&&i.length!==i.trim().length||i.length>255)}e.isValidBasename=o;function u(i,r,l){const v=i===r;return!l||v?v:!i||!r?!1:(0,w.equalsIgnoreCase)(i,r)}e.isEqual=u;function y(i,r,l,v=g.sep){if(i===r)return!0;if(!i||!r||r.length>i.length)return!1;if(l){if(!(0,w.startsWithIgnoreCase)(i,r))return!1;if(r.length===i.length)return!0;let L=r.length;return r.charAt(r.length-1)===v&&L--,i.charAt(L)===v}return r.charAt(r.length-1)!==v&&(r+=v),i.indexOf(r)===0}e.isEqualOrParent=y;function E(i){return i>=65&&i<=90||i>=97&&i<=122}e.isWindowsDriveLetter=E;function C(i,r){return R.isWindows&&i.endsWith(":")&&(i+=g.sep),(0,g.isAbsolute)(i)||(i=(0,g.join)(r,i)),i=(0,g.normalize)(i),R.isWindows?(i=(0,w.rtrim)(i,g.sep),i.endsWith(":")&&(i+=g.sep)):(i=(0,w.rtrim)(i,g.sep),i||(i=g.sep)),i}e.sanitizeFilePath=C;function f(i){const r=(0,g.normalize)(i);return R.isWindows?i.length>3?!1:c(r)&&(i.length===2||r.charCodeAt(2)===92):r===g.posix.sep}e.isRootOrDriveLetter=f;function c(i){return R.isWindows?E(i.charCodeAt(0))&&i.charCodeAt(1)===58:!1}e.hasDriveLetter=c;function a(i){return c(i)?i[0]:void 0}e.getDriveLetter=a;function t(i,r,l){return r.length>i.length?-1:i===r?0:(l&&(i=i.toLowerCase(),r=r.toLowerCase()),i.indexOf(r))}e.indexOfPath=t;function s(i){const r=i.split(":");let l,v,D;if(r.forEach(L=>{const p=Number(L);(0,k.isNumber)(p)?v===void 0?v=p:D===void 0&&(D=p):l=l?[l,L].join(":"):L}),!l)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:l,line:v!==void 0?v:void 0,column:D!==void 0?D:v!==void 0?1:void 0}}e.parseLineAndColumnAware=s}),define(J[20],Z([0,1,13]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.getCaseInsensitive=e.distinct=e.getOrDefault=e.safeStringify=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function R(u){if(!u||typeof u!="object"||u instanceof RegExp)return u;const y=Array.isArray(u)?[]:{};return Object.keys(u).forEach(E=>{u[E]&&typeof u[E]=="object"?y[E]=R(u[E]):y[E]=u[E]}),y}e.deepClone=R;function w(u){if(!u||typeof u!="object")return u;const y=[u];for(;y.length>0;){const E=y.shift();Object.freeze(E);for(const C in E)if(k.call(E,C)){const f=E[C];typeof f=="object"&&!Object.isFrozen(f)&&y.push(f)}}return u}e.deepFreeze=w;const k=Object.prototype.hasOwnProperty;function T(u,y){return S(u,y,new Set)}e.cloneAndChange=T;function S(u,y,E){if((0,g.isUndefinedOrNull)(u))return u;const C=y(u);if(typeof C!="undefined")return C;if((0,g.isArray)(u)){const f=[];for(const c of u)f.push(S(c,y,E));return f}if((0,g.isObject)(u)){if(E.has(u))throw new Error("Cannot clone recursive data-structure");E.add(u);const f={};for(let c in u)k.call(u,c)&&(f[c]=S(u[c],y,E));return E.delete(u),f}return u}function h(u,y,E=!0){return(0,g.isObject)(u)?((0,g.isObject)(y)&&Object.keys(y).forEach(C=>{C in u?E&&((0,g.isObject)(u[C])&&(0,g.isObject)(y[C])?h(u[C],y[C],E):u[C]=y[C]):u[C]=y[C]}),u):y}e.mixin=h;function m(u,y){if(u===y)return!0;if(u==null||y===null||y===void 0||typeof u!=typeof y||typeof u!="object"||Array.isArray(u)!==Array.isArray(y))return!1;let E,C;if(Array.isArray(u)){if(u.length!==y.length)return!1;for(E=0;E<u.length;E++)if(!m(u[E],y[E]))return!1}else{const f=[];for(C in u)f.push(C);f.sort();const c=[];for(C in y)c.push(C);if(c.sort(),!m(f,c))return!1;for(E=0;E<f.length;E++)if(!m(u[f[E]],y[f[E]]))return!1}return!0}e.equals=m;function n(u){const y=new Set;return JSON.stringify(u,(E,C)=>{if((0,g.isObject)(C)||Array.isArray(C)){if(y.has(C))return"[Circular]";y.add(C)}return C})}e.safeStringify=n;function P(u,y,E){const C=y(u);return typeof C=="undefined"?E:C}e.getOrDefault=P;function d(u,y){const E=Object.create(null);return!u||!y||Object.keys(y).forEach(f=>{const c=u[f],a=y[f];m(c,a)||(E[f]=a)}),E}e.distinct=d;function b(u,y){const E=y.toLowerCase(),C=Object.keys(u).find(f=>f.toLowerCase()===E);return C?u[C]:u[y]}e.getCaseInsensitive=b;function o(u,y){const E=Object.create(null);for(const C of Object.keys(u))y(C,u[C])&&(E[C]=u[C]);return E}e.filter=o}),define(J[7],Z([0,1,5,3]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const w=/^\w[\w\d+.-]*$/,k=/^\//,T=/^\/\//;function S(i,r){if(!i.scheme&&r)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${i.authority}", path: "${i.path}", query: "${i.query}", fragment: "${i.fragment}"}`);if(i.scheme&&!w.test(i.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(i.path){if(i.authority){if(!k.test(i.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(T.test(i.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function h(i,r){return!i&&!r?"file":i}function m(i,r){switch(i){case"https":case"http":case"file":r?r[0]!==P&&(r=P+r):r=P;break}return r}const n="",P="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class b{constructor(r,l,v,D,L,p=!1){typeof r=="object"?(this.scheme=r.scheme||n,this.authority=r.authority||n,this.path=r.path||n,this.query=r.query||n,this.fragment=r.fragment||n):(this.scheme=h(r,p),this.authority=l||n,this.path=m(this.scheme,v||n),this.query=D||n,this.fragment=L||n,S(this,p))}static isUri(r){return r instanceof b?!0:r?typeof r.authority=="string"&&typeof r.fragment=="string"&&typeof r.path=="string"&&typeof r.query=="string"&&typeof r.scheme=="string"&&typeof r.fsPath=="string"&&typeof r.with=="function"&&typeof r.toString=="function":!1}get fsPath(){return f(this,!1)}with(r){if(!r)return this;let{scheme:l,authority:v,path:D,query:L,fragment:p}=r;return l===void 0?l=this.scheme:l===null&&(l=n),v===void 0?v=this.authority:v===null&&(v=n),D===void 0?D=this.path:D===null&&(D=n),L===void 0?L=this.query:L===null&&(L=n),p===void 0?p=this.fragment:p===null&&(p=n),l===this.scheme&&v===this.authority&&D===this.path&&L===this.query&&p===this.fragment?this:new u(l,v,D,L,p)}static parse(r,l=!1){const v=d.exec(r);return v?new u(v[2]||n,s(v[4]||n),s(v[5]||n),s(v[7]||n),s(v[9]||n),l):new u(n,n,n,n,n)}static file(r){let l=n;if(R.isWindows&&(r=r.replace(/\\/g,P)),r[0]===P&&r[1]===P){const v=r.indexOf(P,2);v===-1?(l=r.substring(2),r=P):(l=r.substring(2,v),r=r.substring(v)||P)}return new u("file",l,r,n,n)}static from(r){const l=new u(r.scheme,r.authority,r.path,r.query,r.fragment);return S(l,!0),l}static joinPath(r,...l){if(!r.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let v;return R.isWindows&&r.scheme==="file"?v=b.file(g.win32.join(f(r,!0),...l)).path:v=g.posix.join(r.path,...l),r.with({path:v})}toString(r=!1){return c(this,r)}toJSON(){return this}static revive(r){if(r){if(r instanceof b)return r;{const l=new u(r);return l._formatted=r.external,l._fsPath=r._sep===o?r.fsPath:null,l}}else return r}}e.URI=b;const o=R.isWindows?1:void 0;class u extends b{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=f(this,!1)),this._fsPath}toString(r=!1){return r?c(this,!0):(this._formatted||(this._formatted=c(this,!1)),this._formatted)}toJSON(){const r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=o),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}}const y={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function E(i,r){let l,v=-1;for(let D=0;D<i.length;D++){const L=i.charCodeAt(D);if(L>=97&&L<=122||L>=65&&L<=90||L>=48&&L<=57||L===45||L===46||L===95||L===126||r&&L===47)v!==-1&&(l+=encodeURIComponent(i.substring(v,D)),v=-1),l!==void 0&&(l+=i.charAt(D));else{l===void 0&&(l=i.substr(0,D));const p=y[L];p!==void 0?(v!==-1&&(l+=encodeURIComponent(i.substring(v,D)),v=-1),l+=p):v===-1&&(v=D)}}return v!==-1&&(l+=encodeURIComponent(i.substring(v))),l!==void 0?l:i}function C(i){let r;for(let l=0;l<i.length;l++){const v=i.charCodeAt(l);v===35||v===63?(r===void 0&&(r=i.substr(0,l)),r+=y[v]):r!==void 0&&(r+=i[l])}return r!==void 0?r:i}function f(i,r){let l;return i.authority&&i.path.length>1&&i.scheme==="file"?l=`//${i.authority}${i.path}`:i.path.charCodeAt(0)===47&&(i.path.charCodeAt(1)>=65&&i.path.charCodeAt(1)<=90||i.path.charCodeAt(1)>=97&&i.path.charCodeAt(1)<=122)&&i.path.charCodeAt(2)===58?r?l=i.path.substr(1):l=i.path[1].toLowerCase()+i.path.substr(2):l=i.path,R.isWindows&&(l=l.replace(/\//g,"\\")),l}e.uriToFsPath=f;function c(i,r){const l=r?C:E;let v="",{scheme:D,authority:L,path:p,query:_,fragment:A}=i;if(D&&(v+=D,v+=":"),(L||D==="file")&&(v+=P,v+=P),L){let I=L.indexOf("@");if(I!==-1){const U=L.substr(0,I);L=L.substr(I+1),I=U.indexOf(":"),I===-1?v+=l(U,!1):(v+=l(U.substr(0,I),!1),v+=":",v+=l(U.substr(I+1),!1)),v+="@"}L=L.toLowerCase(),I=L.indexOf(":"),I===-1?v+=l(L,!1):(v+=l(L.substr(0,I),!1),v+=L.substr(I))}if(p){if(p.length>=3&&p.charCodeAt(0)===47&&p.charCodeAt(2)===58){const I=p.charCodeAt(1);I>=65&&I<=90&&(p=`/${String.fromCharCode(I+32)}:${p.substr(3)}`)}else if(p.length>=2&&p.charCodeAt(1)===58){const I=p.charCodeAt(0);I>=65&&I<=90&&(p=`${String.fromCharCode(I+32)}:${p.substr(2)}`)}v+=l(p,!0)}return _&&(v+="?",v+=l(_,!1)),A&&(v+="#",v+=r?A:E(A,!1)),v}function a(i){try{return decodeURIComponent(i)}catch{return i.length>3?i.substr(0,3)+a(i.substr(3)):i}}const t=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function s(i){return i.match(t)?i.replace(t,r=>a(r)):i}}),define(J[97],Z([0,1,7]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.log=e.getFirstFrame=e.parse=e.isRemoteConsoleLog=void 0;function R(m){const n=m;return n&&typeof n.type=="string"&&typeof n.severity=="string"}e.isRemoteConsoleLog=R;function w(m){const n=[];let P;try{const d=JSON.parse(m.arguments),b=d[d.length-1];b&&b.__$stack&&(d.pop(),P=b.__$stack),n.push(...d)}catch(d){n.push("Unable to log remote console arguments",m.arguments)}return{args:n,stack:P}}e.parse=w;function k(m){if(typeof m!="string")return k(w(m).stack);const n=m;if(n){const P=T(n),d=/at [^\/]*((?:(?:[a-zA-Z]+:)|(?:[\/])|(?:\\\\))(?:.+)):(\d+):(\d+)/.exec(P||"");if(d&&d.length===4)return{uri:g.URI.file(d[1]),line:Number(d[2]),column:Number(d[3])}}}e.getFirstFrame=k;function T(m){if(!m)return m;const n=m.indexOf(`
`);return n===-1?m:m.substring(0,n)}function S(m,n){const{args:P,stack:d}=w(m),b=typeof P[0]=="string"&&P.length===1;let o=T(d);o&&(o=`(${o.trim()})`);let u=[];if(typeof P[0]=="string"?o&&b?u=[`%c[${n}] %c${P[0]} %c${o}`,h("blue"),h(""),h("grey")]:u=[`%c[${n}] %c${P[0]}`,h("blue"),h(""),...P.slice(1)]:u=[`%c[${n}]%`,h("blue"),...P],o&&!b&&u.push(o),typeof console[m.severity]!="function")throw new Error("Unknown console method");console[m.severity].apply(console,u)}e.log=S;function h(m){return`color: ${m}`}});var Ve=this&&this.__classPrivateFieldSet||function(x,e,g,R,w){if(R==="m")throw new TypeError("Private method is not writable");if(R==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?x!==e||!w:!e.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return R==="a"?w.call(x,g):w?w.value=g:e.set(x,g),g},ze=this&&this.__classPrivateFieldGet||function(x,e,g,R){if(g==="a"&&!R)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?x!==e||!R:!e.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?R:g==="a"?R.call(x):R?R.value:e.get(x)};define(J[34],Z([0,1,18,7]),function(x,e,g,R){"use strict";var w,k,T;Object.defineProperty(e,"__esModule",{value:!0}),e.ReadonlyMapView=e.LRUCache=e.LinkedMap=e.Touch=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=e.setToString=e.mapToString=e.getOrSet=void 0;function S(t,s,i){let r=t.get(s);return r===void 0&&(r=i,t.set(s,r)),r}e.getOrSet=S;function h(t){const s=[];return t.forEach((i,r)=>{s.push(`${r} => ${i}`)}),`Map(${t.size}) {${s.join(", ")}}`}e.mapToString=h;function m(t){const s=[];return t.forEach(i=>{s.push(i)}),`Set(${t.size}) {${s.join(", ")}}`}e.setToString=m;class n{constructor(){this._value="",this._pos=0}reset(s){return this._value=s,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(s){const i=s.charCodeAt(0),r=this._value.charCodeAt(this._pos);return i-r}value(){return this._value[this._pos]}}e.StringIterator=n;class P{constructor(s=!0){this._caseSensitive=s}reset(s){return this._value=s,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(s)this._from++;else break;else s=!1;return this}cmp(s){return this._caseSensitive?(0,g.compareSubstring)(s,this._value,0,s.length,this._from,this._to):(0,g.compareSubstringIgnoreCase)(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=P;class d{constructor(s=!0,i=!0){this._splitOnBackslash=s,this._caseSensitive=i}reset(s){return this._value=s.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++){const i=this._value.charCodeAt(this._to);if(i===47||this._splitOnBackslash&&i===92)if(s)this._from++;else break;else s=!1}return this}cmp(s){return this._caseSensitive?(0,g.compareSubstring)(s,this._value,0,s.length,this._from,this._to):(0,g.compareSubstringIgnoreCase)(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=d;var b;(function(t){t[t.Scheme=1]="Scheme",t[t.Authority=2]="Authority",t[t.Path=3]="Path",t[t.Query=4]="Query",t[t.Fragment=5]="Fragment"})(b||(b={}));class o{constructor(s){this._ignorePathCasing=s,this._states=[],this._stateIdx=0}reset(s){return this._value=s,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new d(!1,!this._ignorePathCasing(s)),this._pathIterator.reset(s.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(s){if(this._states[this._stateIdx]===1)return(0,g.compareIgnoreCase)(s,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,g.compareIgnoreCase)(s,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(s);if(this._states[this._stateIdx]===4)return(0,g.compare)(s,this._value.query);if(this._states[this._stateIdx]===5)return(0,g.compare)(s,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=o;class u{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class y{constructor(s){this._iter=s}static forUris(s=()=>!1){return new y(new o(s))}static forPaths(){return new y(new d)}static forStrings(){return new y(new n)}static forConfigKeys(){return new y(new P)}clear(){this._root=void 0}set(s,i){const r=this._iter.reset(s);let l;for(this._root||(this._root=new u,this._root.segment=r.value()),l=this._root;;){const D=r.cmp(l.segment);if(D>0)l.left||(l.left=new u,l.left.segment=r.value()),l=l.left;else if(D<0)l.right||(l.right=new u,l.right.segment=r.value()),l=l.right;else if(r.hasNext())r.next(),l.mid||(l.mid=new u,l.mid.segment=r.value()),l=l.mid;else break}const v=l.value;return l.value=i,l.key=s,v}get(s){return this._getNode(s)?.value}_getNode(s){const i=this._iter.reset(s);let r=this._root;for(;r;){const l=i.cmp(r.segment);if(l>0)r=r.left;else if(l<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else break}return r}has(s){const i=this._getNode(s);return!(i?.value===void 0&&i?.mid===void 0)}delete(s){return this._delete(s,!1)}deleteSuperstr(s){return this._delete(s,!0)}_delete(s,i){const r=this._iter.reset(s),l=[];let v=this._root;for(;v;){const D=r.cmp(v.segment);if(D>0)l.push([1,v]),v=v.left;else if(D<0)l.push([-1,v]),v=v.right;else if(r.hasNext())r.next(),l.push([0,v]),v=v.mid;else{for(i?(v.left=void 0,v.mid=void 0,v.right=void 0):v.value=void 0;l.length>0&&v.isEmpty();){let[L,p]=l.pop();switch(L){case 1:p.left=void 0;break;case 0:p.mid=void 0;break;case-1:p.right=void 0;break}v=p}break}}}findSubstr(s){const i=this._iter.reset(s);let r=this._root,l;for(;r;){const v=i.cmp(r.segment);if(v>0)r=r.left;else if(v<0)r=r.right;else if(i.hasNext())i.next(),l=r.value||l,r=r.mid;else break}return r&&r.value||l}findSuperstr(s){const i=this._iter.reset(s);let r=this._root;for(;r;){const l=i.cmp(r.segment);if(l>0)r=r.left;else if(l<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else return r.mid?this._entries(r.mid):void 0}}forEach(s){for(const[i,r]of this)s(r,i)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(s){if(!s)return;const i=[s];for(;i.length>0;){const r=i.pop();r&&(r.value&&(yield[r.key,r.value]),r.left&&i.push(r.left),r.mid&&i.push(r.mid),r.right&&i.push(r.right))}}}e.TernarySearchTree=y;class E{constructor(s,i){this[w]="ResourceMap",s instanceof E?(this.map=new Map(s.map),this.toKey=i??E.defaultToKey):(this.map=new Map,this.toKey=s??E.defaultToKey)}set(s,i){return this.map.set(this.toKey(s),i),this}get(s){return this.map.get(this.toKey(s))}has(s){return this.map.has(this.toKey(s))}get size(){return this.map.size}clear(){this.map.clear()}delete(s){return this.map.delete(this.toKey(s))}forEach(s,i){typeof i!="undefined"&&(s=s.bind(i));for(let[r,l]of this.map)s(l,R.URI.parse(r),this)}values(){return this.map.values()}*keys(){for(let s of this.map.keys())yield R.URI.parse(s)}*entries(){for(let s of this.map.entries())yield[R.URI.parse(s[0]),s[1]]}*[(w=Symbol.toStringTag,Symbol.iterator)](){for(let s of this.map)yield[R.URI.parse(s[0]),s[1]]}}e.ResourceMap=E,E.defaultToKey=t=>t.toString();var C;(function(t){t[t.None=0]="None",t[t.AsOld=1]="AsOld",t[t.AsNew=2]="AsNew"})(C=e.Touch||(e.Touch={}));class f{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(s){return this._map.has(s)}get(s,i=0){const r=this._map.get(s);if(!!r)return i!==0&&this.touch(r,i),r.value}set(s,i,r=0){let l=this._map.get(s);if(l)l.value=i,r!==0&&this.touch(l,r);else{switch(l={key:s,value:i,next:void 0,previous:void 0},r){case 0:this.addItemLast(l);break;case 1:this.addItemFirst(l);break;case 2:this.addItemLast(l);break;default:this.addItemLast(l);break}this._map.set(s,l),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const i=this._map.get(s);if(!!i)return this._map.delete(s),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,i){const r=this._state;let l=this._head;for(;l;){if(i?s.bind(i)(l.value,l.key,this):s(l.value,l.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const s=this,i=this._state;let r=this._head;const l={[Symbol.iterator](){return l},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){const v={value:r.key,done:!1};return r=r.next,v}else return{value:void 0,done:!0}}};return l}values(){const s=this,i=this._state;let r=this._head;const l={[Symbol.iterator](){return l},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){const v={value:r.value,done:!1};return r=r.next,v}else return{value:void 0,done:!0}}};return l}entries(){const s=this,i=this._state;let r=this._head;const l={[Symbol.iterator](){return l},next(){if(s._state!==i)throw new Error("LinkedMap got modified during iteration.");if(r){const v={value:[r.key,r.value],done:!1};return r=r.next,v}else return{value:void 0,done:!0}}};return l}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let i=this._head,r=this.size;for(;i&&r>s;)this._map.delete(i.key),i=i.next,r--;this._head=i,this._size=r,i&&(i.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const i=s.next,r=s.previous;if(!i||!r)throw new Error("Invalid list");i.previous=r,r.next=i}s.next=void 0,s.previous=void 0,this._state++}touch(s,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==1&&i!==2)){if(i===1){if(s===this._head)return;const r=s.next,l=s.previous;s===this._tail?(l.next=void 0,this._tail=l):(r.previous=l,l.next=r),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(i===2){if(s===this._tail)return;const r=s.next,l=s.previous;s===this._head?(r.previous=void 0,this._head=r):(r.previous=l,l.next=r),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((i,r)=>{s.push([r,i])}),s}fromJSON(s){this.clear();for(const[i,r]of s)this.set(i,r)}}e.LinkedMap=f;class c extends f{constructor(s,i=1){super();this._limit=s,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,i=2){return super.get(s,i)}peek(s){return super.get(s,0)}set(s,i){return super.set(s,i,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c;class a{constructor(s){T.set(this,void 0),Ve(this,T,s,"f")}get size(){return ze(this,T,"f").size}forEach(s,i){ze(this,T,"f").forEach(s,i)}get(s){return ze(this,T,"f").get(s)}has(s){return ze(this,T,"f").has(s)}entries(){return ze(this,T,"f").entries()}keys(){return ze(this,T,"f").keys()}values(){return ze(this,T,"f").values()}[(T=new WeakMap,Symbol.iterator)](){return ze(this,T,"f").entries()}}e.ReadonlyMapView=a}),define(J[98],Z([0,1,16,18,7]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.MarshalledId=e.parse=e.stringify=void 0;function k(n){return JSON.stringify(n,h)}e.stringify=k;function T(n){let P=JSON.parse(n);return P=m(P),P}e.parse=T;var S;(function(n){n[n.Uri=1]="Uri",n[n.Regexp=2]="Regexp",n[n.ScmResource=3]="ScmResource",n[n.ScmResourceGroup=4]="ScmResourceGroup",n[n.ScmProvider=5]="ScmProvider",n[n.CommentController=6]="CommentController",n[n.CommentThread=7]="CommentThread",n[n.CommentThreadReply=8]="CommentThreadReply",n[n.CommentNode=9]="CommentNode",n[n.CommentThreadNode=10]="CommentThreadNode",n[n.TimelineActionContext=11]="TimelineActionContext",n[n.NotebookCellActionContext=12]="NotebookCellActionContext",n[n.TestItemContext=13]="TestItemContext"})(S=e.MarshalledId||(e.MarshalledId={}));function h(n,P){return P instanceof RegExp?{$mid:2,source:P.source,flags:(0,R.regExpFlags)(P)}:P}function m(n,P=0){if(!n||P>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return w.URI.revive(n);case 2:return new RegExp(n.source,n.flags)}if(n instanceof g.VSBuffer||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let d=0;d<n.length;++d)n[d]=m(n[d],P+1);else for(const d in n)Object.hasOwnProperty.call(n,d)&&(n[d]=m(n[d],P+1))}return n}e.revive=m}),define(J[8],Z([0,1,3,7]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var w;(function(S){S.inMemory="inmemory",S.vscode="vscode",S.internal="private",S.walkThrough="walkThrough",S.walkThroughSnippet="walkThroughSnippet",S.http="http",S.https="https",S.file="file",S.mailto="mailto",S.untitled="untitled",S.data="data",S.command="command",S.vscodeRemote="vscode-remote",S.vscodeRemoteResource="vscode-remote-resource",S.userData="vscode-userdata",S.vscodeCustomEditor="vscode-custom-editor",S.vscodeNotebook="vscode-notebook",S.vscodeNotebookCell="vscode-notebook-cell",S.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",S.vscodeNotebookCellOutput="vscode-notebook-cell-output",S.vscodeInteractive="vscode-interactive",S.vscodeInteractiveInput="vscode-interactive-input",S.vscodeSettings="vscode-settings",S.vscodeWorkspaceTrust="vscode-workspace-trust",S.vscodeTerminal="vscode-terminal",S.webviewPanel="webview-panel",S.vscodeWebview="vscode-webview",S.extension="extension",S.vscodeFileResource="vscode-file",S.tmp="tmp"})(w=e.Schemas||(e.Schemas={}));class k{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(h){this._preferredWebSchema=h}setDelegate(h){this._delegate=h}set(h,m,n){this._hosts[h]=m,this._ports[h]=n}setConnectionToken(h,m){this._connectionTokens[h]=m}rewrite(h){if(this._delegate)return this._delegate(h);const m=h.authority;let n=this._hosts[m];n&&n.indexOf(":")!==-1&&(n=`[${n}]`);const P=this._connectionTokens[m];let d=`path=${encodeURIComponent(h.path)}`;return typeof P=="string"&&(d+=`&tkn=${encodeURIComponent(P)}`),R.URI.from({scheme:g.isWeb?this._preferredWebSchema:w.vscodeRemoteResource,authority:window.location.host,path:`${window.location.pathname.replace(/\/+$/,"")}/vscode-remote-resource`,query:d})}}e.RemoteAuthorities=new k;class T{asBrowserUri(h,m){const n=this.toUri(h,m);return n.scheme===w.vscodeRemote?e.RemoteAuthorities.rewrite(n):n.scheme===w.file&&(g.isNative||typeof g.globals.importScripts=="function"&&g.globals.origin===`${w.vscodeFileResource}://${T.FALLBACK_AUTHORITY}`)?n.with({scheme:w.vscodeFileResource,authority:n.authority||T.FALLBACK_AUTHORITY,query:null,fragment:null}):n}asFileUri(h,m){const n=this.toUri(h,m);return n.scheme===w.vscodeFileResource?n.with({scheme:w.file,authority:n.authority!==T.FALLBACK_AUTHORITY?n.authority:null,query:null,fragment:null}):n}toUri(h,m){return R.URI.isUri(h)?h:R.URI.parse(m.toUrl(h))}}T.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new T}),define(J[63],Z([0,1,34]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeAccents=e.normalizeNFD=e.normalizeNFC=void 0;const R=new g.LRUCache(1e4);function w(m){return h(m,"NFC",R)}e.normalizeNFC=w;const k=new g.LRUCache(1e4);function T(m){return h(m,"NFD",k)}e.normalizeNFD=T;const S=/[^\u0000-\u0080]/;function h(m,n,P){if(!m)return m;const d=P.get(m);if(d)return d;let b;return S.test(m)?b=m.normalize(n):b=m,P.set(m,b),b}e.removeAccents=function(){const m=/[\u0300-\u036f]/g;return function(n){return T(n).replace(m,"")}}()}),define(J[17],Z([0,1,33,8,5,3,18,7]),function(x,e,g,R,w,k,T,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function h(b){return(0,S.uriToFsPath)(b,!0)}e.originalFSPath=h;class m{constructor(o){this._ignorePathCasing=o}compare(o,u,y=!1){return o===u?0:(0,T.compare)(this.getComparisonKey(o,y),this.getComparisonKey(u,y))}isEqual(o,u,y=!1){return o===u?!0:!o||!u?!1:this.getComparisonKey(o,y)===this.getComparisonKey(u,y)}getComparisonKey(o,u=!1){return o.with({path:this._ignorePathCasing(o)?o.path.toLowerCase():void 0,fragment:u?null:void 0}).toString()}ignorePathCasing(o){return this._ignorePathCasing(o)}isEqualOrParent(o,u,y=!1){if(o.scheme===u.scheme){if(o.scheme===R.Schemas.file)return g.isEqualOrParent(h(o),h(u),this._ignorePathCasing(o))&&o.query===u.query&&(y||o.fragment===u.fragment);if((0,e.isEqualAuthority)(o.authority,u.authority))return g.isEqualOrParent(o.path,u.path,this._ignorePathCasing(o),"/")&&o.query===u.query&&(y||o.fragment===u.fragment)}return!1}joinPath(o,...u){return S.URI.joinPath(o,...u)}basenameOrAuthority(o){return(0,e.basename)(o)||o.authority}basename(o){return w.posix.basename(o.path)}extname(o){return w.posix.extname(o.path)}dirname(o){if(o.path.length===0)return o;let u;return o.scheme===R.Schemas.file?u=S.URI.file(w.dirname(h(o))).path:(u=w.posix.dirname(o.path),o.authority&&u.length&&u.charCodeAt(0)!==47&&(console.error(`dirname("${o.toString})) resulted in a relative path`),u="/")),o.with({path:u})}normalizePath(o){if(!o.path.length)return o;let u;return o.scheme===R.Schemas.file?u=S.URI.file(w.normalize(h(o))).path:u=w.posix.normalize(o.path),o.with({path:u})}relativePath(o,u){if(o.scheme!==u.scheme||!(0,e.isEqualAuthority)(o.authority,u.authority))return;if(o.scheme===R.Schemas.file){const C=w.relative(h(o),h(u));return k.isWindows?g.toSlashes(C):C}let y=o.path||"/",E=u.path||"/";if(this._ignorePathCasing(o)){let C=0;for(const f=Math.min(y.length,E.length);C<f&&!(y.charCodeAt(C)!==E.charCodeAt(C)&&y.charAt(C).toLowerCase()!==E.charAt(C).toLowerCase());C++);y=E.substr(0,C)+y.substr(C)}return w.posix.relative(y,E)}resolvePath(o,u){if(o.scheme===R.Schemas.file){const y=S.URI.file(w.resolve(h(o),u));return o.with({authority:y.authority,path:y.path})}return u=g.toPosixPath(u),o.with({path:w.posix.resolve(o.path,u)})}isAbsolutePath(o){return!!o.path&&o.path[0]==="/"}isEqualAuthority(o,u){return o===u||(0,T.equalsIgnoreCase)(o,u)}hasTrailingPathSeparator(o,u=w.sep){if(o.scheme===R.Schemas.file){const y=h(o);return y.length>g.getRoot(y).length&&y[y.length-1]===u}else{const y=o.path;return y.length>1&&y.charCodeAt(y.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(o.fsPath)}}removeTrailingPathSeparator(o,u=w.sep){return(0,e.hasTrailingPathSeparator)(o,u)?o.with({path:o.path.substr(0,o.path.length-1)}):o}addTrailingPathSeparator(o,u=w.sep){let y=!1;if(o.scheme===R.Schemas.file){const E=h(o);y=E!==void 0&&E.length===g.getRoot(E).length&&E[E.length-1]===u}else{u="/";const E=o.path;y=E.length===1&&E.charCodeAt(E.length-1)===47}return!y&&!(0,e.hasTrailingPathSeparator)(o,u)?o.with({path:o.path+"/"}):o}}e.ExtUri=m,e.extUri=new m(()=>!1),e.extUriBiasedIgnorePathCase=new m(b=>b.scheme===R.Schemas.file?!k.isLinux:!0),e.extUriIgnorePathCase=new m(b=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function n(b,o){const u=[];for(let y=0;y<b.length;y++){const E=o(b[y]);b.some((C,f)=>f===y?!1:(0,e.isEqualOrParent)(E,o(C)))||u.push(b[y])}return u}e.distinctParents=n;var P;(function(b){b.META_DATA_LABEL="label",b.META_DATA_DESCRIPTION="description",b.META_DATA_SIZE="size",b.META_DATA_MIME="mime";function o(u){const y=new Map;u.path.substring(u.path.indexOf(";")+1,u.path.lastIndexOf(";")).split(";").forEach(f=>{const[c,a]=f.split(":");c&&a&&y.set(c,a)});const C=u.path.substring(0,u.path.indexOf(";"));return C&&y.set(b.META_DATA_MIME,C),y}b.parseMetaData=o})(P=e.DataUri||(e.DataUri={}));function d(b,o,u){if(o){let y=b.path;return y&&y[0]!==w.posix.sep&&(y=w.posix.sep+y),b.with({scheme:u,authority:o,path:y})}return b.with({scheme:u})}e.toLocalResource=d}),define(J[14],Z([0,1,25,11,6,2,17]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function S($){return!!$&&typeof $.then=="function"}e.isThenable=S;function h($){const W=new g.CancellationTokenSource,K=$(W.token),V=new Promise((M,G)=>{const z=W.token.onCancellationRequested(()=>{z.dispose(),W.dispose(),G((0,R.canceled)())});Promise.resolve(K).then(N=>{z.dispose(),W.dispose(),M(N)},N=>{z.dispose(),W.dispose(),G(N)})});return new class{cancel(){W.cancel()}then(M,G){return V.then(M,G)}catch(M){return this.then(void 0,M)}finally(M){return V.finally(M)}}}e.createCancelablePromise=h;function m($,W,K){return Promise.race([$,new Promise(V=>W.onCancellationRequested(()=>V(K)))])}e.raceCancellation=m;async function n($){let W=-1;const K=$.map((M,G)=>M.then(z=>(W=G,z))),V=await Promise.race(K);return $.forEach((M,G)=>{G!==W&&M.cancel()}),V}e.raceCancellablePromises=n;function P($,W,K){let V;const M=setTimeout(()=>{V?.(void 0),K?.()},W);return Promise.race([$.finally(()=>clearTimeout(M)),new Promise(G=>V=G)])}e.raceTimeout=P;function d($){return new Promise((W,K)=>{const V=$();S(V)?V.then(W,K):W(V)})}e.asPromise=d;class b{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(W){if(this.activePromise){if(this.queuedPromiseFactory=W,!this.queuedPromise){const K=()=>{this.queuedPromise=null;const V=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,V};this.queuedPromise=new Promise(V=>{this.activePromise.then(K,K).then(V)})}return new Promise((K,V)=>{this.queuedPromise.then(K,V)})}return this.activePromise=W(),new Promise((K,V)=>{this.activePromise.then(M=>{this.activePromise=null,K(M)},M=>{this.activePromise=null,V(M)})})}}e.Throttler=b;class o{constructor(){this.current=Promise.resolve(null)}queue(W){return this.current=this.current.then(()=>W(),()=>W())}}e.Sequencer=o;class u{constructor(){this.promiseMap=new Map}queue(W,K){const M=(this.promiseMap.get(W)??Promise.resolve()).catch(()=>{}).then(K).finally(()=>{this.promiseMap.get(W)===M&&this.promiseMap.delete(W)});return this.promiseMap.set(W,M),M}}e.SequencerByKey=u;class y{constructor(W){this.defaultDelay=W,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(W,K=this.defaultDelay){return this.task=W,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((V,M)=>{this.doResolve=V,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const V=this.task;return this.task=null,V()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},K),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,R.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}e.Delayer=y;class E{constructor(W){this.delayer=new y(W),this.throttler=new b}trigger(W,K){return this.delayer.trigger(()=>this.throttler.queue(W),K)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=E;class C{constructor(){this._isOpen=!1,this._promise=new Promise((W,K)=>{this._completePromise=W})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=C;class f extends C{constructor(W){super();this._timeout=setTimeout(()=>this.open(),W)}open(){clearTimeout(this._timeout),super.open()}}e.AutoOpenBarrier=f;function c($,W){return W?new Promise((K,V)=>{const M=setTimeout(()=>{G.dispose(),K()},$),G=W.onCancellationRequested(()=>{clearTimeout(M),G.dispose(),V((0,R.canceled)())})}):h(K=>c($,K))}e.timeout=c;function a($,W=0){const K=setTimeout($,W);return(0,k.toDisposable)(()=>clearTimeout(K))}e.disposableTimeout=a;function t($){const W=[];let K=0;const V=$.length;function M(){return K<V?$[K++]():null}function G(z){z!=null&&W.push(z);const N=M();return N?N.then(G):Promise.resolve(W)}return Promise.resolve(null).then(G)}e.sequence=t;function s($,W=V=>!!V,K=null){let V=0;const M=$.length,G=()=>{if(V>=M)return Promise.resolve(K);const z=$[V++];return Promise.resolve(z()).then(F=>W(F)?Promise.resolve(F):G())};return G()}e.first=s;function i($,W=V=>!!V,K=null){if($.length===0)return Promise.resolve(K);let V=$.length;const M=()=>{V=-1;for(const G of $)G.cancel?.()};return new Promise((G,z)=>{for(const N of $)N.then(F=>{--V>=0&&W(F)?(M(),G(F)):V===0&&G(K)}).catch(F=>{--V>=0&&(M(),z(F))})})}e.firstParallel=i;class r{constructor(W){this._size=0,this.maxDegreeOfParalellism=W,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new w.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(W){return this._size++,new Promise((K,V)=>{this.outstandingPromises.push({factory:W,c:K,e:V}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const W=this.outstandingPromises.shift();this.runningPromises++;const K=W.factory();K.then(W.c,W.e),K.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}e.Limiter=r;class l extends r{constructor(){super(1)}}e.Queue=l;class v{constructor(){this.queues=new Map}queueFor(W,K=T.extUri){const V=K.getComparisonKey(W);let M=this.queues.get(V);return M||(M=new l,w.Event.once(M.onFinished)(()=>{M?.dispose(),this.queues.delete(V)}),this.queues.set(V,M)),M}dispose(){this.queues.forEach(W=>W.dispose()),this.queues.clear()}}e.ResourceQueue=v;class D{constructor(W,K){this._token=-1,typeof W=="function"&&typeof K=="number"&&this.setIfNotSet(W,K)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(W,K){this.cancel(),this._token=setTimeout(()=>{this._token=-1,W()},K)}setIfNotSet(W,K){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,W()},K))}}e.TimeoutTimer=D;class L{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(W,K){this.cancel(),this._token=setInterval(()=>{W()},K)}}e.IntervalTimer=L;class p{constructor(W,K){this.timeoutToken=-1,this.runner=W,this.timeout=K,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(W=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,W)}get delay(){return this.timeout}set delay(W){this.timeout=W}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=p;class _ extends p{constructor(W,K){super(W,K);this.units=[]}work(W){this.units.push(W),this.isScheduled()||this.schedule()}doRun(){const W=this.units;this.units=[],this.runner&&this.runner(W)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=_;class A extends k.Disposable{constructor(W,K,V,M){super();this.maxWorkChunkSize=W,this.maxPendingWork=K,this.throttleDelay=V,this.handler=M,this.pendingWork=[],this.throttler=this._register(new k.MutableDisposable),this.disposed=!1}get pending(){return this.pendingWork.length}work(W){if(this.disposed)return!1;if(typeof this.maxPendingWork=="number"){if(this.throttler.value){if(this.pending+W.length>this.maxPendingWork)return!1}else if(this.pending+W.length-this.maxWorkChunkSize>this.maxPendingWork)return!1}return this.pendingWork.push(...W),this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new p(()=>{this.throttler.clear(),this.doWork()},this.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}e.ThrottledWorker=A,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const $=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=W=>{const K=setTimeout(()=>W($));let V=!1;return{dispose(){V||(V=!0,clearTimeout(K))}}}}else e.runWhenIdle=($,W)=>{const K=requestIdleCallback($,typeof W=="number"?{timeout:W}:void 0);let V=!1;return{dispose(){V||(V=!0,cancelIdleCallback(K))}}}}();class I{constructor(W){this._didRun=!1,this._executor=()=>{try{this._value=W()}catch(K){this._error=K}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=I;async function U($,W,K){let V;for(let M=0;M<K;M++)try{return await $()}catch(G){V=G,await c(W)}throw V}e.retry=U;class B{hasPending(W){return this._pending?typeof W=="number"?this._pending.taskId===W:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){this._pending?.cancel()}setPending(W,K,V){return this._pending={taskId:W,cancel:()=>V?.(),promise:K},K.then(()=>this.donePending(W),()=>this.donePending(W)),K}donePending(W){this._pending&&W===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const W=this._next;this._next=void 0,W.run().then(W.promiseResolve,W.promiseReject)}}setNext(W){if(this._next)this._next.run=W;else{let K,V;const M=new Promise((G,z)=>{K=G,V=z});this._next={run:W,promise:M,promiseResolve:K,promiseReject:V}}return this._next.promise}}e.TaskSequentializer=B;class ee{constructor(W){this.interval=W,this.lastIncrementTime=0,this.value=0}increment(){const W=Date.now();return W-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=W,this.value=0),this.value++,this.value}}e.IntervalCounter=ee;class Q{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((W,K)=>{this.completeCallback=W,this.errorCallback=K})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(W){return new Promise(K=>{this.completeCallback(W),this.resolved=!0,K()})}error(W){return new Promise(K=>{this.errorCallback(W),this.rejected=!0,K()})}cancel(){new Promise(W=>{this.errorCallback((0,R.canceled)()),this.rejected=!0,W()})}}e.DeferredPromise=Q;var O;(function($){async function W(K){let V;const M=await Promise.all(K.map(G=>G.then(z=>z,z=>{V||(V=z)})));if(typeof V!="undefined")throw V;return M}$.settled=W})(O=e.Promises||(e.Promises={}))}),define(J[99],Z([0,1,14,33,34,5,18]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPathTerms=e.getBasenameTerms=e.isRelativePattern=e.hasSiblingFn=e.hasSiblingPromiseFn=e.parse=e.match=e.splitGlobAware=e.getEmptyExpression=void 0;function S(){return Object.create(null)}e.getEmptyExpression=S;const h="**",m="/",n="[/\\\\]",P="[^/\\\\]",d=/\//g;function b(M){switch(M){case 0:return"";case 1:return`${P}*?`;default:return`(?:${n}|${P}+${n}|${n}${P}+)*?`}}function o(M,G){if(!M)return[];const z=[];let N=!1,F=!1,q="";for(const H of M){switch(H){case G:if(!N&&!F){z.push(q),q="";continue}break;case"{":N=!0;break;case"}":N=!1;break;case"[":F=!0;break;case"]":F=!1;break}q+=H}return q&&z.push(q),z}e.splitGlobAware=o;function u(M){if(!M)return"";let G="";const z=o(M,m);if(z.every(N=>N===h))G=".*";else{let N=!1;z.forEach((F,q)=>{if(F===h){N||(G+=b(2),N=!0);return}let H=!1,Y="",te=!1,oe="";for(const se of F){if(se!=="}"&&H){Y+=se;continue}if(te&&(se!=="]"||!oe)){let ce;se==="-"?ce=se:(se==="^"||se==="!")&&!oe?ce="^":se===m?ce="":ce=T.escapeRegExpCharacters(se),oe+=ce;continue}switch(se){case"{":H=!0;continue;case"[":te=!0;continue;case"}":G+=`(?:${o(Y,",").map(me=>u(me)).join("|")})`,H=!1,Y="";break;case"]":G+="["+oe+"]",te=!1,oe="";break;case"?":G+=P;continue;case"*":G+=b(1);continue;default:G+=T.escapeRegExpCharacters(se)}}q<z.length-1&&(z[q+1]!==h||q+2<z.length)&&(G+=n),N=!1})}return G}const y=/^\*\*\/\*\.[\w\.-]+$/,E=/^\*\*\/([\w\.-]+)\/?$/,C=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,f=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,c=/^\*\*((\/[\w\.-]+)+)\/?$/,a=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,t=new w.LRUCache(1e4),s=function(){return!1},i=function(){return null};function r(M,G){if(!M)return i;let z;typeof M!="string"?z=M.pattern:z=M,z=z.trim();const N=`${z}_${!!G.trimForExclusions}`;let F=t.get(N);if(F)return l(F,M);let q;if(y.test(z)){const H=z.substr(4);F=function(Y,te){return typeof Y=="string"&&Y.endsWith(H)?z:null}}else(q=E.exec(v(z,G)))?F=D(q[1],z):(G.trimForExclusions?f:C).test(z)?F=L(z,G):(q=c.exec(v(z,G)))?F=p(q[1].substr(1),z,!0):(q=a.exec(v(z,G)))?F=p(q[1],z,!1):F=_(z);return t.set(N,F),l(F,M)}function l(M,G){return typeof G=="string"?M:function(z,N){return R.isEqualOrParent(z,G.base)?M(k.relative(G.base,z),N):null}}function v(M,G){return G.trimForExclusions&&M.endsWith("/**")?M.substr(0,M.length-2):M}function D(M,G){const z=`/${M}`,N=`\\${M}`,F=function(H,Y){return typeof H!="string"?null:Y?Y===M?G:null:H===M||H.endsWith(z)||H.endsWith(N)?G:null},q=[M];return F.basenames=q,F.patterns=[G],F.allBasenames=q,F}function L(M,G){const z=V(M.slice(1,-1).split(",").map(Y=>r(Y,G)).filter(Y=>Y!==i),M),N=z.length;if(!N)return i;if(N===1)return z[0];const F=function(Y,te){for(let oe=0,se=z.length;oe<se;oe++)if(z[oe](Y,te))return M;return null},q=z.find(Y=>!!Y.allBasenames);q&&(F.allBasenames=q.allBasenames);const H=z.reduce((Y,te)=>te.allPaths?Y.concat(te.allPaths):Y,[]);return H.length&&(F.allPaths=H),F}function p(M,G,z){const N=k.sep===k.posix.sep,F=N?M:M.replace(d,k.sep),q=k.sep+F,H=k.posix.sep+M,Y=z?function(te,oe){return typeof te=="string"&&(te===F||te.endsWith(q)||!N&&(te===M||te.endsWith(H)))?G:null}:function(te,oe){return typeof te=="string"&&(te===F||!N&&te===M)?G:null};return Y.allPaths=[(z?"*/":"./")+M],Y}function _(M){try{const G=new RegExp(`^${u(M)}$`);return function(z){return G.lastIndex=0,typeof z=="string"&&G.test(z)?M:null}}catch(G){return i}}function A(M,G,z){return!M||typeof G!="string"?!1:I(M)(G,void 0,z)}e.match=A;function I(M,G={}){if(!M)return s;if(typeof M=="string"||Q(M)){const z=r(M,G);if(z===i)return s;const N=function(F,q){return!!z(F,q)};return z.allBasenames&&(N.allBasenames=z.allBasenames),z.allPaths&&(N.allPaths=z.allPaths),N}return W(M,G)}e.parse=I;function U(M){if(!M)return;let G;return z=>(G||(G=(M()||Promise.resolve([])).then(N=>N?ee(N):{})),G.then(N=>!!N[z]))}e.hasSiblingPromiseFn=U;function B(M){if(!M)return;let G;return z=>{if(!G){const N=M();G=N?ee(N):{}}return!!G[z]}}e.hasSiblingFn=B;function ee(M){const G={};for(const z of M)G[z]=!0;return G}function Q(M){const G=M;return G&&typeof G.base=="string"&&typeof G.pattern=="string"}e.isRelativePattern=Q;function O(M){return M.allBasenames||[]}e.getBasenameTerms=O;function $(M){return M.allPaths||[]}e.getPathTerms=$;function W(M,G){const z=V(Object.getOwnPropertyNames(M).map(Y=>K(Y,M[Y],G)).filter(Y=>Y!==i)),N=z.length;if(!N)return i;if(!z.some(Y=>!!Y.requiresSiblings)){if(N===1)return z[0];const Y=function(se,ce){for(let he=0,me=z.length;he<me;he++){const De=z[he](se,ce);if(De)return De}return null},te=z.find(se=>!!se.allBasenames);te&&(Y.allBasenames=te.allBasenames);const oe=z.reduce((se,ce)=>ce.allPaths?se.concat(ce.allPaths):se,[]);return oe.length&&(Y.allPaths=oe),Y}const F=function(Y,te,oe){let se;for(let ce=0,he=z.length;ce<he;ce++){const me=z[ce];me.requiresSiblings&&oe&&(te||(te=k.basename(Y)),se||(se=te.substr(0,te.length-k.extname(Y).length)));const De=me(Y,te,se,oe);if(De)return De}return null},q=z.find(Y=>!!Y.allBasenames);q&&(F.allBasenames=q.allBasenames);const H=z.reduce((Y,te)=>te.allPaths?Y.concat(te.allPaths):Y,[]);return H.length&&(F.allPaths=H),F}function K(M,G,z){if(G===!1)return i;const N=r(M,z);if(N===i)return i;if(typeof G=="boolean")return N;if(G){const F=G.when;if(typeof F=="string"){const q=(H,Y,te,oe)=>{if(!oe||!N(H,Y))return null;const se=F.replace("$(basename)",te),ce=oe(se);return(0,g.isThenable)(ce)?ce.then(he=>he?M:null):ce?M:null};return q.requiresSiblings=!0,q}}return N}function V(M,G){const z=M.filter(Y=>!!Y.basenames);if(z.length<2)return M;const N=z.reduce((Y,te)=>{const oe=te.basenames;return oe?Y.concat(oe):Y},[]);let F;if(G){F=[];for(let Y=0,te=N.length;Y<te;Y++)F.push(G)}else F=z.reduce((Y,te)=>{const oe=te.patterns;return oe?Y.concat(oe):Y},[]);const q=function(Y,te){if(typeof Y!="string")return null;if(!te){let se;for(se=Y.length;se>0;se--){const ce=Y.charCodeAt(se-1);if(ce===47||ce===92)break}te=Y.substr(se)}const oe=N.indexOf(te);return oe!==-1?F[oe]:null};q.basenames=N,q.patterns=F,q.allBasenames=N;const H=M.filter(Y=>!Y.basenames);return H.push(q),H}}),define(J[64],Z([0,1,33,8,5,3,17,18,7]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitName=e.unmnemonicLabel=e.mnemonicButtonLabel=e.mnemonicMenuLabel=e.template=e.shorten=e.untildify=e.tildify=e.normalizeDriveLetter=e.getBaseLabel=e.getPathLabel=void 0;function m(r,l,v){if(typeof r=="string"&&(r=h.URI.file(r)),v){const L=v.getWorkspaceFolder(r);if(L){const p=v.getWorkspace().folders.length>1;let _;if((0,T.isEqual)(L.uri,r)?_="":_=(0,T.relativePath)(L.uri,r),p){const A=L.name?L.name:(0,T.basename)(L.uri);_=_?A+" \u2022 "+_:A}return _}}if(r.scheme!==R.Schemas.file&&r.scheme!==R.Schemas.untitled)return r.with({query:null,fragment:null}).toString(!0);if((0,g.hasDriveLetter)(r.fsPath))return(0,w.normalize)(P(r.fsPath));let D=(0,w.normalize)(r.fsPath);return!k.isWindows&&l?.userHome&&(D=b(D,l.userHome.fsPath)),D}e.getPathLabel=m;function n(r){if(!r)return;typeof r=="string"&&(r=h.URI.file(r));const l=(0,T.basename)(r)||(r.scheme===R.Schemas.file?r.fsPath:r.path);return k.isWindows&&(0,g.isRootOrDriveLetter)(l)?P(l):l}e.getBaseLabel=n;function P(r){return(0,g.hasDriveLetter)(r)?r.charAt(0).toUpperCase()+r.slice(1):r}e.normalizeDriveLetter=P;let d=Object.create(null);function b(r,l){if(k.isWindows||!r||!l)return r;let v=d.original===l?d.normalized:void 0;return v||(v=`${(0,S.rtrim)(l,w.posix.sep)}${w.posix.sep}`,d={original:l,normalized:v}),(k.isLinux?r.startsWith(v):(0,S.startsWithIgnoreCase)(r,v))&&(r=`~/${r.substr(v.length)}`),r}e.tildify=b;function o(r,l){return r.replace(/^~($|\/|\\)/,`${l}$1`)}e.untildify=o;const u="\u2026",y="\\\\",E="~";function C(r,l=w.sep){const v=new Array(r.length);let D=!1;for(let L=0;L<r.length;L++){let p=r[L];if(p===""){v[L]=`.${l}`;continue}if(!p){v[L]=p;continue}D=!0;let _="";p.indexOf(y)===0?(_=p.substr(0,p.indexOf(y)+y.length),p=p.substr(p.indexOf(y)+y.length)):p.indexOf(l)===0?(_=p.substr(0,p.indexOf(l)+l.length),p=p.substr(p.indexOf(l)+l.length)):p.indexOf(E)===0&&(_=p.substr(0,p.indexOf(E)+E.length),p=p.substr(p.indexOf(E)+E.length));const A=p.split(l);for(let I=1;D&&I<=A.length;I++)for(let U=A.length-I;D&&U>=0;U--){D=!1;let B=A.slice(U,U+I).join(l);for(let ee=0;!D&&ee<r.length;ee++)if(ee!==L&&r[ee]&&r[ee].indexOf(B)>-1){const Q=U+I===A.length,O=U>0&&r[ee].indexOf(l)>-1?l+B:B,$=r[ee].endsWith(O);D=!Q||$}if(!D){let ee="";(A[0].endsWith(":")||_!=="")&&(U===1&&(U=0,I++,B=A[0]+l+B),U>0&&(ee=A[0]+l),ee=_+ee),U>0&&(ee=ee+u+l),ee=ee+B,U+I<A.length&&(ee=ee+l+u),v[L]=ee}}D&&(v[L]=p)}return v}e.shorten=C;var f;(function(r){r[r.TEXT=0]="TEXT",r[r.VARIABLE=1]="VARIABLE",r[r.SEPARATOR=2]="SEPARATOR"})(f||(f={}));function c(r,l=Object.create(null)){const v=[];let D=!1,L="";for(const p of r)if(p==="$"||D&&p==="{")L&&v.push({value:L,type:f.TEXT}),L="",D=!0;else if(p==="}"&&D){const _=l[L];if(typeof _=="string")_.length&&v.push({value:_,type:f.VARIABLE});else if(_){const A=v[v.length-1];(!A||A.type!==f.SEPARATOR)&&v.push({value:_.label,type:f.SEPARATOR})}L="",D=!1}else L+=p;return L&&!D&&v.push({value:L,type:f.TEXT}),v.filter((p,_)=>{if(p.type===f.SEPARATOR){const A=v[_-1],I=v[_+1];return[A,I].every(U=>U&&(U.type===f.VARIABLE||U.type===f.TEXT)&&U.value.length>0)}return!0}).map(p=>p.value).join("")}e.template=c;function a(r,l){return k.isMacintosh||l?r.replace(/\(&&\w\)|&&/g,"").replace(/&/g,k.isMacintosh?"&":"&&"):r.replace(/&&|&/g,v=>v==="&"?"&&":"&")}e.mnemonicMenuLabel=a;function t(r,l){return k.isMacintosh||l?r.replace(/\(&&\w\)|&&/g,""):k.isWindows?r.replace(/&&|&/g,v=>v==="&"?"&&":"&"):r.replace(/&&/g,"_")}e.mnemonicButtonLabel=t;function s(r){return r.replace(/&/g,"&&")}e.unmnemonicLabel=s;function i(r){const l=r.indexOf("/")!==-1?w.posix:w.win32,v=l.basename(r),D=l.dirname(r);return v.length?{name:v,parentPath:D}:{name:D,parentPath:""}}e.splitName=i}),define(J[49],Z([0,1,7]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformAndReviveIncomingURIs=e.transformIncomingURIs=e.transformOutgoingURIs=e.DefaultURITransformer=e.URITransformer=void 0;function R(n){return n.toJSON()}class w{constructor(P){this._uriTransformer=P}transformIncoming(P){const d=this._uriTransformer.transformIncoming(P);return d===P?P:R(g.URI.from(d))}transformOutgoing(P){const d=this._uriTransformer.transformOutgoing(P);return d===P?P:R(g.URI.from(d))}transformOutgoingURI(P){const d=this._uriTransformer.transformOutgoing(P);return d===P?P:g.URI.from(d)}transformOutgoingScheme(P){return this._uriTransformer.transformOutgoingScheme(P)}}e.URITransformer=w,e.DefaultURITransformer=new class{transformIncoming(n){return n}transformOutgoing(n){return n}transformOutgoingURI(n){return n}transformOutgoingScheme(n){return n}};function k(n,P,d){if(!n||d>200)return null;if(typeof n=="object"){if(n instanceof g.URI)return P.transformOutgoing(n);for(let b in n)if(Object.hasOwnProperty.call(n,b)){const o=k(n[b],P,d+1);o!==null&&(n[b]=o)}}return null}function T(n,P){const d=k(n,P,0);return d===null?n:d}e.transformOutgoingURIs=T;function S(n,P,d,b){if(!n||b>200)return null;if(typeof n=="object"){if(n.$mid===1)return d?g.URI.revive(P.transformIncoming(n)):P.transformIncoming(n);for(let o in n)if(Object.hasOwnProperty.call(n,o)){const u=S(n[o],P,d,b+1);u!==null&&(n[o]=u)}}return null}function h(n,P){const d=S(n,P,!1,0);return d===null?n:d}e.transformIncomingURIs=h;function m(n,P){const d=S(n,P,!0,0);return d===null?n:d}e.transformAndReviveIncomingURIs=m}),define(J[65],Z([0,1,8,49]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createServerURITransformer=void 0;class w{constructor(S){this.authority=S}transformIncoming(S){switch(S.scheme){case g.Schemas.vscodeRemote:return{scheme:g.Schemas.file,path:S.path};default:return S}}transformOutgoing(S){switch(S.scheme){case g.Schemas.file:return{scheme:g.Schemas.vscodeRemote,authority:this.authority,path:S.path};default:return S}}transformOutgoingScheme(S){switch(S){case"file":return g.Schemas.vscodeRemote;default:return S}}}function k(T){return new R.URITransformer(new w(T))}e.createServerURITransformer=k}),define(J[26],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.isUUID=void 0;const g=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function R(h){return g.test(h)}e.isUUID=R;const w=new Uint8Array(16),k=[];for(let h=0;h<256;h++)k.push(h.toString(16).padStart(2,"0"));let T;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?T=crypto.getRandomValues.bind(crypto):T=function(h){for(let m=0;m<h.length;m++)h[m]=Math.floor(Math.random()*256);return h};function S(){T(w),w[6]=w[6]&15|64,w[8]=w[8]&63|128;let h=0,m="";return m+=k[w[h++]],m+=k[w[h++]],m+=k[w[h++]],m+=k[w[h++]],m+="-",m+=k[w[h++]],m+=k[w[h++]],m+="-",m+=k[w[h++]],m+=k[w[h++]],m+="-",m+=k[w[h++]],m+=k[w[h++]],m+="-",m+=k[w[h++]],m+=k[w[h++]],m+=k[w[h++]],m+=k[w[h++]],m+=k[w[h++]],m+=k[w[h++]],m}e.generateUuid=S}),define(J[66],Z([0,1,209]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecoder=void 0;class R{constructor(k="utf8"){this.stringDecoder=new g.StringDecoder(k),this.remaining=null}write(k){const T=[],S=this.remaining?this.remaining+this.stringDecoder.write(k):this.stringDecoder.write(k);if(S.length<1)return T;let h=0,m,n=h;for(;n<S.length;)if(m=S.charCodeAt(n),m===13||m===10){if(T.push(S.substring(h,n)),n++,n<S.length){const P=m;m=S.charCodeAt(n),(P===13&&m===10||P===10&&m===13)&&n++}h=n}else n++;return this.remaining=h<S.length?S.substr(h):null,T}end(){return this.remaining}}e.LineDecoder=R}),function(){"use strict";function x(e,g,R,w){function k(o){return new Promise(u=>R.exists(o,u))}function T(o){return new Promise((u,y)=>{const E=new Date;R.utimes(o,E,E,C=>C?y(C):u())})}function S(o){return new Promise((u,y)=>R.mkdir(o,{recursive:!0},E=>E&&E.code!=="EEXIST"?y(E):u(o)))}function h(o){return new Promise((u,y)=>R.rmdir(o,{recursive:!0},E=>E&&E.code!=="ENOENT"?y(E):u()))}function m(o){return new Promise((u,y)=>R.readFile(o,"utf8",(E,C)=>E?y(E):u(C)))}function n(o,u){return new Promise((y,E)=>R.writeFile(o,u,"utf8",C=>C?E(C):y()))}function P(o){const u=g.join(o,"languagepacks.json");try{return JSON.parse(R.readFileSync(u,"utf8"))}catch(y){}}function d(o,u){try{for(;u;){if(o[u])return u;{const y=u.lastIndexOf("-");if(y>0)u=u.substring(0,y);else return}}}catch(y){console.error("Resolving language pack configuration failed.",y)}}function b(o,u,y,E){if(E==="pseudo")return Promise.resolve({locale:E,availableLanguages:{},pseudo:!0});if(process.env.VSCODE_DEV)return Promise.resolve({locale:E,availableLanguages:{}});if(E&&(E==="en"||E==="en-us"))return Promise.resolve({locale:E,availableLanguages:{}});const C=E;w.mark("code/willGenerateNls");const f=function(c){return w.mark("code/didGenerateNls"),Promise.resolve({locale:c,availableLanguages:{}})};try{if(!o)return f(C);const c=P(u);if(!c||(E=d(c,E),!E))return f(C);const a=c[E];let t;return!a||typeof a.hash!="string"||!a.translations||typeof(t=a.translations.vscode)!="string"?f(C):k(t).then(s=>{if(!s)return f(C);const i=a.hash+"."+E,r=g.join(u,"clp",i),l=g.join(r,o),v=g.join(r,"tcf.json"),D=g.join(r,"corrupted.info"),L={locale:C,availableLanguages:{"*":E},_languagePackId:i,_translationsConfigFile:v,_cacheRoot:r,_resolvedLanguagePackCoreLocation:l,_corruptedFile:D};return k(D).then(p=>{let _;return p?_=h(r):_=Promise.resolve(void 0),_.then(()=>k(l).then(A=>A?(T(l).catch(()=>{}),w.mark("code/didGenerateNls"),L):S(l).then(()=>Promise.all([m(y),m(t)])).then(I=>{const U=JSON.parse(I[0]),B=JSON.parse(I[1]).contents,ee=Object.keys(U.bundles),Q=[];for(const O of ee){const $=U.bundles[O],W=Object.create(null);for(const K of $){const V=U.keys[K],M=U.messages[K],G=B[K];let z;if(G){z=[];for(let N=0;N<V.length;N++){const F=V[N],q=typeof F=="string"?F:F.key;let H=G[q];H===void 0&&(H=M[N]),z.push(H)}}else z=M;W[K]=z}Q.push(n(g.join(l,O.replace(/\//g,"!")+".nls.json"),JSON.stringify(W)))}return Q.push(n(v,JSON.stringify(a.translations))),Promise.all(Q)}).then(()=>(w.mark("code/didGenerateNls"),L)).catch(I=>(console.error("Generating translation files failed.",I),f(E)))))})})}catch(c){return console.error("Generating translation files failed.",c),f(E)}}return{getNLSConfiguration:b}}if(typeof define=="function")define(J[100],Z([0,36,32,101]),function(e,g,R,w){return x(e.__$__nodeRequire,g,R,w)});else if(typeof module=="object"&&typeof module.exports=="object"){const e=require("path"),g=require("fs"),R=require("../common/performance");module.exports=x(require,e,g,R)}else throw new Error("Unknown context")}(),define(J[102],Z([0,1,22]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMac=void 0;const R=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function w(S){const h=S.replace(/\-/g,":").toLowerCase();return!R.has(h)}function k(){return new Promise(async(S,h)=>{const m=setTimeout(()=>h("Unable to retrieve mac address (timeout after 10s)"),1e4);try{S(await T())}catch(n){h(n)}finally{clearTimeout(m)}})}e.getMac=k;function T(){return new Promise((S,h)=>{try{const m=(0,g.networkInterfaces)();for(let n in m){const P=m[n];if(P){for(const{mac:d}of P)if(w(d))return S(d)}}h("Unable to retrieve mac address (unexpected format)")}catch(m){h(m)}})}}),define(J[103],Z([0,1,22,11,34,26,102]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMachineId=e.virtualMachineHint=void 0,e.virtualMachineHint=new class{_isVirtualMachineMacAddress(n){return this._virtualMachineOUIs||(this._virtualMachineOUIs=w.TernarySearchTree.forStrings(),this._virtualMachineOUIs.set("00-50-56",!0),this._virtualMachineOUIs.set("00-0C-29",!0),this._virtualMachineOUIs.set("00-05-69",!0),this._virtualMachineOUIs.set("00-03-FF",!0),this._virtualMachineOUIs.set("00-1C-42",!0),this._virtualMachineOUIs.set("00-16-3E",!0),this._virtualMachineOUIs.set("08-00-27",!0),this._virtualMachineOUIs.set("00:50:56",!0),this._virtualMachineOUIs.set("00:0C:29",!0),this._virtualMachineOUIs.set("00:05:69",!0),this._virtualMachineOUIs.set("00:03:FF",!0),this._virtualMachineOUIs.set("00:1C:42",!0),this._virtualMachineOUIs.set("00:16:3E",!0),this._virtualMachineOUIs.set("08:00:27",!0)),!!this._virtualMachineOUIs.findSubstr(n)}value(){if(this._value===void 0){let n=0,P=0;const d=(0,g.networkInterfaces)();for(let b in d){const o=d[b];if(o)for(const{mac:u,internal:y}of o)y||(P+=1,this._isVirtualMachineMacAddress(u.toUpperCase())&&(n+=1))}this._value=P>0?n/P:0}return this._value}};let S;async function h(){return S||(S=(async()=>await m()||k.generateUuid())()),S}e.getMachineId=h;async function m(){try{const n=await new Promise((d,b)=>{x(["crypto"],d,b)}),P=await(0,T.getMac)();return n.createHash("sha256").update(P,"utf8").digest("hex")}catch(n){R.onUnexpectedError(n);return}}}),define(J[15],Z([0,1,32,22,67,14,33,63,5,3,17,7,26]),function(x,e,g,R,w,k,T,S,h,m,n,P,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.writeFileSync=e.SymlinkSupport=e.whenDeleted=e.readdirSync=e.rimrafSync=e.RimRafMode=void 0;var b;(function(O){O[O.UNLINK=0]="UNLINK",O[O.MOVE=1]="MOVE"})(b=e.RimRafMode||(e.RimRafMode={}));async function o(O,$=b.UNLINK){if((0,T.isRootOrDriveLetter)(O))throw new Error("rimraf - will refuse to recursively delete root");return $===b.UNLINK?y(O):u(O)}async function u(O){try{const $=(0,h.join)((0,R.tmpdir)(),(0,d.generateUuid)());try{await e.Promises.rename(O,$)}catch(W){return y(O)}y($).catch(W=>{})}catch($){if($.code!=="ENOENT")throw $}}async function y(O){return e.Promises.rmdir(O,{recursive:!0,maxRetries:3})}function E(O){if((0,T.isRootOrDriveLetter)(O))throw new Error("rimraf - will refuse to recursively delete root");g.rmdirSync(O,{recursive:!0})}e.rimrafSync=E;async function C(O,$){return a(await($?f(O):(0,w.promisify)(g.readdir)(O)))}async function f(O){try{return await(0,w.promisify)(g.readdir)(O,{withFileTypes:!0})}catch(K){console.warn("[node.js fs] readdir with filetypes failed with error: ",K)}const $=[],W=await C(O);for(const K of W){let V=!1,M=!1,G=!1;try{const z=await e.Promises.lstat((0,h.join)(O,K));V=z.isFile(),M=z.isDirectory(),G=z.isSymbolicLink()}catch(z){console.warn("[node.js fs] unexpected error from lstat after readdir: ",z)}$.push({name:K,isFile:()=>V,isDirectory:()=>M,isSymbolicLink:()=>G})}return $}function c(O){return a(g.readdirSync(O))}e.readdirSync=c;function a(O){return O.map($=>typeof $=="string"?m.isMacintosh?(0,S.normalizeNFC)($):$:($.name=m.isMacintosh?(0,S.normalizeNFC)($.name):$.name,$))}async function t(O){const $=await C(O),W=[];for(const K of $)await i.existsDirectory((0,h.join)(O,K))&&W.push(K);return W}function s(O,$=1e3){return new Promise(W=>{let K=!1;const V=setInterval(()=>{K||(K=!0,g.access(O,M=>{K=!1,M&&(clearInterval(V),W(void 0))}))},$)})}e.whenDeleted=s;var i;(function(O){async function $(V){let M;try{if(M=await e.Promises.lstat(V),!M.isSymbolicLink())return{stat:M}}catch(G){}try{return{stat:await e.Promises.stat(V),symbolicLink:M?.isSymbolicLink()?{dangling:!1}:void 0}}catch(G){if(G.code==="ENOENT"&&M)return{stat:M,symbolicLink:{dangling:!0}};if(m.isWindows&&G.code==="EACCES")try{return{stat:await e.Promises.stat(await e.Promises.readlink(V)),symbolicLink:{dangling:!1}}}catch(z){if(z.code==="ENOENT"&&M)return{stat:M,symbolicLink:{dangling:!0}};throw z}throw G}}O.stat=$;async function W(V){try{const{stat:M,symbolicLink:G}=await O.stat(V);return M.isFile()&&G?.dangling!==!0}catch(M){}return!1}O.existsFile=W;async function K(V){try{const{stat:M,symbolicLink:G}=await O.stat(V);return M.isDirectory()&&G?.dangling!==!0}catch(M){}return!1}O.existsDirectory=K})(i=e.SymlinkSupport||(e.SymlinkSupport={}));const r=new k.ResourceQueue;function l(O,$,W){return r.queueFor(P.URI.file(O),n.extUriBiasedIgnorePathCase).queue(()=>{const K=p(W);return new Promise((V,M)=>D(O,$,K,G=>G?M(G):V()))})}let v=!0;function D(O,$,W,K){if(!v)return g.writeFile(O,$,{mode:W.mode,flag:W.flag},K);g.open(O,W.flag,W.mode,(V,M)=>{if(V)return K(V);g.writeFile(M,$,G=>{if(G)return g.close(M,()=>K(G));g.fdatasync(M,z=>(z&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",z),v=!1),g.close(M,N=>K(N))))})})}function L(O,$,W){const K=p(W);if(!v)return g.writeFileSync(O,$,{mode:K.mode,flag:K.flag});const V=g.openSync(O,K.flag,K.mode);try{g.writeFileSync(V,$);try{g.fdatasyncSync(V)}catch(M){console.warn("[node.js fs] fdatasyncSync is now disabled for this session because it failed: ",M),v=!1}}finally{g.closeSync(V)}}e.writeFileSync=L;function p(O){return O?{mode:typeof O.mode=="number"?O.mode:438,flag:typeof O.flag=="string"?O.flag:"w"}:{mode:438,flag:"w"}}async function _(O,$){if(O===$)return;async function W(K){try{const V=await e.Promises.lstat(K);if(V.isDirectory()||V.isSymbolicLink())return;await e.Promises.utimes(K,V.atime,new Date)}catch(V){}}try{await e.Promises.rename(O,$),await W($)}catch(K){if(O.toLowerCase()!==$.toLowerCase()&&K.code==="EXDEV"||O.endsWith("."))await A(O,$,{preserveSymlinks:!1}),await o(O,b.MOVE),await W($);else throw K}}async function A(O,$,W){return U(O,$,{root:{source:O,target:$},options:W,handledSourcePaths:new Set})}const I=511;async function U(O,$,W){if(W.handledSourcePaths.has(O))return;W.handledSourcePaths.add(O);const{stat:K,symbolicLink:V}=await i.stat(O);if(V){if(W.options.preserveSymlinks)try{return await Q(O,$,W)}catch(M){console.warn("[node.js fs] copy of symlink failed: ",M)}if(V.dangling)return}return K.isDirectory()?B(O,$,K.mode&I,W):ee(O,$,K.mode&I)}async function B(O,$,W,K){await e.Promises.mkdir($,{recursive:!0,mode:W});const V=await C(O);for(const M of V)await U((0,h.join)(O,M),(0,h.join)($,M),K)}async function ee(O,$,W){await e.Promises.copyFile(O,$),await e.Promises.chmod($,W)}async function Q(O,$,W){let K=await e.Promises.readlink(O);(0,T.isEqualOrParent)(K,W.root.source,!m.isLinux)&&(K=(0,h.join)(W.root.target,K.substr(W.root.source.length+1))),await e.Promises.symlink(K,$)}e.Promises=new class{get access(){return(0,w.promisify)(g.access)}get stat(){return(0,w.promisify)(g.stat)}get lstat(){return(0,w.promisify)(g.lstat)}get utimes(){return(0,w.promisify)(g.utimes)}get read(){return(0,w.promisify)(g.read)}get readFile(){return(0,w.promisify)(g.readFile)}get write(){return(0,w.promisify)(g.write)}get appendFile(){return(0,w.promisify)(g.appendFile)}get fdatasync(){return(0,w.promisify)(g.fdatasync)}get truncate(){return(0,w.promisify)(g.truncate)}get rename(){return(0,w.promisify)(g.rename)}get copyFile(){return(0,w.promisify)(g.copyFile)}get open(){return(0,w.promisify)(g.open)}get close(){return(0,w.promisify)(g.close)}get symlink(){return(0,w.promisify)(g.symlink)}get readlink(){return(0,w.promisify)(g.readlink)}get chmod(){return(0,w.promisify)(g.chmod)}get mkdir(){return(0,w.promisify)(g.mkdir)}get unlink(){return(0,w.promisify)(g.unlink)}get rmdir(){return(0,w.promisify)(g.rmdir)}get realpath(){return(0,w.promisify)(g.realpath)}async exists(O){try{return await e.Promises.access(O),!0}catch{return!1}}get readdir(){return C}get readDirsInDir(){return t}get writeFile(){return l}get rm(){return o}get move(){return _}get copy(){return A}}}),define(J[104],Z([0,1,32,5,18,15]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.realpathSync=e.realpath=e.realcaseSync=void 0;function T(n){const P=(0,R.dirname)(n);if(n===P)return n;const d=((0,R.basename)(n)||n).toLowerCase();try{const o=(0,k.readdirSync)(P).filter(u=>u.toLowerCase()===d);if(o.length===1){const u=T(P);if(u)return(0,R.join)(u,o[0])}else if(o.length>1){const u=o.indexOf(d);if(u>=0){const y=T(P);if(y)return(0,R.join)(y,o[u])}}}catch(b){}return null}e.realcaseSync=T;async function S(n){try{return await k.Promises.realpath(n)}catch(P){const d=m(n);return await k.Promises.access(d,g.constants.R_OK),d}}e.realpath=S;function h(n){try{return g.realpathSync(n)}catch(P){const d=m(n);return g.accessSync(d,g.constants.R_OK),d}}e.realpathSync=h;function m(n){return(0,w.rtrim)((0,R.normalize)(n),R.sep)}}),define(J[68],Z([0,1,22,5,15]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFirstAvailablePowerShellInstallation=e.enumeratePowerShellInstallations=void 0;const k=/^\d+$/,T=/^Microsoft.PowerShell_.*/,S=/^Microsoft.PowerShellPreview_.*/;var h;(function(c){c[c.x64=0]="x64",c[c.x86=1]="x86",c[c.ARM=2]="ARM"})(h||(h={}));let m;switch(process.arch){case"ia32":case"x32":m=1;break;case"arm":case"arm64":m=2;break;default:m=0;break}let n;process.env.PROCESSOR_ARCHITEW6432?n=process.env.PROCESSOR_ARCHITEW6432==="ARM64"?2:0:process.env.PROCESSOR_ARCHITECTURE==="ARM64"?n=2:process.env.PROCESSOR_ARCHITECTURE==="X86"?n=1:n=0;class P{constructor(a,t,s){this.exePath=a,this.displayName=t,this.knownToExist=s}async exists(){return this.knownToExist===void 0&&(this.knownToExist=await w.SymlinkSupport.existsFile(this.exePath)),this.knownToExist}}function d({useAlternateBitness:c=!1}={}){return c?m===0?process.env["ProgramFiles(x86)"]||null:n===0&&process.env.ProgramW6432||null:process.env.ProgramFiles||null}async function b({useAlternateBitness:c=!1,findPreview:a=!1}={}){const t=d({useAlternateBitness:c});if(!t)return null;const s=R.join(t,"PowerShell");if(!await w.SymlinkSupport.existsDirectory(s))return null;let i=-1,r=null;for(const D of await w.Promises.readdir(s)){let L=-1;if(a){const _=D.indexOf("-");if(_<0)continue;const A=D.substring(0,_);if(!k.test(A)||D.substring(_+1)!=="preview")continue;L=parseInt(A,10)}else{if(!k.test(D))continue;L=parseInt(D,10)}if(L<=i)continue;const p=R.join(s,D,"pwsh.exe");!await w.SymlinkSupport.existsFile(p)||(r=p,i=L)}if(!r)return null;const l=t.includes("x86")?" (x86)":"",v=a?" Preview":"";return new P(r,`PowerShell${v}${l}`,!0)}async function o({findPreview:c}={}){if(!process.env.LOCALAPPDATA)return null;const a=R.join(process.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await w.SymlinkSupport.existsDirectory(a))return null;const{pwshMsixDirRegex:t,pwshMsixName:s}=c?{pwshMsixDirRegex:S,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:T,pwshMsixName:"PowerShell (Store)"};for(const i of await w.Promises.readdir(a))if(t.test(i)){const r=R.join(a,i,"pwsh.exe");return new P(r,s)}return null}function u(){const c=R.join(g.homedir(),".dotnet","tools","pwsh.exe");return new P(c,".NET Core PowerShell Global Tool")}function y(){const c=R.join(process.env.windir,m===1&&n!==1?"SysNative":"System32","WindowsPowerShell","v1.0","powershell.exe");return new P(c,"Windows PowerShell",!0)}async function*E(){let c=await b();c&&(yield c),c=await b({useAlternateBitness:!0}),c&&(yield c),c=await o(),c&&(yield c),c=u(),c&&(yield c),c=await b({findPreview:!0}),c&&(yield c),c=await o({findPreview:!0}),c&&(yield c),c=await b({useAlternateBitness:!0,findPreview:!0}),c&&(yield c),c=y(),c&&(yield c)}async function*C(){for await(const c of E())await c.exists()&&(yield c)}e.enumeratePowerShellInstallations=C;async function f(){for await(const c of C())return c;return null}e.getFirstAvailablePowerShellInstallation=f}),define(J[105],Z([0,1,41,210,211]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldEnableProxy=e.monkeyPatch=void 0;function k(h){if(S()){const m=x("http"),n=x("https"),P=T(h);m.globalAgent=P,n.globalAgent=P}}e.monkeyPatch=k;function T(h){return h?new R:new R.default}function S(){let h=!1;const m=w.getProxyForUrl("http://example.com");m&&(h=!0,g.logger.debug(`using $HTTP_PROXY ${m}`));const n=w.getProxyForUrl("https://example.com");return n&&(h=!0,g.logger.debug(`using $HTTPS_PROXY ${n}`)),h}e.shouldEnableProxy=S}),define(J[106],Z([0,1,32,33,2,63,5,3,15]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CHANGE_BUFFER_DELAY=e.watchFolder=e.watchFile=void 0;function m(d,b,o){return P({path:d,isDirectory:!1},b,o)}e.watchFile=m;function n(d,b,o){return P({path:d,isDirectory:!0},b,o)}e.watchFolder=n,e.CHANGE_BUFFER_DELAY=100;function P(d,b,o){if(S.isMacintosh&&(0,R.isEqualOrParent)(d.path,"/Volumes/"))return o(`Refusing to watch ${d.path} for changes using fs.watch() for possibly being a network share where watching is unreliable and unstable.`),w.Disposable.None;const u=(0,T.basename)(d.path),y=new Map;let E=!1,C=[(0,w.toDisposable)(()=>{y.forEach(f=>(0,w.dispose)(f)),y.clear()})];try{const f=(0,g.watch)(d.path);C.push((0,w.toDisposable)(()=>{f.removeAllListeners(),f.close()}));const c=new Set;d.isDirectory&&h.Promises.readdir(d.path).then(a=>a.forEach(t=>c.add(t))),f.on("error",(a,t)=>{E||o(`Failed to watch ${d.path} for changes using fs.watch() (${a}, ${t})`)}),f.on("change",(a,t)=>{if(E)return;let s="";if(t&&(s=t.toString(),S.isMacintosh&&(s=(0,k.normalizeNFC)(s))),!s||a!=="change"&&a!=="rename")return;const i=d.isDirectory?(0,T.join)(d.path,s):d.path;if(d.isDirectory)if(a==="rename"){const r=y.get(i);r&&(0,w.dispose)(r);const l=setTimeout(async()=>{y.delete(i);const v=await h.Promises.exists(i);if(E)return;let D;v?c.has(s)?D="changed":(D="added",c.add(s)):(c.delete(s),D="deleted"),b(D,i)},e.CHANGE_BUFFER_DELAY);y.set(i,(0,w.toDisposable)(()=>clearTimeout(l)))}else{let r;c.has(s)?r="changed":(r="added",c.add(s)),b(r,i)}else if(a==="rename"||s!==u){const r=setTimeout(async()=>{const l=await h.Promises.exists(i);E||(l?(b("changed",i),C=[P(d,b,o)]):b("deleted",i))},e.CHANGE_BUFFER_DELAY);(0,w.dispose)(C),C=[(0,w.toDisposable)(()=>clearTimeout(r))]}else b("changed",i)})}catch(f){h.Promises.exists(d.path).then(c=>{c&&!E&&o(`Failed to watch ${d.path} for changes using fs.watch() (${f.toString()})`)})}return(0,w.toDisposable)(()=>{E=!0,C=(0,w.dispose)(C)})}});var we=this&&this.__decorate||function(x,e,g,R){var w=arguments.length,k=w<3?e:R===null?R=Object.getOwnPropertyDescriptor(e,g):R,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(x,e,g,R);else for(var S=x.length-1;S>=0;S--)(T=x[S])&&(k=(w<3?T(k):w>3?T(e,g,k):T(e,g))||k);return w>3&&k&&Object.defineProperty(e,g,k),k};define(J[35],Z([0,1,21,14,16,25,59,11,6,2,98,18,13]),function(x,e,g,R,w,k,T,S,h,m,n,P,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPCLogger=e.logWithColors=e.ProxyChannel=e.StaticRouter=e.getNextTickChannel=e.getDelayedChannel=e.IPCClient=e.IPCServer=e.ChannelClient=e.RequestInitiator=e.ChannelServer=e.ResponseType=e.RequestType=void 0;var b;(function(V){V[V.Promise=100]="Promise",V[V.PromiseCancel=101]="PromiseCancel",V[V.EventListen=102]="EventListen",V[V.EventDispose=103]="EventDispose"})(b=e.RequestType||(e.RequestType={}));function o(V){switch(V){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}var u;(function(V){V[V.Initialize=200]="Initialize",V[V.PromiseSuccess=201]="PromiseSuccess",V[V.PromiseError=202]="PromiseError",V[V.PromiseErrorObj=203]="PromiseErrorObj",V[V.EventFire=204]="EventFire"})(u=e.ResponseType||(e.ResponseType={}));function y(V){switch(V){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}var E;(function(V){V[V.Uninitialized=0]="Uninitialized",V[V.Idle=1]="Idle"})(E||(E={}));class C{constructor(M){this.buffer=M,this.pos=0}read(M){const G=this.buffer.slice(this.pos,this.pos+M);return this.pos+=G.byteLength,G}}class f{constructor(){this.buffers=[]}get buffer(){return w.VSBuffer.concat(this.buffers)}write(M){this.buffers.push(M)}}var c;(function(V){V[V.Undefined=0]="Undefined",V[V.String=1]="String",V[V.Buffer=2]="Buffer",V[V.VSBuffer=3]="VSBuffer",V[V.Array=4]="Array",V[V.Object=5]="Object"})(c||(c={}));function a(V){const M=w.VSBuffer.alloc(4);return M.writeUInt32BE(V,0),M}function t(V){return V.read(4).readUInt32BE(0)}function s(V){const M=w.VSBuffer.alloc(1);return M.writeUInt8(V,0),M}const i={Undefined:s(c.Undefined),String:s(c.String),Buffer:s(c.Buffer),VSBuffer:s(c.VSBuffer),Array:s(c.Array),Object:s(c.Object)},r=typeof Buffer!="undefined";function l(V,M){if(typeof M=="undefined")V.write(i.Undefined);else if(typeof M=="string"){const G=w.VSBuffer.fromString(M);V.write(i.String),V.write(a(G.byteLength)),V.write(G)}else if(r&&Buffer.isBuffer(M)){const G=w.VSBuffer.wrap(M);V.write(i.Buffer),V.write(a(G.byteLength)),V.write(G)}else if(M instanceof w.VSBuffer)V.write(i.VSBuffer),V.write(a(M.byteLength)),V.write(M);else if(Array.isArray(M)){V.write(i.Array),V.write(a(M.length));for(const G of M)l(V,G)}else{const G=w.VSBuffer.fromString(JSON.stringify(M));V.write(i.Object),V.write(a(G.byteLength)),V.write(G)}}function v(V){switch(V.read(1).readUInt8(0)){case c.Undefined:return;case c.String:return V.read(t(V)).toString();case c.Buffer:return V.read(t(V)).buffer;case c.VSBuffer:return V.read(t(V));case c.Array:{const G=t(V),z=[];for(let N=0;N<G;N++)z.push(v(V));return z}case c.Object:return JSON.parse(V.read(t(V)).toString())}}class D{constructor(M,G,z=null,N=1e3){this.protocol=M,this.ctx=G,this.logger=z,this.timeoutDelay=N,this.channels=new Map,this.activeRequests=new Map,this.pendingRequests=new Map,this.protocolListener=this.protocol.onMessage(F=>this.onRawMessage(F)),this.sendResponse({type:200})}registerChannel(M,G){this.channels.set(M,G),setTimeout(()=>this.flushPendingRequests(M),0)}sendResponse(M){switch(M.type){case 200:{const G=this.send([M.type]);this.logger&&this.logger.logOutgoing(G,0,1,y(M.type));return}case 201:case 202:case 204:case 203:{const G=this.send([M.type,M.id],M.data);this.logger&&this.logger.logOutgoing(G,M.id,1,y(M.type),M.data);return}}}send(M,G=void 0){const z=new f;return l(z,M),l(z,G),this.sendBuffer(z.buffer)}sendBuffer(M){try{return this.protocol.send(M),M.byteLength}catch(G){return 0}}onRawMessage(M){const G=new C(M),z=v(G),N=v(G),F=z[0];switch(F){case 100:return this.logger&&this.logger.logIncoming(M.byteLength,z[1],1,`${o(F)}: ${z[2]}.${z[3]}`,N),this.onPromise({type:F,id:z[1],channelName:z[2],name:z[3],arg:N});case 102:return this.logger&&this.logger.logIncoming(M.byteLength,z[1],1,`${o(F)}: ${z[2]}.${z[3]}`,N),this.onEventListen({type:F,id:z[1],channelName:z[2],name:z[3],arg:N});case 101:return this.logger&&this.logger.logIncoming(M.byteLength,z[1],1,`${o(F)}`),this.disposeActiveRequest({type:F,id:z[1]});case 103:return this.logger&&this.logger.logIncoming(M.byteLength,z[1],1,`${o(F)}`),this.disposeActiveRequest({type:F,id:z[1]})}}onPromise(M){const G=this.channels.get(M.channelName);if(!G){this.collectPendingRequest(M);return}const z=new k.CancellationTokenSource;let N;try{N=G.call(this.ctx,M.name,M.arg,z.token)}catch(H){N=Promise.reject(H)}const F=M.id;N.then(H=>{this.sendResponse({id:F,data:H,type:201}),this.activeRequests.delete(M.id)},H=>{H instanceof Error?this.sendResponse({id:F,data:{message:H.message,name:H.name,stack:H.stack?H.stack.split?H.stack.split(`
`):H.stack:void 0},type:202}):this.sendResponse({id:F,data:H,type:203}),this.activeRequests.delete(M.id)});const q=(0,m.toDisposable)(()=>z.cancel());this.activeRequests.set(M.id,q)}onEventListen(M){const G=this.channels.get(M.channelName);if(!G){this.collectPendingRequest(M);return}const z=M.id,F=G.listen(this.ctx,M.name,M.arg)(q=>this.sendResponse({id:z,data:q,type:204}));this.activeRequests.set(M.id,F)}disposeActiveRequest(M){const G=this.activeRequests.get(M.id);G&&(G.dispose(),this.activeRequests.delete(M.id))}collectPendingRequest(M){let G=this.pendingRequests.get(M.channelName);G||(G=[],this.pendingRequests.set(M.channelName,G));const z=setTimeout(()=>{console.error(`Unknown channel: ${M.channelName}`),M.type===100&&this.sendResponse({id:M.id,data:{name:"Unknown channel",message:`Channel name '${M.channelName}' timed out after ${this.timeoutDelay}ms`,stack:void 0},type:202})},this.timeoutDelay);G.push({request:M,timeoutTimer:z})}flushPendingRequests(M){const G=this.pendingRequests.get(M);if(G){for(const z of G)switch(clearTimeout(z.timeoutTimer),z.request.type){case 100:this.onPromise(z.request);break;case 102:this.onEventListen(z.request);break}this.pendingRequests.delete(M)}}dispose(){this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(M=>M.dispose()),this.activeRequests.clear()}}e.ChannelServer=D;var L;(function(V){V[V.LocalSide=0]="LocalSide",V[V.OtherSide=1]="OtherSide"})(L=e.RequestInitiator||(e.RequestInitiator={}));class p{constructor(M,G=null){this.protocol=M,this.isDisposed=!1,this.state=E.Uninitialized,this.activeRequests=new Set,this.handlers=new Map,this.lastRequestId=0,this._onDidInitialize=new h.Emitter,this.onDidInitialize=this._onDidInitialize.event,this.protocolListener=this.protocol.onMessage(z=>this.onBuffer(z)),this.logger=G}getChannel(M){const G=this;return{call(z,N,F){return G.isDisposed?Promise.reject(S.canceled()):G.requestPromise(M,z,N,F)},listen(z,N){return G.isDisposed?Promise.reject(S.canceled()):G.requestEvent(M,z,N)}}}requestPromise(M,G,z,N=k.CancellationToken.None){const F=this.lastRequestId++,H={id:F,type:100,channelName:M,name:G,arg:z};if(N.isCancellationRequested)return Promise.reject(S.canceled());let Y;return new Promise((oe,se)=>{if(N.isCancellationRequested)return se(S.canceled());const ce=()=>{const Oe=Ce=>{switch(Ce.type){case 201:this.handlers.delete(F),oe(Ce.data);break;case 202:this.handlers.delete(F);const Re=new Error(Ce.data.message);Re.stack=Ce.data.stack,Re.name=Ce.data.name,se(Re);break;case 203:this.handlers.delete(F),se(Ce.data);break}};this.handlers.set(F,Oe),this.sendRequest(H)};let he=null;this.state===E.Idle?ce():(he=(0,R.createCancelablePromise)(Oe=>this.whenInitialized()),he.then(()=>{he=null,ce()}));const me=()=>{he?(he.cancel(),he=null):this.sendRequest({id:F,type:101}),se(S.canceled())},De=N.onCancellationRequested(me);Y=(0,m.combinedDisposable)((0,m.toDisposable)(me),De),this.activeRequests.add(Y)}).finally(()=>{this.activeRequests.delete(Y)})}requestEvent(M,G,z){const N=this.lastRequestId++,q={id:N,type:102,channelName:M,name:G,arg:z};let H=null;const Y=new h.Emitter({onFirstListenerAdd:()=>{H=(0,R.createCancelablePromise)(oe=>this.whenInitialized()),H.then(()=>{H=null,this.activeRequests.add(Y),this.sendRequest(q)})},onLastListenerRemove:()=>{H?(H.cancel(),H=null):(this.activeRequests.delete(Y),this.sendRequest({id:N,type:103}))}}),te=oe=>Y.fire(oe.data);return this.handlers.set(N,te),Y.event}sendRequest(M){switch(M.type){case 100:case 102:{const G=this.send([M.type,M.id,M.channelName,M.name],M.arg);this.logger&&this.logger.logOutgoing(G,M.id,0,`${o(M.type)}: ${M.channelName}.${M.name}`,M.arg);return}case 101:case 103:{const G=this.send([M.type,M.id]);this.logger&&this.logger.logOutgoing(G,M.id,0,o(M.type));return}}}send(M,G=void 0){const z=new f;return l(z,M),l(z,G),this.sendBuffer(z.buffer)}sendBuffer(M){try{return this.protocol.send(M),M.byteLength}catch(G){return 0}}onBuffer(M){const G=new C(M),z=v(G),N=v(G),F=z[0];switch(F){case 200:return this.logger&&this.logger.logIncoming(M.byteLength,0,0,y(F)),this.onResponse({type:z[0]});case 201:case 202:case 204:case 203:return this.logger&&this.logger.logIncoming(M.byteLength,z[1],0,y(F),N),this.onResponse({type:z[0],id:z[1],data:N})}}onResponse(M){if(M.type===200){this.state=E.Idle,this._onDidInitialize.fire();return}const G=this.handlers.get(M.id);G&&G(M)}get onDidInitializePromise(){return h.Event.toPromise(this.onDidInitialize)}whenInitialized(){return this.state===E.Idle?Promise.resolve():this.onDidInitializePromise}dispose(){this.isDisposed=!0,this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(M=>M.dispose()),this.activeRequests.clear()}}we([T.memoize],p.prototype,"onDidInitializePromise",null),e.ChannelClient=p;class _{constructor(M){this.channels=new Map,this._connections=new Set,this._onDidAddConnection=new h.Emitter,this.onDidAddConnection=this._onDidAddConnection.event,this._onDidRemoveConnection=new h.Emitter,this.onDidRemoveConnection=this._onDidRemoveConnection.event,M(({protocol:G,onDidClientDisconnect:z})=>{h.Event.once(G.onMessage)(F=>{const q=new C(F),H=v(q),Y=new D(G,H),te=new p(G);this.channels.forEach((se,ce)=>Y.registerChannel(ce,se));const oe={channelServer:Y,channelClient:te,ctx:H};this._connections.add(oe),this._onDidAddConnection.fire(oe),z(()=>{Y.dispose(),te.dispose(),this._connections.delete(oe),this._onDidRemoveConnection.fire(oe)})})})}get connections(){const M=[];return this._connections.forEach(G=>M.push(G)),M}getChannel(M,G){const z=this;return{call(N,F,q){let H;if((0,d.isFunction)(G)){let te=(0,g.getRandomElement)(z.connections.filter(G));H=te?Promise.resolve(te):h.Event.toPromise(h.Event.filter(z.onDidAddConnection,G))}else H=G.routeCall(z,N,F);const Y=H.then(te=>te.channelClient.getChannel(M));return I(Y).call(N,F,q)},listen(N,F){if((0,d.isFunction)(G))return z.getMulticastEvent(M,G,N,F);const q=G.routeEvent(z,N,F).then(H=>H.channelClient.getChannel(M));return I(q).listen(N,F)}}}getMulticastEvent(M,G,z,N){const F=this;let q=new m.DisposableStore;const H=new h.Emitter({onFirstListenerAdd:()=>{q=new m.DisposableStore;const Y=new h.EventMultiplexer,te=new Map,oe=ce=>{const me=ce.channelClient.getChannel(M).listen(z,N),De=Y.add(me);te.set(ce,De)},se=ce=>{const he=te.get(ce);!he||(he.dispose(),te.delete(ce))};F.connections.filter(G).forEach(oe),h.Event.filter(F.onDidAddConnection,G)(oe,void 0,q),F.onDidRemoveConnection(se,void 0,q),Y.event(H.fire,H,q),q.add(Y)},onLastListenerRemove:()=>{q.dispose()}});return H.event}registerChannel(M,G){this.channels.set(M,G),this._connections.forEach(z=>{z.channelServer.registerChannel(M,G)})}dispose(){this.channels.clear(),this._connections.clear(),this._onDidAddConnection.dispose(),this._onDidRemoveConnection.dispose()}}e.IPCServer=_;class A{constructor(M,G,z=null){const N=new f;l(N,G),M.send(N.buffer),this.channelClient=new p(M,z),this.channelServer=new D(M,G,z)}getChannel(M){return this.channelClient.getChannel(M)}registerChannel(M,G){this.channelServer.registerChannel(M,G)}dispose(){this.channelClient.dispose(),this.channelServer.dispose()}}e.IPCClient=A;function I(V){return{call(M,G,z){return V.then(N=>N.call(M,G,z))},listen(M,G){const z=new h.Relay;return V.then(N=>z.input=N.listen(M,G)),z.event}}}e.getDelayedChannel=I;function U(V){let M=!1;return{call(G,z,N){return M?V.call(G,z,N):(0,R.timeout)(0).then(()=>M=!0).then(()=>V.call(G,z,N))},listen(G,z){if(M)return V.listen(G,z);const N=new h.Relay;return(0,R.timeout)(0).then(()=>M=!0).then(()=>N.input=V.listen(G,z)),N.event}}}e.getNextTickChannel=U;class B{constructor(M){this.fn=M}routeCall(M){return this.route(M)}routeEvent(M){return this.route(M)}async route(M){for(const G of M.connections)if(await Promise.resolve(this.fn(G.ctx)))return Promise.resolve(G);return await h.Event.toPromise(M.onDidAddConnection),await this.route(M)}}e.StaticRouter=B;var ee;(function(V){function M(N,F){const q=N,H=F&&F.disableMarshalling,Y=new Map;for(const te in q)z(te)&&Y.set(te,h.Event.buffer(q[te],!0));return new class{listen(te,oe){const se=Y.get(oe);if(se)return se;throw new Error(`Event not found: ${oe}`)}call(te,oe,se){const ce=q[oe];if(typeof ce=="function"){if(!H&&Array.isArray(se))for(let he=0;he<se.length;he++)se[he]=(0,n.revive)(se[he]);return ce.apply(q,se)}throw new Error(`Method not found: ${oe}`)}}}V.fromService=M;function G(N,F){const q=F&&F.disableMarshalling;return new Proxy({},{get(H,Y){if(typeof Y=="string")return F?.properties?.has(Y)?F.properties.get(Y):z(Y)?N.listen(Y):async function(...te){let oe;F&&!(0,d.isUndefinedOrNull)(F.context)?oe=[F.context,...te]:oe=te;const se=await N.call(Y,oe);return q?se:(0,n.revive)(se)};throw new Error(`Property not found: ${String(Y)}`)}})}V.toService=G;function z(N){return N[0]==="o"&&N[1]==="n"&&P.isUpperAsciiLetter(N.charCodeAt(2))}})(ee=e.ProxyChannel||(e.ProxyChannel={}));const Q=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]];function O(V){if(Array.isArray(V))return V;if(V&&typeof V=="object"&&typeof V.toString=="function"){let M=V.toString();if(M!=="[object Object]")return M}return V}function $(V){return Array.isArray(V)?V.map(O):O(V)}function W(V,M,G,z,N,F,q){q=$(q);const H=Q[N],Y=H[z%H.length];let te=[`%c[${V}]%c[${String(M).padStart(7," ")}]%c[len: ${String(G).padStart(5," ")}]%c${String(z).padStart(5," ")} - ${F}`,"color: darkgreen","color: grey","color: grey",`color: ${Y}`];/\($/.test(F)?(te=te.concat(q),te.push(")")):te.push(q),console.log.apply(console,te)}e.logWithColors=W;class K{constructor(M,G){this._outgoingPrefix=M,this._incomingPrefix=G,this._totalIncoming=0,this._totalOutgoing=0}logOutgoing(M,G,z,N,F){this._totalOutgoing+=M,W(this._outgoingPrefix,this._totalOutgoing,M,G,z,N,F)}logIncoming(M,G,z,N,F){this._totalIncoming+=M,W(this._incomingPrefix,this._totalIncoming,M,G,z,N,F)}}e.IPCLogger=K}),define(J[69],Z([0,1,16,6,2,3,24,35]),function(x,e,g,R,w,k,T,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PersistentProtocol=e.BufferedEmitter=e.Client=e.Protocol=e.ProtocolConstants=e.ChunkStream=e.SocketCloseEventType=void 0;var h;(function(i){i[i.NodeSocketCloseEvent=0]="NodeSocketCloseEvent",i[i.WebSocketCloseEvent=1]="WebSocketCloseEvent"})(h=e.SocketCloseEventType||(e.SocketCloseEventType={}));let m=null;function n(){return m||(m=g.VSBuffer.alloc(0)),m}class P{constructor(){this._chunks=[],this._totalLength=0}get byteLength(){return this._totalLength}acceptChunk(r){this._chunks.push(r),this._totalLength+=r.byteLength}read(r){return this._read(r,!0)}peek(r){return this._read(r,!1)}_read(r,l){if(r===0)return n();if(r>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===r){const p=this._chunks[0];return l&&(this._chunks.shift(),this._totalLength-=r),p}if(this._chunks[0].byteLength>r){const p=this._chunks[0].slice(0,r);return l&&(this._chunks[0]=this._chunks[0].slice(r),this._totalLength-=r),p}let v=g.VSBuffer.alloc(r),D=0,L=0;for(;r>0;){const p=this._chunks[L];if(p.byteLength>r){const _=p.slice(0,r);v.set(_,D),D+=r,l&&(this._chunks[L]=p.slice(r),this._totalLength-=r),r-=r}else v.set(p,D),D+=p.byteLength,l?(this._chunks.shift(),this._totalLength-=p.byteLength):L++,r-=p.byteLength}return v}}e.ChunkStream=P;var d;(function(i){i[i.None=0]="None",i[i.Regular=1]="Regular",i[i.Control=2]="Control",i[i.Ack=3]="Ack",i[i.KeepAlive=4]="KeepAlive",i[i.Disconnect=5]="Disconnect",i[i.ReplayRequest=6]="ReplayRequest"})(d||(d={}));var b;(function(i){i[i.HeaderLength=13]="HeaderLength",i[i.AcknowledgeTime=2e3]="AcknowledgeTime",i[i.AcknowledgeTimeoutTime=2e4]="AcknowledgeTimeoutTime",i[i.KeepAliveTime=5e3]="KeepAliveTime",i[i.KeepAliveTimeoutTime=2e4]="KeepAliveTimeoutTime",i[i.ReconnectionGraceTime=108e5]="ReconnectionGraceTime",i[i.ReconnectionShortGraceTime=3e5]="ReconnectionShortGraceTime"})(b=e.ProtocolConstants||(e.ProtocolConstants={}));class o{constructor(r,l,v,D){this.type=r,this.id=l,this.ack=v,this.data=D,this.writtenTime=0}get size(){return this.data.byteLength}}class u extends w.Disposable{constructor(r){super();this._onMessage=this._register(new R.Emitter),this.onMessage=this._onMessage.event,this._state={readHead:!0,readLen:13,messageType:0,id:0,ack:0},this._socket=r,this._isDisposed=!1,this._incomingData=new P,this._register(this._socket.onData(l=>this.acceptChunk(l))),this.lastReadTime=Date.now()}acceptChunk(r){if(!(!r||r.byteLength===0))for(this.lastReadTime=Date.now(),this._incomingData.acceptChunk(r);this._incomingData.byteLength>=this._state.readLen;){const l=this._incomingData.read(this._state.readLen);if(this._state.readHead)this._state.readHead=!1,this._state.readLen=l.readUInt32BE(9),this._state.messageType=l.readUInt8(0),this._state.id=l.readUInt32BE(1),this._state.ack=l.readUInt32BE(5);else{const v=this._state.messageType,D=this._state.id,L=this._state.ack;if(this._state.readHead=!0,this._state.readLen=13,this._state.messageType=0,this._state.id=0,this._state.ack=0,this._onMessage.fire(new o(v,D,L,l)),this._isDisposed)break}}}readEntireBuffer(){return this._incomingData.read(this._incomingData.byteLength)}dispose(){this._isDisposed=!0,super.dispose()}}class y{constructor(r){this._isDisposed=!1,this._socket=r,this._data=[],this._totalLength=0,this.lastWriteTime=0}dispose(){try{this.flush()}catch(r){}this._isDisposed=!0}drain(){return this.flush(),this._socket.drain()}flush(){this._writeNow()}write(r){if(this._isDisposed)return;r.writtenTime=Date.now(),this.lastWriteTime=Date.now();const l=g.VSBuffer.alloc(13);l.writeUInt8(r.type,0),l.writeUInt32BE(r.id,1),l.writeUInt32BE(r.ack,5),l.writeUInt32BE(r.data.byteLength,9),this._writeSoon(l,r.data)}_bufferAdd(r,l){const v=this._totalLength===0;return this._data.push(r,l),this._totalLength+=r.byteLength+l.byteLength,v}_bufferTake(){const r=g.VSBuffer.concat(this._data,this._totalLength);return this._data.length=0,this._totalLength=0,r}_writeSoon(r,l){this._bufferAdd(r,l)&&k.setImmediate(()=>{this._writeNow()})}_writeNow(){this._totalLength!==0&&this._socket.write(this._bufferTake())}}class E extends w.Disposable{constructor(r){super();this._onMessage=new R.Emitter,this.onMessage=this._onMessage.event,this._onDidDispose=new R.Emitter,this.onDidDispose=this._onDidDispose.event,this._socket=r,this._socketWriter=this._register(new y(this._socket)),this._socketReader=this._register(new u(this._socket)),this._register(this._socketReader.onMessage(l=>{l.type===1&&this._onMessage.fire(l.data)})),this._register(this._socket.onClose(()=>this._onDidDispose.fire()))}drain(){return this._socketWriter.drain()}getSocket(){return this._socket}sendDisconnect(){}send(r){this._socketWriter.write(new o(1,0,0,r))}}e.Protocol=E;class C extends S.IPCClient{constructor(r,l,v=null){super(r,l,v);this.protocol=r}static fromSocket(r,l){return new C(new E(r),l)}get onDidDispose(){return this.protocol.onDidDispose}dispose(){super.dispose();const r=this.protocol.getSocket();this.protocol.sendDisconnect(),this.protocol.dispose(),r.end()}}e.Client=C;class f{constructor(){this._hasListeners=!1,this._isDeliveringMessages=!1,this._bufferedMessages=[],this._emitter=new R.Emitter({onFirstListenerAdd:()=>{this._hasListeners=!0,T.nextTick(()=>this._deliverMessages())},onLastListenerRemove:()=>{this._hasListeners=!1}}),this.event=this._emitter.event}_deliverMessages(){if(!this._isDeliveringMessages){for(this._isDeliveringMessages=!0;this._hasListeners&&this._bufferedMessages.length>0;)this._emitter.fire(this._bufferedMessages.shift());this._isDeliveringMessages=!1}}fire(r){this._hasListeners?this._bufferedMessages.length>0?this._bufferedMessages.push(r):this._emitter.fire(r):this._bufferedMessages.push(r)}flushBuffer(){this._bufferedMessages=[]}}e.BufferedEmitter=f;class c{constructor(r){this.data=r,this.next=null}}class a{constructor(){this._first=null,this._last=null}peek(){return this._first?this._first.data:null}toArray(){let r=[],l=0,v=this._first;for(;v;)r[l++]=v.data,v=v.next;return r}pop(){if(!!this._first){if(this._first===this._last){this._first=null,this._last=null;return}this._first=this._first.next}}push(r){const l=new c(r);if(!this._first){this._first=l,this._last=l;return}this._last.next=l,this._last=l}}class t{constructor(){this.lastRuns=[];const r=Date.now();for(let l=0;l<t._HISTORY_LENGTH;l++)this.lastRuns[l]=r-1e3*l;setInterval(()=>{for(let l=t._HISTORY_LENGTH;l>=1;l--)this.lastRuns[l]=this.lastRuns[l-1];this.lastRuns[0]=Date.now()},1e3)}static getInstance(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE}load(){const r=Date.now(),l=(1+t._HISTORY_LENGTH)*1e3;let v=0;for(let D=0;D<t._HISTORY_LENGTH;D++)r-this.lastRuns[D]<=l&&v++;return 1-v/t._HISTORY_LENGTH}hasHighLoad(){return this.load()>=.5}}t._HISTORY_LENGTH=10,t._INSTANCE=null;class s{constructor(r,l=null,v=t.getInstance()){this._onControlMessage=new f,this.onControlMessage=this._onControlMessage.event,this._onMessage=new f,this.onMessage=this._onMessage.event,this._onDidDispose=new f,this.onDidDispose=this._onDidDispose.event,this._onSocketClose=new f,this.onSocketClose=this._onSocketClose.event,this._onSocketTimeout=new f,this.onSocketTimeout=this._onSocketTimeout.event,this._loadEstimator=v,this._isReconnecting=!1,this._outgoingUnackMsg=new a,this._outgoingMsgId=0,this._outgoingAckId=0,this._outgoingAckTimeout=null,this._incomingMsgId=0,this._incomingAckId=0,this._incomingMsgLastTime=0,this._incomingAckTimeout=null,this._outgoingKeepAliveTimeout=null,this._incomingKeepAliveTimeout=null,this._lastReplayRequestTime=0,this._socketDisposables=[],this._socket=r,this._socketWriter=new y(this._socket),this._socketDisposables.push(this._socketWriter),this._socketReader=new u(this._socket),this._socketDisposables.push(this._socketReader),this._socketDisposables.push(this._socketReader.onMessage(D=>this._receiveMessage(D))),this._socketDisposables.push(this._socket.onClose(D=>this._onSocketClose.fire(D))),l&&this._socketReader.acceptChunk(l),this._sendKeepAliveCheck(),this._recvKeepAliveCheck()}get unacknowledgedCount(){return this._outgoingMsgId-this._outgoingAckId}dispose(){this._outgoingAckTimeout&&(clearTimeout(this._outgoingAckTimeout),this._outgoingAckTimeout=null),this._incomingAckTimeout&&(clearTimeout(this._incomingAckTimeout),this._incomingAckTimeout=null),this._outgoingKeepAliveTimeout&&(clearTimeout(this._outgoingKeepAliveTimeout),this._outgoingKeepAliveTimeout=null),this._incomingKeepAliveTimeout&&(clearTimeout(this._incomingKeepAliveTimeout),this._incomingKeepAliveTimeout=null),this._socketDisposables=(0,w.dispose)(this._socketDisposables)}drain(){return this._socketWriter.drain()}sendDisconnect(){const r=new o(5,0,0,n());this._socketWriter.write(r),this._socketWriter.flush()}_sendKeepAliveCheck(){if(this._outgoingKeepAliveTimeout)return;const r=Date.now()-this._socketWriter.lastWriteTime;if(r>=5e3){const l=new o(4,0,0,n());this._socketWriter.write(l),this._sendKeepAliveCheck();return}this._outgoingKeepAliveTimeout=setTimeout(()=>{this._outgoingKeepAliveTimeout=null,this._sendKeepAliveCheck()},5e3-r+5)}_recvKeepAliveCheck(){if(this._incomingKeepAliveTimeout)return;const r=Date.now()-this._socketReader.lastReadTime;if(r>=2e4&&!this._loadEstimator.hasHighLoad()){this._onSocketTimeout.fire(void 0);return}this._incomingKeepAliveTimeout=setTimeout(()=>{this._incomingKeepAliveTimeout=null,this._recvKeepAliveCheck()},Math.max(2e4-r,0)+5)}getSocket(){return this._socket}setSocket(r){this._socket=r}getMillisSinceLastIncomingData(){return Date.now()-this._socketReader.lastReadTime}beginAcceptReconnection(r,l){this._isReconnecting=!0,this._socketDisposables=(0,w.dispose)(this._socketDisposables),this._onControlMessage.flushBuffer(),this._onSocketClose.flushBuffer(),this._onSocketTimeout.flushBuffer(),this._socket.dispose(),this._lastReplayRequestTime=0,this._socket=r,this._socketWriter=new y(this._socket),this._socketDisposables.push(this._socketWriter),this._socketReader=new u(this._socket),this._socketDisposables.push(this._socketReader),this._socketDisposables.push(this._socketReader.onMessage(v=>this._receiveMessage(v))),this._socketDisposables.push(this._socket.onClose(v=>this._onSocketClose.fire(v))),this._socketReader.acceptChunk(l)}endAcceptReconnection(){this._isReconnecting=!1;const r=this._outgoingUnackMsg.toArray();for(let l=0,v=r.length;l<v;l++)this._socketWriter.write(r[l]);this._recvAckCheck(),this._sendKeepAliveCheck(),this._recvKeepAliveCheck()}acceptDisconnect(){this._onDidDispose.fire()}_receiveMessage(r){if(r.ack>this._outgoingAckId){this._outgoingAckId=r.ack;do{const l=this._outgoingUnackMsg.peek();if(l&&l.id<=r.ack)this._outgoingUnackMsg.pop();else break}while(!0)}if(r.type===1){if(r.id>this._incomingMsgId)if(r.id!==this._incomingMsgId+1){const l=Date.now();l-this._lastReplayRequestTime>1e4&&(this._lastReplayRequestTime=l,this._socketWriter.write(new o(6,0,0,n())))}else this._incomingMsgId=r.id,this._incomingMsgLastTime=Date.now(),this._sendAckCheck(),this._onMessage.fire(r.data)}else if(r.type===2)this._onControlMessage.fire(r.data);else if(r.type===5)this._onDidDispose.fire();else if(r.type===6){const l=this._outgoingUnackMsg.toArray();for(let v=0,D=l.length;v<D;v++)this._socketWriter.write(l[v]);this._recvAckCheck()}}readEntireBuffer(){return this._socketReader.readEntireBuffer()}flush(){this._socketWriter.flush()}send(r){const l=++this._outgoingMsgId;this._incomingAckId=this._incomingMsgId;const v=new o(1,l,this._incomingAckId,r);this._outgoingUnackMsg.push(v),this._isReconnecting||(this._socketWriter.write(v),this._recvAckCheck())}sendControl(r){const l=new o(2,0,0,r);this._socketWriter.write(l)}_sendAckCheck(){if(this._incomingMsgId<=this._incomingAckId||this._incomingAckTimeout)return;const r=Date.now()-this._incomingMsgLastTime;if(r>=2e3){this._sendAck();return}this._incomingAckTimeout=setTimeout(()=>{this._incomingAckTimeout=null,this._sendAckCheck()},2e3-r+5)}_recvAckCheck(){if(this._outgoingMsgId<=this._outgoingAckId||this._outgoingAckTimeout||this._isReconnecting)return;const r=this._outgoingUnackMsg.peek(),l=Date.now()-r.writtenTime;if(l>=2e4&&!this._loadEstimator.hasHighLoad()){this._onSocketTimeout.fire(void 0);return}this._outgoingAckTimeout=setTimeout(()=>{this._outgoingAckTimeout=null,this._recvAckCheck()},Math.max(2e4-l,0)+5)}_sendAck(){if(this._incomingMsgId<=this._incomingAckId)return;this._incomingAckId=this._incomingMsgId;const r=new o(3,0,this._incomingAckId,n());this._socketWriter.write(r)}}e.PersistentProtocol=s}),define(J[107],Z([0,1,14,6,2,13]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageHint=void 0;var T;(function(n){n[n.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST"})(T=e.StorageHint||(e.StorageHint={}));var S;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(S||(S={}));class h extends w.Disposable{constructor(P,d=Object.create(null)){super();this.database=P,this.options=d,this._onDidChangeStorage=this._register(new R.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new g.ThrottledDelayer(h.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.pendingClose=void 0,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(P=>this.onDidChangeItemsExternal(P)))}onDidChangeItemsExternal(P){P.changed?.forEach((d,b)=>this.accept(b,d)),P.deleted?.forEach(d=>this.accept(d,void 0))}accept(P,d){if(this.state===S.Closed)return;let b=!1;(0,k.isUndefinedOrNull)(d)?b=this.cache.delete(P):this.cache.get(P)!==d&&(this.cache.set(P,d),b=!0),b&&this._onDidChangeStorage.fire(P)}get items(){return this.cache}get size(){return this.cache.size}async init(){this.state===S.None&&(this.state=S.Initialized,this.options.hint!==T.STORAGE_DOES_NOT_EXIST&&(this.cache=await this.database.getItems()))}get(P,d){const b=this.cache.get(P);return(0,k.isUndefinedOrNull)(b)?d:b}getBoolean(P,d){const b=this.get(P);return(0,k.isUndefinedOrNull)(b)?d:b==="true"}getNumber(P,d){const b=this.get(P);return(0,k.isUndefinedOrNull)(b)?d:parseInt(b,10)}async set(P,d){if(this.state===S.Closed)return;if((0,k.isUndefinedOrNull)(d))return this.delete(P);const b=String(d);if(this.cache.get(P)!==b)return this.cache.set(P,b),this.pendingInserts.set(P,b),this.pendingDeletes.delete(P),this._onDidChangeStorage.fire(P),this.flushDelayer.trigger(()=>this.flushPending())}async delete(P){if(!(this.state===S.Closed||!this.cache.delete(P)))return this.pendingDeletes.has(P)||this.pendingDeletes.add(P),this.pendingInserts.delete(P),this._onDidChangeStorage.fire(P),this.flushDelayer.trigger(()=>this.flushPending())}async close(){return this.pendingClose||(this.pendingClose=this.doClose()),this.pendingClose}async doClose(){this.state=S.Closed;try{await this.flushDelayer.trigger(()=>this.flushPending(),0)}catch(P){}await this.database.close(()=>this.cache)}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const P={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(P).finally(()=>{if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)this.whenFlushedCallbacks.pop()?.()})}async whenFlushed(){if(!!this.hasPending)return new Promise(P=>this.whenFlushedCallbacks.push(P))}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=h,h.DEFAULT_FLUSH_DELAY=100;class m{constructor(){this.onDidChangeItemsExternal=R.Event.None,this.items=new Map}async getItems(){return this.items}async updateItems(P){P.insert&&P.insert.forEach((d,b)=>this.items.set(b,d)),P.delete&&P.delete.forEach(d=>this.items.delete(d))}async close(){}}e.InMemoryStorageDatabase=m}),define(J[108],Z([9,10]),function(x,e){return x.create("vs/base/common/date",e)}),define(J[109],Z([0,1,108]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalISOString=e.fromNow=void 0;const R=60,w=R*60,k=w*24,T=k*7,S=k*30,h=k*365;function m(P,d){typeof P!="number"&&(P=P.getTime());const b=Math.round((new Date().getTime()-P)/1e3);if(b<-30)return(0,g.localize)(0,null,m(new Date().getTime()+b*1e3,!1));if(b<30)return(0,g.localize)(1,null);let o;return b<R?(o=b,d?o===1?(0,g.localize)(2,null,o):(0,g.localize)(3,null,o):o===1?(0,g.localize)(4,null,o):(0,g.localize)(5,null,o)):b<w?(o=Math.floor(b/R),d?o===1?(0,g.localize)(6,null,o):(0,g.localize)(7,null,o):o===1?(0,g.localize)(8,null,o):(0,g.localize)(9,null,o)):b<k?(o=Math.floor(b/w),d?o===1?(0,g.localize)(10,null,o):(0,g.localize)(11,null,o):o===1?(0,g.localize)(12,null,o):(0,g.localize)(13,null,o)):b<T?(o=Math.floor(b/k),d?o===1?(0,g.localize)(14,null,o):(0,g.localize)(15,null,o):o===1?(0,g.localize)(16,null,o):(0,g.localize)(17,null,o)):b<S?(o=Math.floor(b/T),d?o===1?(0,g.localize)(18,null,o):(0,g.localize)(19,null,o):o===1?(0,g.localize)(20,null,o):(0,g.localize)(21,null,o)):b<h?(o=Math.floor(b/S),d?o===1?(0,g.localize)(22,null,o):(0,g.localize)(23,null,o):o===1?(0,g.localize)(24,null,o):(0,g.localize)(25,null,o)):(o=Math.floor(b/h),d?o===1?(0,g.localize)(26,null,o):(0,g.localize)(27,null,o):o===1?(0,g.localize)(28,null,o):(0,g.localize)(29,null,o))}e.fromNow=m;function n(P){return P.getFullYear()+"-"+String(P.getMonth()+1).padStart(2,"0")+"-"+String(P.getDate()).padStart(2,"0")+"T"+String(P.getHours()).padStart(2,"0")+":"+String(P.getMinutes()).padStart(2,"0")+":"+String(P.getSeconds()).padStart(2,"0")+"."+(P.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}e.toLocalISOString=n}),define(J[110],Z([9,10]),function(x,e){return x.create("vs/base/common/errorMessage",e)}),define(J[37],Z([0,1,21,13,110]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function k(m,n){return n&&(m.stack||m.stacktrace)?w.localize(0,null,S(m),T(m.stack)||T(m.stacktrace)):S(m)}function T(m){return Array.isArray(m)?m.join(`
`):m}function S(m){return typeof m.code=="string"&&typeof m.errno=="number"&&typeof m.syscall=="string"?w.localize(1,null,m.message):m.message||w.localize(2,null)}function h(m=null,n=!1){if(!m)return w.localize(3,null);if(Array.isArray(m)){const P=g.coalesce(m),d=h(P[0],n);return P.length>1?w.localize(4,null,d,P.length):d}if(R.isString(m))return m;if(m.detail){const P=m.detail;if(P.error)return k(P.error,n);if(P.exception)return k(P.exception,n)}return m.stack?k(m,n):m.message?m.message:w.localize(5,null)}e.toErrorMessage=h}),define(J[111],Z([9,10]),function(x,e){return x.create("vs/base/common/jsonErrorMessages",e)}),define(J[112],Z([0,1,111]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getParseErrorMessage=void 0;function R(w){switch(w){case 1:return(0,g.localize)(0,null);case 2:return(0,g.localize)(1,null);case 3:return(0,g.localize)(2,null);case 4:return(0,g.localize)(3,null);case 5:return(0,g.localize)(4,null);case 6:return(0,g.localize)(5,null);case 7:return(0,g.localize)(6,null);case 8:return(0,g.localize)(7,null);case 9:return(0,g.localize)(8,null);default:return""}}e.getParseErrorMessage=R}),define(J[113],Z([9,10]),function(x,e){return x.create("vs/base/node/processes",e)}),define(J[70],Z([0,1,38,33,8,20,5,3,24,13,66,15,113]),function(x,e,g,R,w,k,T,S,h,m,n,P,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function b(c){switch(c){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function o(c,a){if(S.isWindows)try{const t={stdio:["pipe","pipe","ignore"]};a&&(t.cwd=a);const s=g.execFile("taskkill",["/T","/F","/PID",c.pid.toString()],t);return new Promise(i=>{s.once("error",r=>{i({success:!1,error:r})}),s.once("exit",(r,l)=>{i(r===0?{success:!0}:{success:!1,code:r!==null?r:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?b(t.status):1})}else if(S.isLinux||S.isMacintosh)try{const t=w.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",x).fsPath;return new Promise(s=>{g.execFile(t,[c.pid.toString()],{encoding:"utf8",shell:!0},(i,r,l)=>{s(i?{success:!1,error:i}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else c.kill("SIGKILL");return Promise.resolve({success:!0})}function u(c=h.env){return c.comspec||"cmd.exe"}e.getWindowsShell=u;class y{constructor(a,t,s,i){if(t!==void 0&&s!==void 0&&i!==void 0)this.cmd=a,this.args=t,this.shell=s,this.options=i;else{const r=a;this.cmd=r.command,this.shell=r.isShellCommand,this.args=r.args.slice(0),this.options=r.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const r=Object.create(null);Object.keys(h.env).forEach(l=>{r[l]=h.env[l]}),Object.keys(this.options.env).forEach(l=>{r[l]=this.options.env[l]}),this.options.env=r}}getSanitizedCommand(){let a=this.cmd.toLowerCase();const t=a.lastIndexOf(T.sep);return t!==-1&&(a=a.substring(t+1)),y.WellKnowCommands[a]?a:"other"}start(a){return S.isWindows&&(this.options&&this.options.cwd&&R.isUNC(this.options.cwd)||!this.options&&R.isUNC(h.cwd()))?Promise.reject(new Error(d.localize(0,null))):this.useExec().then(t=>{let s,i;const r=new Promise((l,v)=>{s=l,i=v});if(t){let l=this.cmd;this.args&&(l=l+" "+this.args.join(" ")),this.childProcess=g.exec(l,this.options,(v,D,L)=>{this.childProcess=null;const p=v;p&&p.killed?i({killed:this.terminateRequested,stdout:D.toString(),stderr:L.toString()}):this.handleExec(s,a,v,D,L)})}else{let l=null;const v=D=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(D,s,a,i);const L={terminated:this.terminateRequested};m.isNumber(D)&&(L.cmdCode=D),s(L)};if(this.shell&&S.isWindows){const D=k.deepClone(this.options);D.windowsVerbatimArguments=!0,D.detached=!1;let L=!1,p=!1;const _=[];let A=this.ensureQuotes(this.cmd);_.push(A.value),L=A.quoted,this.args&&this.args.forEach(U=>{A=this.ensureQuotes(U),_.push(A.value),p=p&&A.quoted});const I=["/s","/c"];L?p?I.push('"'+_.join(" ")+'"'):_.length>1?I.push('"'+_[0]+'" '+_.slice(1).join(" ")):I.push('"'+_[0]+'"'):I.push(_.join(" ")),l=g.spawn(u(),I,D)}else this.cmd&&(l=g.spawn(this.cmd,this.args,this.options));l&&(this.childProcess=l,this.childProcessPromise=Promise.resolve(l),this.pidResolve&&(this.pidResolve(m.isNumber(l.pid)?l.pid:-1),this.pidResolve=void 0),l.on("error",D=>{this.childProcess=null,i({terminated:this.terminateRequested,error:D})}),l.pid&&(this.childProcess.on("close",v),this.handleSpawn(l,s,a,i,!0)))}return r})}handleClose(a,t,s,i){}ensureQuotes(a){return y.regexp.test(a)?{value:'"'+a+'"',quoted:!0}:{value:a,quoted:a.length>0&&a[0]==='"'&&a[a.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(a=>a.pid,a=>-1):new Promise(a=>{this.pidResolve=a})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(a=>(this.terminateRequested=!0,o(a,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),a=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(a=>{if(!this.shell||!S.isWindows)return a(!1);const t=g.spawn(u(),["/s","/c"]);t.on("error",s=>a(!0)),t.on("exit",s=>a(!1))})}}e.AbstractProcess=y,y.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},y.regexp=/^[^"].* .*[^"]/;class E extends y{constructor(a,t,s,i){super(a,t,s,i);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(a,t,s,i,r){[i,r].forEach((l,v)=>{const D=new n.LineDecoder;D.write(l).forEach(_=>{t({line:_,source:v===0?0:1})});const p=D.end();p&&t({line:p,source:v===0?0:1})}),a({terminated:this.terminateRequested,error:s})}handleSpawn(a,t,s,i,r){const l=new n.LineDecoder,v=new n.LineDecoder;a.stdout.on("data",D=>{l.write(D).forEach(p=>s({line:p,source:0}))}),a.stderr.on("data",D=>{v.write(D).forEach(p=>s({line:p,source:1}))}),this.stdoutLineDecoder=l,this.stderrLineDecoder=v}handleClose(a,t,s,i){const r=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;r&&s({line:r,source:0});const l=this.stderrLineDecoder?this.stderrLineDecoder.end():null;l&&s({line:l,source:1})}}e.LineProcess=E;function C(c){let a=[],t=!1;const s=function(i){if(t){a.push(i);return}(!c.send(i,l=>{if(l&&console.error(l),t=!1,a.length>0){const v=a.slice(0);a=[],v.forEach(D=>s(D))}})||S.isWindows)&&(t=!0)};return{send:s}}e.createQueuedSender=C;var f;(function(c){async function a(t,s,i){if(T.isAbsolute(t))return t;if(s===void 0&&(s=h.cwd()),T.dirname(t)!=="."||(i===void 0&&m.isString(h.env.PATH)&&(i=h.env.PATH.split(T.delimiter)),i===void 0||i.length===0))return T.join(s,t);async function l(v){if(await P.Promises.exists(v)){let D;try{D=await P.Promises.stat(v)}catch(L){L.message.startsWith("EACCES")&&(D=await P.Promises.lstat(v))}return D?!D.isDirectory():!1}return!1}for(let v of i){let D;if(T.isAbsolute(v)?D=T.join(v,t):D=T.join(s,v,t),await l(D))return D;let L=D+".com";if(await l(L)||(L=D+".exe",await l(L)))return L}return T.join(s,t)}c.findExecutable=a})(f=e.win32||(e.win32={}))}),define(J[114],Z([0,1,22,3,68,70]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function T(b,o){return b===1?R.isWindows?P():k.getWindowsShell(o):m(b,o)}e.getSystemShell=T;function S(b,o){return b===1?R.isWindows?d(o):k.getWindowsShell(o):m(b,o)}e.getSystemShellSync=S;let h=null;function m(b,o){if(R.isLinux&&b===2||R.isMacintosh&&b===3)return"/bin/bash";if(!h){let u;if(R.isWindows)u="/bin/bash";else{if(u=o.SHELL,!u)try{u=(0,g.userInfo)().shell}catch(y){}u||(u="sh"),u==="/bin/false"&&(u="/bin/bash")}h=u}return h}let n=null;async function P(){return n||(n=(await(0,w.getFirstAvailablePowerShellInstallation)()).exePath),n}function d(b){if(n)return n;const o=R.isWindows&&parseFloat((0,g.release)())>=10,u=b.hasOwnProperty("PROCESSOR_ARCHITEW6432"),y=`${b.windir}\\${u?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return o?y:k.getWindowsShell(b)}}),define(J[50],Z([0,1,38,14,16,25,97,11,6,2,20,3,70,35]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Client=e.Server=void 0;class o extends b.ChannelServer{constructor(E){super({send:C=>{try{process.send&&process.send(C.buffer.toString("base64"))}catch(f){}},onMessage:h.Event.fromNodeEventEmitter(process,"message",C=>w.VSBuffer.wrap(Buffer.from(C,"base64")))},E);process.once("disconnect",()=>this.dispose())}}e.Server=o;class u{constructor(E,C){this.modulePath=E,this.options=C,this.activeRequests=new Set,this.channels=new Map,this._onDidProcessExit=new h.Emitter,this.onDidProcessExit=this._onDidProcessExit.event;const f=C&&C.timeout?C.timeout:6e4;this.disposeDelayer=new R.Delayer(f),this.child=null,this._client=null}getChannel(E){const C=this;return{call(f,c,a){return C.requestPromise(E,f,c,a)},listen(f,c){return C.requestEvent(E,f,c)}}}requestPromise(E,C,f,c=k.CancellationToken.None){if(!this.disposeDelayer)return Promise.reject(new Error("disposed"));if(c.isCancellationRequested)return Promise.reject(S.canceled());this.disposeDelayer.cancel();const a=this.getCachedChannel(E),t=(0,R.createCancelablePromise)(r=>a.call(C,f,r)),s=c.onCancellationRequested(()=>t.cancel()),i=(0,m.toDisposable)(()=>t.cancel());return this.activeRequests.add(i),t.finally(()=>{s.dispose(),this.activeRequests.delete(i),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}),t}requestEvent(E,C,f){if(!this.disposeDelayer)return h.Event.None;this.disposeDelayer.cancel();let c;const a=new h.Emitter({onFirstListenerAdd:()=>{c=this.getCachedChannel(E).listen(C,f)(a.fire,a),this.activeRequests.add(c)},onLastListenerRemove:()=>{this.activeRequests.delete(c),c.dispose(),this.activeRequests.size===0&&this.disposeDelayer&&this.disposeDelayer.trigger(()=>this.disposeClient())}});return a.event}get client(){if(!this._client){const E=this.options&&this.options.args?this.options.args:[],C=Object.create(null);C.env={...(0,n.deepClone)(process.env),VSCODE_PARENT_PID:String(process.pid)},this.options&&this.options.env&&(C.env={...C.env,...this.options.env}),this.options&&this.options.freshExecArgv&&(C.execArgv=[]),this.options&&typeof this.options.debug=="number"&&(C.execArgv=["--nolazy","--inspect="+this.options.debug]),this.options&&typeof this.options.debugBrk=="number"&&(C.execArgv=["--nolazy","--inspect-brk="+this.options.debugBrk]),C.execArgv===void 0&&(C.execArgv=process.execArgv.filter(l=>!/^--inspect(-brk)?=/.test(l))),P.isMacintosh&&C.env&&delete C.env.DYLD_LIBRARY_PATH,this.child=(0,g.fork)(this.modulePath,E,C);const f=new h.Emitter;h.Event.fromNodeEventEmitter(this.child,"message",l=>l)(l=>{if((0,T.isRemoteConsoleLog)(l)){(0,T.log)(l,`IPC Library: ${this.options.serverName}`);return}f.fire(w.VSBuffer.wrap(Buffer.from(l,"base64")))});const a=this.options.useQueue?(0,d.createQueuedSender)(this.child):this.child,t=l=>this.child&&this.child.connected&&a.send(l.buffer.toString("base64")),s=f.event,i={send:t,onMessage:s};this._client=new b.ChannelClient(i);const r=()=>this.disposeClient();process.once("exit",r),this.child.on("error",l=>console.warn('IPC "'+this.options.serverName+'" errored with '+l)),this.child.on("exit",(l,v)=>{process.removeListener("exit",r),this.activeRequests.forEach(D=>(0,m.dispose)(D)),this.activeRequests.clear(),l!==0&&v!=="SIGTERM"&&console.warn('IPC "'+this.options.serverName+'" crashed with exit code '+l+" and signal "+v),this.disposeDelayer&&this.disposeDelayer.cancel(),this.disposeClient(),this._onDidProcessExit.fire({code:l,signal:v})})}return this._client}getCachedChannel(E){let C=this.channels.get(E);return C||(C=this.client.getChannel(E),this.channels.set(E,C)),C}disposeClient(){this._client&&(this.child&&(this.child.kill(),this.child=null),this._client=null,this.channels.clear())}dispose(){this._onDidProcessExit.dispose(),this.disposeDelayer&&(this.disposeDelayer.cancel(),this.disposeDelayer=void 0),this.disposeClient(),this.activeRequests.clear()}}e.Client=u}),define(J[115],Z([9,10]),function(x,e){return x.create("vs/base/node/zip",e)}),define(J[116],Z([9,10]),function(x,e){return x.create("vs/platform/configuration/common/configurationRegistry",e)}),define(J[117],Z([9,10]),function(x,e){return x.create("vs/platform/environment/node/argv",e)}),define(J[118],Z([9,10]),function(x,e){return x.create("vs/platform/environment/node/argvHelper",e)}),define(J[119],Z([9,10]),function(x,e){return x.create("vs/platform/extensionManagement/common/abstractExtensionManagementService",e)}),define(J[120],Z([9,10]),function(x,e){return x.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(J[121],Z([9,10]),function(x,e){return x.create("vs/platform/extensionManagement/common/extensionManagementCLIService",e)}),define(J[122],Z([9,10]),function(x,e){return x.create("vs/platform/extensionManagement/node/extensionManagementService",e)}),define(J[123],Z([9,10]),function(x,e){return x.create("vs/platform/extensionManagement/node/extensionManagementUtil",e)}),define(J[124],Z([9,10]),function(x,e){return x.create("vs/platform/extensionManagement/node/extensionsScanner",e)}),define(J[125],Z([9,10]),function(x,e){return x.create("vs/platform/extensions/common/extensionValidator",e)}),define(J[126],Z([9,10]),function(x,e){return x.create("vs/platform/files/common/fileService",e)}),define(J[127],Z([9,10]),function(x,e){return x.create("vs/platform/files/common/files",e)}),define(J[128],Z([9,10]),function(x,e){return x.create("vs/platform/files/common/io",e)}),define(J[129],Z([9,10]),function(x,e){return x.create("vs/platform/files/node/diskFileSystemProvider",e)}),define(J[130],Z([9,10]),function(x,e){return x.create("vs/platform/request/common/request",e)}),define(J[131],Z([9,10]),function(x,e){return x.create("vs/platform/telemetry/common/telemetryService",e)}),define(J[132],Z([9,10]),function(x,e){return x.create("vs/platform/terminal/common/terminalPlatformConfiguration",e)}),define(J[133],Z([9,10]),function(x,e){return x.create("vs/server/marketplace",e)}),define(J[134],Z([9,10]),function(x,e){return x.create("vs/workbench/common/editor",e)}),define(J[135],Z([9,10]),function(x,e){return x.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(J[136],Z([9,10]),function(x,e){return x.create("vs/workbench/services/extensions/node/extensionPoints",e)}),define(J[137],Z([0,1,6,2]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostDebugChannelClient=e.ExtensionHostDebugBroadcastChannel=void 0;class w{constructor(){this._onCloseEmitter=new g.Emitter,this._onReloadEmitter=new g.Emitter,this._onTerminateEmitter=new g.Emitter,this._onAttachEmitter=new g.Emitter}call(S,h,m){switch(h){case"close":return Promise.resolve(this._onCloseEmitter.fire({sessionId:m[0]}));case"reload":return Promise.resolve(this._onReloadEmitter.fire({sessionId:m[0]}));case"terminate":return Promise.resolve(this._onTerminateEmitter.fire({sessionId:m[0]}));case"attach":return Promise.resolve(this._onAttachEmitter.fire({sessionId:m[0],port:m[1],subId:m[2]}))}throw new Error("Method not implemented.")}listen(S,h,m){switch(h){case"close":return this._onCloseEmitter.event;case"reload":return this._onReloadEmitter.event;case"terminate":return this._onTerminateEmitter.event;case"attach":return this._onAttachEmitter.event}throw new Error("Method not implemented.")}}e.ExtensionHostDebugBroadcastChannel=w,w.ChannelName="extensionhostdebugservice";class k extends R.Disposable{constructor(S){super();this.channel=S}reload(S){this.channel.call("reload",[S])}get onReload(){return this.channel.listen("reload")}close(S){this.channel.call("close",[S])}get onClose(){return this.channel.listen("close")}attachSession(S,h,m){this.channel.call("attach",[S,h,m])}get onAttachSession(){return this.channel.listen("attach")}terminateSession(S,h){this.channel.call("terminate",[S,h])}get onTerminateSession(){return this.channel.listen("terminate")}openExtensionDevelopmentHostWindow(S,h,m){return this.channel.call("openExtensionDevelopmentHostWindow",[S,h||{},m])}}e.ExtensionHostDebugChannelClient=k}),define(J[138],Z([0,1,109,59,8,5,24,17,7]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseSearchPort=e.parseExtensionHostPort=e.AbstractNativeEnvironmentService=void 0;class m{constructor(o,u,y){this._args=o,this.paths=u,this.productService=y}get appRoot(){return(0,k.dirname)(w.FileAccess.asFileUri("",x).fsPath)}get userHome(){return h.URI.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return h.URI.file((0,k.join)(this.userDataPath,"User"))}get tmpDir(){return h.URI.file(this.paths.tmpDir)}get userRoamingDataHome(){return this.appSettingsHome}get settingsResource(){return(0,S.joinPath)(this.userRoamingDataHome,"settings.json")}get userDataSyncHome(){return(0,S.joinPath)(this.userRoamingDataHome,"sync")}get logsPath(){if(!this.args.logsPath){const o=(0,g.toLocalISOString)(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=(0,k.join)(this.userDataPath,"logs",o)}return this.args.logsPath}get userDataSyncLogResource(){return h.URI.file((0,k.join)(this.logsPath,"userDataSync.log"))}get sync(){return this.args.sync}get machineSettingsResource(){return(0,S.joinPath)(h.URI.file((0,k.join)(this.userDataPath,"Machine")),"settings.json")}get globalStorageHome(){return h.URI.joinPath(this.appSettingsHome,"globalStorage")}get workspaceStorageHome(){return h.URI.joinPath(this.appSettingsHome,"workspaceStorage")}get keybindingsResource(){return(0,S.joinPath)(this.userRoamingDataHome,"keybindings.json")}get keyboardLayoutResource(){return(0,S.joinPath)(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const o=T.env.VSCODE_PORTABLE;return o?h.URI.file((0,k.join)(o,"argv.json")):(0,S.joinPath)(this.userHome,this.productService.dataFolderName,"argv.json")}get snippetsHome(){return(0,S.joinPath)(this.userRoamingDataHome,"snippets")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return h.URI.file((0,k.join)(this.userDataPath,"Workspaces"))}get installSourcePath(){return(0,k.join)(this.userDataPath,"installSource")}get builtinExtensionsPath(){const o=this.args["builtin-extensions-dir"];return o?(0,k.resolve)(o):(0,k.normalize)((0,k.join)(w.FileAccess.asFileUri("",x).fsPath,"..","extensions"))}get extensionsDownloadPath(){const o=this.args["extensions-download-dir"];return o?(0,k.resolve)(o):(0,k.join)(this.userDataPath,"CachedExtensionVSIXs")}get extensionsPath(){const o=this.args["extensions-dir"];if(o)return(0,k.resolve)(o);const u=T.env.VSCODE_EXTENSIONS;if(u)return u;const y=T.env.VSCODE_PORTABLE;return y?(0,k.join)(y,"extensions"):(0,S.joinPath)(this.userHome,this.productService.dataFolderName,"extensions").fsPath}get extraExtensionPaths(){return(this._args["extra-extensions-dir"]||[]).map(o=>(0,k.resolve)(o))}get extraBuiltinExtensionPaths(){return(this._args["extra-builtin-extensions-dir"]||[]).map(o=>(0,k.resolve)(o))}get extensionDevelopmentLocationURI(){const o=this.args.extensionDevelopmentPath;if(Array.isArray(o))return o.map(u=>/^[^:/?#]+?:\/\//.test(u)?h.URI.parse(u):h.URI.file((0,k.normalize)(u)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(o=>o==="ui"||o==="workspace"||o==="web"?o:"workspace")}get extensionTestsLocationURI(){const o=this.args.extensionTestsPath;if(o)return/^[^:/?#]+?:\/\//.test(o)?h.URI.parse(o):h.URI.file((0,k.normalize)(o))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const o=this.args["disable-extension"];if(o){if(typeof o=="string")return[o];if(Array.isArray(o)&&o.length>0)return o}return!1}get debugExtensionHost(){return n(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!T.env.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log}get serviceMachineIdResource(){return(0,S.joinPath)(h.URI.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get driverHandle(){return this.args.driver}get telemetryLogResource(){return h.URI.file((0,k.join)(this.logsPath,"telemetry.log"))}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get args(){return this._args}}we([R.memoize],m.prototype,"appRoot",null),we([R.memoize],m.prototype,"userHome",null),we([R.memoize],m.prototype,"userDataPath",null),we([R.memoize],m.prototype,"appSettingsHome",null),we([R.memoize],m.prototype,"tmpDir",null),we([R.memoize],m.prototype,"userRoamingDataHome",null),we([R.memoize],m.prototype,"settingsResource",null),we([R.memoize],m.prototype,"userDataSyncHome",null),we([R.memoize],m.prototype,"userDataSyncLogResource",null),we([R.memoize],m.prototype,"sync",null),we([R.memoize],m.prototype,"machineSettingsResource",null),we([R.memoize],m.prototype,"globalStorageHome",null),we([R.memoize],m.prototype,"workspaceStorageHome",null),we([R.memoize],m.prototype,"keybindingsResource",null),we([R.memoize],m.prototype,"keyboardLayoutResource",null),we([R.memoize],m.prototype,"argvResource",null),we([R.memoize],m.prototype,"snippetsHome",null),we([R.memoize],m.prototype,"isExtensionDevelopment",null),we([R.memoize],m.prototype,"untitledWorkspacesHome",null),we([R.memoize],m.prototype,"installSourcePath",null),we([R.memoize],m.prototype,"builtinExtensionsPath",null),we([R.memoize],m.prototype,"extensionsPath",null),we([R.memoize],m.prototype,"extraExtensionPaths",null),we([R.memoize],m.prototype,"extraBuiltinExtensionPaths",null),we([R.memoize],m.prototype,"extensionDevelopmentLocationURI",null),we([R.memoize],m.prototype,"extensionDevelopmentKind",null),we([R.memoize],m.prototype,"extensionTestsLocationURI",null),we([R.memoize],m.prototype,"debugExtensionHost",null),we([R.memoize],m.prototype,"serviceMachineIdResource",null),we([R.memoize],m.prototype,"telemetryLogResource",null),we([R.memoize],m.prototype,"disableWorkspaceTrust",null),e.AbstractNativeEnvironmentService=m;function n(b,o){return d(b["inspect-extensions"],b["inspect-brk-extensions"],5870,o,b.debugId)}e.parseExtensionHostPort=n;function P(b,o){return d(b["inspect-search"],b["inspect-brk-search"],5876,o)}e.parseSearchPort=P;function d(b,o,u,y,E){const f=Number(o||b)||(y?null:u),c=f?Boolean(!!o):!1;return{port:f,break:c,debugId:E}}}),define(J[139],Z([0,1,212,3,117]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildVersionMessage=e.buildHelpMessage=e.formatOptions=e.parseArgs=e.OPTIONS=void 0;const k={o:(0,w.localize)(0,null),e:(0,w.localize)(1,null),t:(0,w.localize)(2,null)};e.OPTIONS={diff:{type:"boolean",cat:"o",alias:"d",args:["file","file"],description:(0,w.localize)(3,null)},add:{type:"boolean",cat:"o",alias:"a",args:"folder",description:(0,w.localize)(4,null)},goto:{type:"boolean",cat:"o",alias:"g",args:"file:line[:character]",description:(0,w.localize)(5,null)},"new-window":{type:"boolean",cat:"o",alias:"n",description:(0,w.localize)(6,null)},"reuse-window":{type:"boolean",cat:"o",alias:"r",description:(0,w.localize)(7,null)},wait:{type:"boolean",cat:"o",alias:"w",description:(0,w.localize)(8,null)},waitMarkerFilePath:{type:"string"},locale:{type:"string",cat:"o",args:"locale",description:(0,w.localize)(9,null)},"user-data-dir":{type:"string",cat:"o",args:"dir",description:(0,w.localize)(10,null)},help:{type:"boolean",cat:"o",alias:"h",description:(0,w.localize)(11,null)},"extensions-dir":{type:"string",deprecates:"extensionHomePath",cat:"e",args:"dir",description:(0,w.localize)(12,null)},"extensions-download-dir":{type:"string"},"builtin-extensions-dir":{type:"string"},"extra-extensions-dir":{type:"string[]",cat:"o",description:"Path to an extra user extension directory."},"extra-builtin-extensions-dir":{type:"string[]",cat:"o",description:"Path to an extra builtin extension directory."},"list-extensions":{type:"boolean",cat:"e",description:(0,w.localize)(13,null)},"show-versions":{type:"boolean",cat:"e",description:(0,w.localize)(14,null)},category:{type:"string",cat:"e",description:(0,w.localize)(15,null),args:"category"},"install-extension":{type:"string[]",cat:"e",args:"extension-id[@version] | path-to-vsix",description:(0,w.localize)(16,null)},"uninstall-extension":{type:"string[]",cat:"e",args:"extension-id",description:(0,w.localize)(17,null)},"enable-proposed-api":{type:"string[]",cat:"e",args:"extension-id",description:(0,w.localize)(18,null)},version:{type:"boolean",cat:"t",alias:"v",description:(0,w.localize)(19,null)},verbose:{type:"boolean",cat:"t",description:(0,w.localize)(20,null)},log:{type:"string",cat:"t",args:"level",description:(0,w.localize)(21,null)},status:{type:"boolean",alias:"s",cat:"t",description:(0,w.localize)(22,null)},"prof-startup":{type:"boolean",cat:"t",description:(0,w.localize)(23,null)},"prof-append-timers":{type:"string"},"no-cached-data":{type:"boolean"},"prof-startup-prefix":{type:"string"},"prof-v8-extensions":{type:"boolean"},"disable-extensions":{type:"boolean",deprecates:"disableExtensions",cat:"t",description:(0,w.localize)(24,null)},"disable-extension":{type:"string[]",cat:"t",args:"extension-id",description:(0,w.localize)(25,null)},sync:{type:"string",cat:"t",description:(0,w.localize)(26,null),args:["on","off"]},"inspect-extensions":{type:"string",deprecates:"debugPluginHost",args:"port",cat:"t",description:(0,w.localize)(27,null)},"inspect-brk-extensions":{type:"string",deprecates:"debugBrkPluginHost",args:"port",cat:"t",description:(0,w.localize)(28,null)},"disable-gpu":{type:"boolean",cat:"t",description:(0,w.localize)(29,null)},"max-memory":{type:"string",cat:"t",description:(0,w.localize)(30,null),args:"memory"},telemetry:{type:"boolean",cat:"t",description:(0,w.localize)(31,null)},remote:{type:"string"},"folder-uri":{type:"string[]",cat:"o",args:"uri"},"file-uri":{type:"string[]",cat:"o",args:"uri"},"locate-extension":{type:"string[]"},extensionDevelopmentPath:{type:"string[]"},extensionDevelopmentKind:{type:"string[]"},extensionTestsPath:{type:"string"},debugId:{type:"string"},debugRenderer:{type:"boolean"},"inspect-search":{type:"string",deprecates:"debugSearch"},"inspect-brk-search":{type:"string",deprecates:"debugBrkSearch"},"export-default-configuration":{type:"string"},"install-source":{type:"string"},driver:{type:"string"},logExtensionHostCommunication:{type:"boolean"},"skip-release-notes":{type:"boolean"},"skip-welcome":{type:"boolean"},"disable-telemetry":{type:"boolean"},"disable-updates":{type:"boolean"},"disable-keytar":{type:"boolean"},"disable-workspace-trust":{type:"boolean"},"disable-crash-reporter":{type:"boolean"},"crash-reporter-directory":{type:"string"},"crash-reporter-id":{type:"string"},"skip-add-to-recently-opened":{type:"boolean"},"unity-launch":{type:"boolean"},"open-url":{type:"boolean"},"file-write":{type:"boolean"},"file-chmod":{type:"boolean"},"driver-verbose":{type:"boolean"},"install-builtin-extension":{type:"string[]"},force:{type:"boolean"},"do-not-sync":{type:"boolean"},trace:{type:"boolean"},"trace-category-filter":{type:"string"},"trace-options":{type:"string"},"force-user-env":{type:"boolean"},"force-disable-user-env":{type:"boolean"},"open-devtools":{type:"boolean"},__sandbox:{type:"boolean"},logsPath:{type:"string"},"no-proxy-server":{type:"boolean"},"no-sandbox":{type:"boolean",alias:"sandbox"},"proxy-server":{type:"string"},"proxy-bypass-list":{type:"string"},"proxy-pac-url":{type:"string"},"js-flags":{type:"string"},inspect:{type:"string"},"inspect-brk":{type:"string"},nolazy:{type:"boolean"},"force-device-scale-factor":{type:"string"},"force-renderer-accessibility":{type:"boolean"},"ignore-certificate-errors":{type:"boolean"},"allow-insecure-localhost":{type:"boolean"},"log-net-log":{type:"string"},vmodule:{type:"string"},_urls:{type:"string[]"},_:{type:"string[]"}};const T={onUnknownOption:()=>{},onMultipleValues:()=>{}};function S(o,u,y=T){const E={},C=[],f=[];for(let s in u){const i=u[s];i.alias&&(E[s]=i.alias),i.type==="string"||i.type==="string[]"?(C.push(s),i.deprecates&&C.push(i.deprecates)):i.type==="boolean"&&(f.push(s),i.deprecates&&f.push(i.deprecates))}const c=g(o,{string:C,boolean:f,alias:E}),a={},t=c;a._=c._.map(s=>String(s)).filter(s=>s.length>0),delete t._;for(let s in u){const i=u[s];i.alias&&delete t[i.alias];let r=t[s];i.deprecates&&t.hasOwnProperty(i.deprecates)&&(r||(r=t[i.deprecates]),delete t[i.deprecates]),typeof r!="undefined"&&(i.type==="string[]"?r&&!Array.isArray(r)&&(r=[r]):i.type==="string"&&Array.isArray(r)&&(r=r.pop(),y.onMultipleValues(s,r)),a[s]=r),delete t[s]}for(let s in t)y.onUnknownOption(s);return a}e.parseArgs=S;function h(o,u){let y="";return u.args&&(Array.isArray(u.args)?y=` <${u.args.join("> <")}>`:y=` <${u.args}>`),u.alias?`-${u.alias} --${o}${y}`:`--${o}${y}`}function m(o,u){let y=0,E=[];for(const a in o){const t=o[a],s=h(a,t);y=Math.max(y,s.length),E.push([s,t.description])}let C=y+2+1;if(u-C<25)return E.reduce((a,t)=>a.concat([`  ${t[0]}`,`      ${t[1]}`]),[]);let f=u-C-1,c=[];for(const a of E){let t=a[0],s=P(a[1],f),i=n(C-t.length-2);c.push("  "+t+i+s[0]);for(let r=1;r<s.length;r++)c.push(n(C)+s[r])}return c}e.formatOptions=m;function n(o){return" ".repeat(o)}function P(o,u){let y=[];for(;o.length;){let E=o.length<u?o.length:o.lastIndexOf(" ",u),C=o.slice(0,E).trim();o=o.slice(E),y.push(C)}return y}function d(o,u,y,E,C=!0){const f=process.stdout.isTTY&&process.stdout.columns||80;let c=[`${o} ${y}`];c.push(""),c.push(`${(0,w.localize)(32,null)}: ${u} [${(0,w.localize)(33,null)}][${(0,w.localize)(34,null)}...]`),c.push(""),C&&(R.isWindows?c.push((0,w.localize)(35,null,u)):c.push((0,w.localize)(36,null,u)),c.push(""));const a={};for(const t in E){const s=E[t];if(s.description&&s.cat){let i=a[s.cat];i||(a[s.cat]=i={}),i[t]=s}}for(let t in a){const s=t;let i=a[s];i&&(c.push(k[s]),c.push(...m(i,f)),c.push(""))}return c.join(`
`)}e.buildHelpMessage=d;function b(o,u){return`${o||(0,w.localize)(37,null)}
${u||(0,w.localize)(38,null)}
${process.arch}`}e.buildVersionMessage=b}),function(){"use strict";function x(e,g,R,w){function k(S){const h=T(S),m=[h];return e.isAbsolute(h)||m.unshift(w),e.resolve(...m)}function T(S){const h=process.env.VSCODE_PORTABLE;if(h)return e.join(h,"user-data");let m=process.env.VSCODE_APPDATA;if(m)return e.join(m,R);const n=S["user-data-dir"];if(n)return n;switch(process.platform){case"win32":if(m=process.env.APPDATA,!m){const P=process.env.USERPROFILE;if(typeof P!="string")throw new Error("Windows: Unexpected undefined %USERPROFILE% environment variable");m=e.join(P,"AppData","Roaming")}break;case"darwin":m=e.join(g.homedir(),"Library","Application Support");break;case"linux":m=process.env.XDG_CONFIG_HOME||e.join(g.homedir(),".config");break;default:throw new Error("Platform not supported")}return e.join(m,R)}return{getUserDataPath:k}}if(typeof define=="function")define(J[140],Z([0,36,22,8,17,24]),function(e,g,R,w,k,T){const S=k.dirname(w.FileAccess.asFileUri("",e)),h=e.__$__nodeRequire(k.joinPath(S,"package.json").fsPath);return x(g,R,h.name,T.cwd())});else if(typeof module=="object"&&typeof module.exports=="object"){const e=require("../../../../../package.json"),g=require("path"),R=require("os");module.exports=x(g,R,e.name,process.env.VSCODE_CWD||process.cwd())}else throw new Error("Unknown context")}(),define(J[71],Z([0,1,22,138,140]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeEnvironmentService=void 0;class k extends R.AbstractNativeEnvironmentService{constructor(S,h){super(S,{homeDir:(0,g.homedir)(),tmpDir:(0,g.tmpdir)(),userDataDir:(0,w.getUserDataPath)(S)},h)}}e.NativeEnvironmentService=k}),define(J[141],Z([0,1,6,2,20,7,49]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionTipsChannel=e.ExtensionManagementChannelClient=e.ExtensionManagementChannel=void 0;function S(o,u){return k.URI.revive(u?u.transformIncoming(o):o)}function h(o,u){return u?u.transformOutgoingURI(o):o}function m(o,u){u=u||T.DefaultURITransformer;const y=o.manifest;return{...(0,T.transformAndReviveIncomingURIs)({...o,manifest:void 0},u),manifest:y}}function n(o,u){return u?(0,w.cloneAndChange)(o,y=>y instanceof k.URI?u.transformOutgoingURI(y):void 0):o}class P{constructor(u,y){this.service=u,this.getUriTransformer=y,this.onInstallExtension=g.Event.buffer(u.onInstallExtension,!0),this.onDidInstallExtensions=g.Event.buffer(u.onDidInstallExtensions,!0),this.onUninstallExtension=g.Event.buffer(u.onUninstallExtension,!0),this.onDidUninstallExtension=g.Event.buffer(u.onDidUninstallExtension,!0)}listen(u,y){const E=this.getUriTransformer(u);switch(y){case"onInstallExtension":return this.onInstallExtension;case"onDidInstallExtensions":return g.Event.map(this.onDidInstallExtensions,C=>C.map(f=>({...f,local:f.local?n(f.local,E):f.local})));case"onUninstallExtension":return this.onUninstallExtension;case"onDidUninstallExtension":return this.onDidUninstallExtension}throw new Error("Invalid listen")}call(u,y,E){const C=this.getUriTransformer(u);switch(y){case"zip":return this.service.zip(m(E[0],C)).then(f=>h(f,C));case"unzip":return this.service.unzip(S(E[0],C));case"install":return this.service.install(S(E[0],C),E[1]);case"getManifest":return this.service.getManifest(S(E[0],C));case"canInstall":return this.service.canInstall(E[0]);case"installFromGallery":return this.service.installFromGallery(E[0],E[1]);case"uninstall":return this.service.uninstall(m(E[0],C),E[1]);case"reinstallFromGallery":return this.service.reinstallFromGallery(m(E[0],C));case"getInstalled":return this.service.getInstalled(E[0]).then(f=>f.map(c=>n(c,C)));case"updateMetadata":return this.service.updateMetadata(m(E[0],C),E[1]).then(f=>n(f,C));case"updateExtensionScope":return this.service.updateExtensionScope(m(E[0],C),E[1]).then(f=>n(f,C));case"getExtensionsReport":return this.service.getExtensionsReport()}throw new Error("Invalid call")}}e.ExtensionManagementChannel=P;class d extends R.Disposable{constructor(u){super();this.channel=u,this._onInstallExtension=this._register(new g.Emitter),this.onInstallExtension=this._onInstallExtension.event,this._onDidInstallExtensions=this._register(new g.Emitter),this.onDidInstallExtensions=this._onDidInstallExtensions.event,this._onUninstallExtension=this._register(new g.Emitter),this.onUninstallExtension=this._onUninstallExtension.event,this._onDidUninstallExtension=this._register(new g.Emitter),this.onDidUninstallExtension=this._onDidUninstallExtension.event,this._register(this.channel.listen("onInstallExtension")(y=>this._onInstallExtension.fire({identifier:y.identifier,source:this.isUriComponents(y.source)?k.URI.revive(y.source):y.source}))),this._register(this.channel.listen("onDidInstallExtensions")(y=>this._onDidInstallExtensions.fire(y.map(E=>({...E,local:E.local?m(E.local,null):E.local,source:this.isUriComponents(E.source)?k.URI.revive(E.source):E.source}))))),this._register(this.channel.listen("onUninstallExtension")(y=>this._onUninstallExtension.fire(y))),this._register(this.channel.listen("onDidUninstallExtension")(y=>this._onDidUninstallExtension.fire(y)))}isUriComponents(u){return u?typeof u.path=="string"&&typeof u.scheme=="string":!1}zip(u){return Promise.resolve(this.channel.call("zip",[u]).then(y=>k.URI.revive(y)))}unzip(u){return Promise.resolve(this.channel.call("unzip",[u]))}install(u,y){return Promise.resolve(this.channel.call("install",[u,y])).then(E=>m(E,null))}getManifest(u){return Promise.resolve(this.channel.call("getManifest",[u]))}async canInstall(u){return!0}installFromGallery(u,y){return Promise.resolve(this.channel.call("installFromGallery",[u,y])).then(E=>m(E,null))}uninstall(u,y){return Promise.resolve(this.channel.call("uninstall",[u,y]))}reinstallFromGallery(u){return Promise.resolve(this.channel.call("reinstallFromGallery",[u]))}getInstalled(u=null){return Promise.resolve(this.channel.call("getInstalled",[u])).then(y=>y.map(E=>m(E,null)))}updateMetadata(u,y){return Promise.resolve(this.channel.call("updateMetadata",[u,y])).then(E=>m(E,null))}updateExtensionScope(u,y){return Promise.resolve(this.channel.call("updateExtensionScope",[u,y])).then(E=>m(E,null))}getExtensionsReport(){return Promise.resolve(this.channel.call("getExtensionsReport"))}registerParticipant(){throw new Error("Not Supported")}}e.ExtensionManagementChannelClient=d;class b{constructor(u){this.service=u}listen(u,y){throw new Error("Invalid listen")}call(u,y,E){switch(y){case"getConfigBasedTips":return this.service.getConfigBasedTips(k.URI.revive(E[0]));case"getImportantExecutableBasedTips":return this.service.getImportantExecutableBasedTips();case"getOtherExecutableBasedTips":return this.service.getOtherExecutableBasedTips();case"getAllWorkspacesTips":return this.service.getAllWorkspacesTips()}throw new Error("Invalid call")}}e.ExtensionTipsChannel=b}),define(J[142],Z([0,1,20]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.localizeManifest=void 0;const R=/^%([\w\d.-]+)%$/i;function w(k,T){const S=h=>{if(typeof h!="string")return;const m=R.exec(h);if(!m)return;const n=T[m[1]]??h;return typeof n=="string"?n:typeof n.message=="string"?n.message:h};return(0,g.cloneAndChange)(k,S)}e.localizeManifest=w}),define(J[51],Z([0,1,125]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEngineValid=e.isValidExtensionVersion=e.isValidVersion=e.normalizeVersion=e.parseVersion=e.isValidVersionStr=void 0;const R=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,w=/^-(\d{4})(\d{2})(\d{2})$/;function k(d){return d=d.trim(),d==="*"||R.test(d)}e.isValidVersionStr=k;function T(d){if(!k(d))return null;if(d=d.trim(),d==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};let b=d.match(R);return b?{hasCaret:b[1]==="^",hasGreaterEquals:b[1]===">=",majorBase:b[2]==="x"?0:parseInt(b[2],10),majorMustEqual:b[2]!=="x",minorBase:b[4]==="x"?0:parseInt(b[4],10),minorMustEqual:b[4]!=="x",patchBase:b[6]==="x"?0:parseInt(b[6],10),patchMustEqual:b[6]!=="x",preRelease:b[8]||null}:null}e.parseVersion=T;function S(d){if(!d)return null;let b=d.majorBase,o=d.majorMustEqual,u=d.minorBase,y=d.minorMustEqual,E=d.patchBase,C=d.patchMustEqual;d.hasCaret&&(b===0||(y=!1),C=!1);let f=0;if(d.preRelease){const c=w.exec(d.preRelease);if(c){const[,a,t,s]=c;f=Date.UTC(Number(a),Number(t)-1,Number(s))}}return{majorBase:b,majorMustEqual:o,minorBase:u,minorMustEqual:y,patchBase:E,patchMustEqual:C,isMinimum:d.hasGreaterEquals,notBefore:f}}e.normalizeVersion=S;function h(d,b,o){let u;typeof d=="string"?u=S(T(d)):u=d;let y;b instanceof Date?y=b.getTime():typeof b=="string"&&(y=new Date(b).getTime());let E;if(typeof o=="string"?E=S(T(o)):E=o,!u||!E)return!1;let C=u.majorBase,f=u.minorBase,c=u.patchBase,a=E.majorBase,t=E.minorBase,s=E.patchBase,i=E.notBefore,r=E.majorMustEqual,l=E.minorMustEqual,v=E.patchMustEqual;return E.isMinimum?C>a?!0:C<a?!1:f>t?!0:f<t||y&&y<i?!1:c>=s:(C===1&&a===0&&(!r||!l||!v)&&(a=1,t=0,s=0,r=!0,l=!1,v=!1),C<a?!1:C>a?!r:f<t?!1:f>t?!l:c<s?!1:c>s?!v:!(y&&y<i))}e.isValidVersion=h;function m(d,b,o,u){return o.isBuiltin||typeof o.main=="undefined"?!0:P(d,b,o.engines.vscode,u)}e.isValidExtensionVersion=m;function n(d,b,o){return d==="*"||P(b,o,d)}e.isEngineValid=n;function P(d,b,o,u=[]){let y=S(T(o));if(!y)return u.push(g.localize(0,null,o)),!1;if(y.majorBase===0){if(!y.majorMustEqual||!y.minorMustEqual)return u.push(g.localize(1,null,o)),!1}else if(!y.majorMustEqual)return u.push(g.localize(2,null,o)),!1;return h(d,b,y)?!0:(u.push(g.localize(3,null,d,o)),!1)}}),define(J[143],Z([0,1,16,37,11,6,2,44,7,26]),function(x,e,g,R,w,k,T,S,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPCFileSystemProvider=void 0;class n extends T.Disposable{constructor(d){super();this.channel=d,this.session=(0,m.generateUuid)(),this._onDidChange=this._register(new k.Emitter),this.onDidChangeFile=this._onDidChange.event,this._onDidWatchErrorOccur=this._register(new k.Emitter),this.onDidErrorOccur=this._onDidWatchErrorOccur.event,this._onDidChangeCapabilities=this._register(new k.Emitter),this.onDidChangeCapabilities=this._onDidChangeCapabilities.event,this._capabilities=2|4|16|8|8192,this.registerListeners()}get capabilities(){return this._capabilities}registerListeners(){this._register(this.channel.listen("filechange",[this.session])(d=>{if(Array.isArray(d)){const b=d;this._onDidChange.fire(b.map(o=>({resource:h.URI.revive(o.resource),type:o.type})))}else{const b=d;this._onDidWatchErrorOccur.fire(b)}}))}setCaseSensitive(d){d?this._capabilities|=1024:this._capabilities&=~1024,this._onDidChangeCapabilities.fire(void 0)}stat(d){return this.channel.call("stat",[d])}open(d,b){return this.channel.call("open",[d,b])}close(d){return this.channel.call("close",[d])}async read(d,b,o,u,y){const[E,C]=await this.channel.call("read",[d,b,y]);return o.set(E.buffer.slice(0,C),u),C}async readFile(d){return(await this.channel.call("readFile",[d])).buffer}readFileStream(d,b,o){const u=(0,S.newWriteableStream)(E=>g.VSBuffer.concat(E.map(C=>g.VSBuffer.wrap(C))).buffer),y=this.channel.listen("readFileStream",[d,b])(E=>{if(E instanceof g.VSBuffer)u.write(E.buffer);else{if(E==="end")u.end();else{let C=E;C instanceof Error||(C=new Error((0,R.toErrorMessage)(C))),u.error(C),u.end()}y.dispose()}});return o.onCancellationRequested(()=>{u.error((0,w.canceled)()),u.end(),y.dispose()}),u}write(d,b,o,u,y){return this.channel.call("write",[d,b,g.VSBuffer.wrap(o),u,y])}writeFile(d,b,o){return this.channel.call("writeFile",[d,g.VSBuffer.wrap(b),o])}delete(d,b){return this.channel.call("delete",[d,b])}mkdir(d){return this.channel.call("mkdir",[d])}readdir(d){return this.channel.call("readdir",[d])}rename(d,b,o){return this.channel.call("rename",[d,b,o])}copy(d,b,o){return this.channel.call("copy",[d,b,o])}watch(d,b){const o=Math.random();return this.channel.call("watch",[this.session,o,d,b]),(0,T.toDisposable)(()=>this.channel.call("unwatch",[this.session,o]))}}e.IPCFileSystemProvider=n}),define(J[144],Z([0,1,2,8,35,50]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileWatcher=void 0;class T extends g.Disposable{constructor(h,m,n,P){super();this.folders=h,this.onDidFilesChange=m,this.onLogMessage=n,this.verboseLogging=P,this.isDisposed=!1,this.restartCounter=0,this.startWatching()}startWatching(){const h=this._register(new k.Client(R.FileAccess.asFileUri("bootstrap-fork",x).fsPath,{serverName:"File Watcher (nsfw)",args:["--type=watcherService"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/nsfw/watcherApp",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));this._register(h.onDidProcessExit(()=>{this.isDisposed||(this.restartCounter<=T.MAX_RESTARTS?(this.error("terminated unexpectedly and is restarted again..."),this.restartCounter++,this.startWatching()):this.error("failed to start after retrying for some time, giving up. Please report this as a bug report!"))})),this.service=w.ProxyChannel.toService((0,w.getNextTickChannel)(h.getChannel("watcher"))),this.service.setVerboseLogging(this.verboseLogging),this._register(this.service.onDidChangeFile(m=>!this.isDisposed&&this.onDidFilesChange(m))),this._register(this.service.onDidLogMessage(m=>this.onLogMessage(m))),this.setFolders(this.folders)}setVerboseLogging(h){this.verboseLogging=h,!this.isDisposed&&this.service&&this.service.setVerboseLogging(h)}error(h){this.onLogMessage({type:"error",message:`[File Watcher (nsfw)] ${h}`})}setFolders(h){this.folders=h,this.service&&this.service.setRoots(h)}dispose(){this.isDisposed=!0,super.dispose()}}e.FileWatcher=T,T.MAX_RESTARTS=5}),define(J[145],Z([0,1,2,8,35,50]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileWatcher=void 0;class T extends g.Disposable{constructor(h,m,n,P,d={}){super();this.folders=h,this.onDidFilesChange=m,this.onLogMessage=n,this.verboseLogging=P,this.watcherOptions=d,this.isDisposed=!1,this.restartCounter=0,this.startWatching()}startWatching(){const h=this._register(new k.Client(R.FileAccess.asFileUri("bootstrap-fork",x).fsPath,{serverName:"File Watcher (chokidar)",args:["--type=watcherService"],env:{VSCODE_AMD_ENTRYPOINT:"vs/platform/files/node/watcher/unix/watcherApp",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true"}}));this._register(h.onDidProcessExit(()=>{this.isDisposed||(this.restartCounter<=T.MAX_RESTARTS?(this.error("terminated unexpectedly and is restarted again..."),this.restartCounter++,this.startWatching()):this.error("failed to start after retrying for some time, giving up. Please report this as a bug report!"))})),this.service=w.ProxyChannel.toService((0,w.getNextTickChannel)(h.getChannel("watcher"))),this.service.init({...this.watcherOptions,verboseLogging:this.verboseLogging}),this._register(this.service.onDidChangeFile(m=>!this.isDisposed&&this.onDidFilesChange(m))),this._register(this.service.onDidLogMessage(m=>this.onLogMessage(m))),this.service.setRoots(this.folders)}error(h){this.onLogMessage({type:"error",message:`[File Watcher (chokidar)] ${h}`})}setVerboseLogging(h){this.verboseLogging=h,this.service&&this.service.setVerboseLogging(h)}setFolders(h){this.folders=h,this.service&&this.service.setRoots(h)}dispose(){this.isDisposed=!0,super.dispose()}}e.FileWatcher=T,T.MAX_RESTARTS=5}),define(J[146],Z([0,1,38,99,8,66]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutOfProcessWin32FolderWatcher=void 0;class T{constructor(h,m,n,P,d){this.watchedFolder=h,this.eventCallback=n,this.logCallback=P,this.verboseLogging=d,this.restartCounter=0,Array.isArray(m)?this.ignored=m.map(b=>(0,R.parse)(b)):this.ignored=[],this.verboseLogging&&this.log(`Start watching: ${h}, excludes: ${m.join(",")}`),this.startWatcher()}startWatcher(){const h=[this.watchedFolder];this.verboseLogging&&h.push("-verbose"),this.handle=(0,g.spawn)(w.FileAccess.asFileUri("vs/platform/files/node/watcher/win32/CodeHelper.exe",x).fsPath,h);const m=new k.LineDecoder;this.handle.stdout.on("data",n=>{const P=[];for(const d of m.write(n)){const b=d.split("|");if(b.length===2){const o=Number(b[0]),u=b[1];if(o>=0&&o<3){if(this.ignored&&this.ignored.some(y=>y(u))){this.verboseLogging&&this.log(u);continue}P.push({type:T.changeTypeMap[o],path:u})}else this.log(b[1])}}P.length>0&&this.eventCallback(P)}),this.handle.on("error",n=>this.onError(n)),this.handle.stderr.on("data",n=>this.onError(n)),this.handle.on("exit",(n,P)=>this.onExit(n,P))}onError(h){this.error("process error: "+h.toString())}onExit(h,m){this.handle&&(this.error(`terminated unexpectedly (code: ${h}, signal: ${m})`),this.restartCounter<=T.MAX_RESTARTS?(this.error("is restarted again..."),this.restartCounter++,this.startWatcher()):this.error("Watcher failed to start after retrying for some time, giving up. Please report this as a bug report!"))}error(h){this.logCallback({type:"error",message:`[File Watcher (C#)] ${h}`})}log(h){this.logCallback({type:"trace",message:`[File Watcher (C#)] ${h}`})}dispose(){this.handle&&(this.handle.kill(),this.handle=void 0)}}e.OutOfProcessWin32FolderWatcher=T,T.MAX_RESTARTS=5,T.changeTypeMap=[0,1,2]}),define(J[147],Z([0,1,5,18,146]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileWatcher=void 0;class k{constructor(S,h,m,n){this.onDidFilesChange=h,this.onLogMessage=m,this.verboseLogging=n,this.service=void 0,this.folder=S[0],this.folder.path.indexOf("\\\\")===0&&this.folder.path.endsWith(g.posix.sep)&&(this.folder.path=(0,R.rtrim)(this.folder.path,g.posix.sep)),this.service=this.startWatching()}get isDisposed(){return!this.service}startWatching(){return new w.OutOfProcessWin32FolderWatcher(this.folder.path,this.folder.excludes,S=>this.onFileEvents(S),S=>this.onLogMessage(S),this.verboseLogging)}setVerboseLogging(S){this.verboseLogging=S,this.service&&(this.service.dispose(),this.service=this.startWatching())}onFileEvents(S){this.isDisposed||S.length>0&&this.onDidFilesChange(S)}dispose(){this.service&&(this.service.dispose(),this.service=void 0)}}e.FileWatcher=k}),define(J[52],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class g{constructor(w,k=[],T=!1){this.ctor=w,this.staticArguments=k,this.supportsDelayedInstantiation=T}}e.SyncDescriptor=g}),define(J[148],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class g{constructor(k){this.incoming=new Map,this.outgoing=new Map,this.data=k}}e.Node=g;class R{constructor(k){this._hashFn=k,this._nodes=new Map}roots(){const k=[];for(let T of this._nodes.values())T.outgoing.size===0&&k.push(T);return k}insertEdge(k,T){const S=this.lookupOrInsertNode(k),h=this.lookupOrInsertNode(T);S.outgoing.set(this._hashFn(T),h),h.incoming.set(this._hashFn(k),S)}removeNode(k){const T=this._hashFn(k);this._nodes.delete(T);for(let S of this._nodes.values())S.outgoing.delete(T),S.incoming.delete(T)}lookupOrInsertNode(k){const T=this._hashFn(k);let S=this._nodes.get(T);return S||(S=new g(k),this._nodes.set(T,S)),S}lookup(k){return this._nodes.get(this._hashFn(k))}isEmpty(){return this._nodes.size===0}toString(){let k=[];for(let[T,S]of this._nodes)k.push(`${T}, (incoming)[${[...S.incoming.keys()].join(", ")}], (outgoing)[${[...S.outgoing.keys()].join(",")}]`);return k.join(`
`)}findCycleSlow(){for(let[k,T]of this._nodes){const S=new Set([k]),h=this._findCycle(T,S);if(h)return h}}_findCycle(k,T){for(let[S,h]of k.outgoing){if(T.has(S))return[...T,S].join(" -> ");T.add(S);const m=this._findCycle(h,T);if(m)return m;T.delete(S)}}}e.Graph=R}),define(J[4],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var g;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function h(m){return m[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=h})(g=e._util||(e._util={})),e.IInstantiationService=w("instantiationService");function R(S,h,m,n){h[g.DI_TARGET]===h?h[g.DI_DEPENDENCIES].push({id:S,index:m,optional:n}):(h[g.DI_DEPENDENCIES]=[{id:S,index:m,optional:n}],h[g.DI_TARGET]=h)}function w(S){if(g.serviceIds.has(S))return g.serviceIds.get(S);const h=function(m,n,P){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");R(h,m,P,!1)};return h.toString=()=>S,g.serviceIds.set(S,h),h}e.createDecorator=w;function k(S){return S}e.refineServiceDecorator=k;function T(S){return function(h,m,n){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");R(S,h,n,!0)}}e.optional=T}),define(J[149],Z([0,1,3,18,4]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=e.ContextKeyExprType=void 0;let k=g.userAgent||"";const T=new Map;T.set("false",!1),T.set("true",!0),T.set("isMac",g.isMacintosh),T.set("isLinux",g.isLinux),T.set("isWindows",g.isWindows),T.set("isWeb",g.isWeb),T.set("isMacNative",g.isMacintosh&&!g.isWeb),T.set("isEdge",k.indexOf("Edg/")>=0),T.set("isFirefox",k.indexOf("Firefox")>=0),T.set("isChrome",k.indexOf("Chrome")>=0),T.set("isSafari",k.indexOf("Safari")>=0);const S=Object.prototype.hasOwnProperty;var h;(function(A){A[A.False=0]="False",A[A.True=1]="True",A[A.Defined=2]="Defined",A[A.Not=3]="Not",A[A.Equals=4]="Equals",A[A.NotEquals=5]="NotEquals",A[A.And=6]="And",A[A.Regex=7]="Regex",A[A.NotRegex=8]="NotRegex",A[A.Or=9]="Or",A[A.In=10]="In",A[A.NotIn=11]="NotIn",A[A.Greater=12]="Greater",A[A.GreaterEquals=13]="GreaterEquals",A[A.Smaller=14]="Smaller",A[A.SmallerEquals=15]="SmallerEquals"})(h=e.ContextKeyExprType||(e.ContextKeyExprType={}));class m{static false(){return P.INSTANCE}static true(){return d.INSTANCE}static has(I){return b.create(I)}static equals(I,U){return o.create(I,U)}static notEquals(I,U){return E.create(I,U)}static regex(I,U){return s.create(I,U)}static in(I,U){return u.create(I,U)}static not(I){return C.create(I)}static and(...I){return r.create(I,null)}static or(...I){return l.create(I,null,!0)}static greater(I,U){return f.create(I,U)}static less(I,U){return a.create(I,U)}static deserialize(I,U=!1){if(!!I)return this._deserializeOrExpression(I,U)}static _deserializeOrExpression(I,U){let B=I.split("||");return l.create(B.map(ee=>this._deserializeAndExpression(ee,U)),null,!0)}static _deserializeAndExpression(I,U){let B=I.split("&&");return r.create(B.map(ee=>this._deserializeOne(ee,U)),null)}static _deserializeOne(I,U){if(I=I.trim(),I.indexOf("!=")>=0){let B=I.split("!=");return E.create(B[0].trim(),this._deserializeValue(B[1],U))}if(I.indexOf("==")>=0){let B=I.split("==");return o.create(B[0].trim(),this._deserializeValue(B[1],U))}if(I.indexOf("=~")>=0){let B=I.split("=~");return s.create(B[0].trim(),this._deserializeRegexValue(B[1],U))}if(I.indexOf(" in ")>=0){let B=I.split(" in ");return u.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(I)){const B=I.split(">=");return c.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(I)){const B=I.split(">");return f.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(I)){const B=I.split("<=");return t.create(B[0].trim(),B[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(I)){const B=I.split("<");return a.create(B[0].trim(),B[1].trim())}return/^\!\s*/.test(I)?C.create(I.substr(1).trim()):b.create(I)}static _deserializeValue(I,U){if(I=I.trim(),I==="true")return!0;if(I==="false")return!1;let B=/^'([^']*)'$/.exec(I);return B?B[1].trim():I}static _deserializeRegexValue(I,U){if((0,R.isFalsyOrWhitespace)(I)){if(U)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let B=I.indexOf("/"),ee=I.lastIndexOf("/");if(B===ee||B<0){if(U)throw new Error(`bad regexp-value '${I}', missing /-enclosure`);return console.warn(`bad regexp-value '${I}', missing /-enclosure`),null}let Q=I.slice(B+1,ee),O=I[ee+1]==="i"?"i":"";try{return new RegExp(Q,O)}catch($){if(U)throw new Error(`bad regexp-value '${I}', parse error: ${$}`);return console.warn(`bad regexp-value '${I}', parse error: ${$}`),null}}}e.ContextKeyExpr=m;function n(A,I){return A.cmp(I)}class P{constructor(){this.type=0}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!1}serialize(){return"false"}keys(){return[]}map(I){return this}negate(){return d.INSTANCE}}e.ContextKeyFalseExpr=P,P.INSTANCE=new P;class d{constructor(){this.type=1}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!0}serialize(){return"true"}keys(){return[]}map(I){return this}negate(){return P.INSTANCE}}e.ContextKeyTrueExpr=d,d.INSTANCE=new d;class b{constructor(I,U){this.key=I,this.negated=U,this.type=2}static create(I,U=null){const B=T.get(I);return typeof B=="boolean"?B?d.INSTANCE:P.INSTANCE:new b(I,U)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!!I.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(I){return I.mapDefined(this.key)}negate(){return this.negated||(this.negated=C.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=b;class o{constructor(I,U,B){this.key=I,this.value=U,this.negated=B,this.type=4}static create(I,U,B=null){if(typeof U=="boolean")return U?b.create(I,B):C.create(I,B);const ee=T.get(I);return typeof ee=="boolean"?U===(ee?"true":"false")?d.INSTANCE:P.INSTANCE:new o(I,U,B)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(I){return I.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=o;class u{constructor(I,U){this.key=I,this.valueKey=U,this.type=10,this.negated=null}static create(I,U){return new u(I,U)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,this.valueKey,I.key,I.valueKey)}equals(I){return I.type===this.type?this.key===I.key&&this.valueKey===I.valueKey:!1}evaluate(I){const U=I.getValue(this.valueKey),B=I.getValue(this.key);return Array.isArray(U)?U.indexOf(B)>=0:typeof B=="string"&&typeof U=="object"&&U!==null?S.call(U,B):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(I){return I.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=y.create(this)),this.negated}}e.ContextKeyInExpr=u;class y{constructor(I){this._actual=I,this.type=11}static create(I){return new y(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(I){return new y(this._actual.map(I))}negate(){return this._actual}}e.ContextKeyNotInExpr=y;class E{constructor(I,U,B){this.key=I,this.value=U,this.negated=B,this.type=5}static create(I,U,B=null){if(typeof U=="boolean")return U?C.create(I,B):b.create(I,B);const ee=T.get(I);return typeof ee=="boolean"?U===(ee?"true":"false")?P.INSTANCE:d.INSTANCE:new E(I,U,B)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(I){return I.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=o.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=E;class C{constructor(I,U){this.key=I,this.negated=U,this.type=3}static create(I,U=null){const B=T.get(I);return typeof B=="boolean"?B?P.INSTANCE:d.INSTANCE:new C(I,U)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!I.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(I){return I.mapNot(this.key)}negate(){return this.negated||(this.negated=b.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=C;class f{constructor(I,U,B){this.key=I,this.value=U,this.negated=B,this.type=12}static create(I,U,B=null){return new f(I,U,B)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(I){return I.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=t.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=f;class c{constructor(I,U,B){this.key=I,this.value=U,this.negated=B,this.type=13}static create(I,U,B=null){return new c(I,U,B)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(I){return I.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=c;class a{constructor(I,U,B){this.key=I,this.value=U,this.negated=B,this.type=14}static create(I,U,B=null){return new a(I,U,B)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(I){return I.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=c.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=a;class t{constructor(I,U,B){this.key=I,this.value=U,this.negated=B,this.type=15}static create(I,U,B=null){return new t(I,U,B)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(I){return I.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=t;class s{constructor(I,U){this.key=I,this.regexp=U,this.type=7,this.negated=null}static create(I,U){return new s(I,U)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.key<I.key)return-1;if(this.key>I.key)return 1;const U=this.regexp?this.regexp.source:"",B=I.regexp?I.regexp.source:"";return U<B?-1:U>B?1:0}equals(I){if(I.type===this.type){const U=this.regexp?this.regexp.source:"",B=I.regexp?I.regexp.source:"";return this.key===I.key&&U===B}return!1}evaluate(I){let U=I.getValue(this.key);return this.regexp?this.regexp.test(U):!1}serialize(){const I=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${I}`}keys(){return[this.key]}map(I){return I.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=i.create(this)),this.negated}}e.ContextKeyRegexExpr=s;class i{constructor(I){this._actual=I,this.type=8}static create(I){return new i(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(I){return new i(this._actual.map(I))}negate(){return this._actual}}e.ContextKeyNotRegexExpr=i;class r{constructor(I,U){this.expr=I,this.negated=U,this.type=6}static create(I,U){return r._normalizeArr(I,U)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let U=0,B=this.expr.length;U<B;U++){const ee=n(this.expr[U],I.expr[U]);if(ee!==0)return ee}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let U=0,B=this.expr.length;U<B;U++)if(!this.expr[U].equals(I.expr[U]))return!1;return!0}return!1}evaluate(I){for(let U=0,B=this.expr.length;U<B;U++)if(!this.expr[U].evaluate(I))return!1;return!0}static _normalizeArr(I,U){const B=[];let ee=!1;for(const Q of I)if(!!Q){if(Q.type===1){ee=!0;continue}if(Q.type===0)return P.INSTANCE;if(Q.type===6){B.push(...Q.expr);continue}B.push(Q)}if(B.length===0&&ee)return d.INSTANCE;if(B.length!==0){if(B.length===1)return B[0];B.sort(n);for(let Q=1;Q<B.length;Q++)B[Q-1].equals(B[Q])&&(B.splice(Q,1),Q--);if(B.length===1)return B[0];for(;B.length>1;){const Q=B[B.length-1];if(Q.type!==9)break;B.pop();const O=B.pop(),$=B.length===0,W=l.create(Q.expr.map(K=>r.create([K,O],null)),null,$);W&&(B.push(W),B.sort(n))}return B.length===1?B[0]:new r(B,U)}}serialize(){return this.expr.map(I=>I.serialize()).join(" && ")}keys(){const I=[];for(let U of this.expr)I.push(...U.keys());return I}map(I){return new r(this.expr.map(U=>U.map(I)),null)}negate(){if(!this.negated){const I=[];for(let U of this.expr)I.push(U.negate());this.negated=l.create(I,this,!0)}return this.negated}}class l{constructor(I,U){this.expr=I,this.negated=U,this.type=9}static create(I,U,B){return l._normalizeArr(I,U,B)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let U=0,B=this.expr.length;U<B;U++){const ee=n(this.expr[U],I.expr[U]);if(ee!==0)return ee}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let U=0,B=this.expr.length;U<B;U++)if(!this.expr[U].equals(I.expr[U]))return!1;return!0}return!1}evaluate(I){for(let U=0,B=this.expr.length;U<B;U++)if(this.expr[U].evaluate(I))return!0;return!1}static _normalizeArr(I,U,B){let ee=[],Q=!1;if(I){for(let O=0,$=I.length;O<$;O++){const W=I[O];if(!!W){if(W.type===0){Q=!0;continue}if(W.type===1)return d.INSTANCE;if(W.type===9){ee=ee.concat(W.expr);continue}ee.push(W)}}if(ee.length===0&&Q)return P.INSTANCE;ee.sort(n)}if(ee.length!==0){if(ee.length===1)return ee[0];for(let O=1;O<ee.length;O++)ee[O-1].equals(ee[O])&&(ee.splice(O,1),O--);if(ee.length===1)return ee[0];if(B){for(let O=0;O<ee.length;O++)for(let $=O+1;$<ee.length;$++)p(ee[O],ee[$])&&(ee.splice($,1),$--);if(ee.length===1)return ee[0]}return new l(ee,U)}}serialize(){return this.expr.map(I=>I.serialize()).join(" || ")}keys(){const I=[];for(let U of this.expr)I.push(...U.keys());return I}map(I){return new l(this.expr.map(U=>U.map(I)),null)}negate(){if(!this.negated){let I=[];for(let U of this.expr)I.push(U.negate());for(;I.length>1;){const U=I.shift(),B=I.shift(),ee=[];for(const O of _(U))for(const $ of _(B))ee.push(r.create([O,$],null));const Q=I.length===0;I.unshift(l.create(ee,null,Q))}this.negated=I[0]}return this.negated}}class v extends b{constructor(I,U,B){super(I,null);this._defaultValue=U,typeof B=="object"?v._info.push({...B,key:I}):B!==!0&&v._info.push({key:I,description:B,type:U!=null?typeof U:void 0})}static all(){return v._info.values()}bindTo(I){return I.createKey(this.key,this._defaultValue)}getValue(I){return I.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(I){return o.create(this.key,I)}notEqualsTo(I){return E.create(this.key,I)}}e.RawContextKey=v,v._info=[],e.IContextKeyService=(0,w.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function D(A,I){return A<I?-1:A>I?1:0}function L(A,I,U,B){return A<U?-1:A>U?1:I<B?-1:I>B?1:0}function p(A,I){if(I.type===6&&A.type!==9&&A.type!==6){for(const ee of I.expr)if(A.equals(ee))return!0}const U=A.negate(),B=_(U).concat(_(I));B.sort(n);for(let ee=0;ee<B.length;ee++){const O=B[ee].negate();for(let $=ee+1;$<B.length;$++){const W=B[$];if(O.equals(W))return!0}}return!1}e.implies=p;function _(A){return A.type===9?A.expr:[A]}}),define(J[150],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDownloadService=void 0,e.IDownloadService=(0,g.createDecorator)("downloadService")}),define(J[23],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INativeEnvironmentService=e.IEnvironmentService=void 0,e.IEnvironmentService=(0,g.createDecorator)("environmentService"),e.INativeEnvironmentService=(0,g.refineServiceDecorator)(e.IEnvironmentService)}),define(J[28],Z([0,1,8,3,24,120,4]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtensionManagementCLIService=e.PreferencesLocalizedLabel=e.PreferencesLabel=e.ExtensionsChannelId=e.ExtensionsLocalizedLabel=e.ExtensionsLabel=e.DefaultIconPath=e.IExtensionTipsService=e.IGlobalExtensionEnablementService=e.ENABLED_EXTENSIONS_STORAGE_PATH=e.DISABLED_EXTENSIONS_STORAGE_PATH=e.IExtensionManagementService=e.ExtensionManagementError=e.INSTALL_ERROR_INCOMPATIBLE=e.INSTALL_ERROR_MALICIOUS=e.INSTALL_ERROR_NOT_SUPPORTED=e.IExtensionGalleryService=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.isIExtensionIdentifier=e.CURRENT_TARGET_PLATFORM=e.getTargetPlatform=e.getTargetPlatformFromOS=e.toTargetPlatform=e.TargetPlatform=e.WEB_EXTENSION_TAG=e.EXTENSION_IDENTIFIER_REGEX=e.EXTENSION_IDENTIFIER_PATTERN=void 0,e.EXTENSION_IDENTIFIER_PATTERN="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.EXTENSION_IDENTIFIER_REGEX=new RegExp(e.EXTENSION_IDENTIFIER_PATTERN),e.WEB_EXTENSION_TAG="__web_extension";var S;(function(E){E.WIN32_X64="win32-x64",E.WIN32_IA32="win32-ia32",E.WIN32_ARM64="win32-arm64",E.LINUX_X64="linux-x64",E.LINUX_ARM64="linux-arm64",E.LINUX_ARMHF="linux-armhf",E.DARWIN_X64="darwin-x64",E.DARWIN_ARM64="darwin-arm64",E.WEB="web",E.UNIVERSAL="universal",E.UNKNOWN="unknown",E.UNDEFINED="undefined"})(S=e.TargetPlatform||(e.TargetPlatform={}));function h(E){switch(E){case"win32-x64":return"win32-x64";case"win32-ia32":return"win32-ia32";case"win32-arm64":return"win32-arm64";case"linux-x64":return"linux-x64";case"linux-arm64":return"linux-arm64";case"linux-armhf":return"linux-armhf";case"darwin-x64":return"darwin-x64";case"darwin-arm64":return"darwin-arm64";case"web":return"web";case"universal":return"universal";default:return"unknown"}}e.toTargetPlatform=h;function m(E,C){let f;switch(E){case 1:f=3;break;case 3:f=2;break;case 2:f=1;break}return n(f,C)}e.getTargetPlatformFromOS=m;function n(E,C){switch(E){case 3:return C==="x64"?"win32-x64":C==="ia32"?"win32-ia32":C==="arm64"?"win32-arm64":"unknown";case 2:return C==="x64"?"linux-x64":C==="arm64"?"linux-arm64":C==="arm"?"linux-armhf":"unknown";case 1:return C==="x64"?"darwin-x64":C==="arm64"?"darwin-arm64":"unknown";case 0:return"web"}}e.getTargetPlatform=n,e.CURRENT_TARGET_PLATFORM=R.isWeb?"web":n(R.platform,w.arch);function P(E){return E&&typeof E=="object"&&typeof E.id=="string"&&(!E.uuid||typeof E.uuid=="string")}e.isIExtensionIdentifier=P;var d;(function(E){E[E.NoneOrRelevance=0]="NoneOrRelevance",E[E.LastUpdatedDate=1]="LastUpdatedDate",E[E.Title=2]="Title",E[E.PublisherName=3]="PublisherName",E[E.InstallCount=4]="InstallCount",E[E.PublishedDate=5]="PublishedDate",E[E.AverageRating=6]="AverageRating",E[E.WeightedRating=12]="WeightedRating"})(d=e.SortBy||(e.SortBy={}));var b;(function(E){E[E.Default=0]="Default",E[E.Ascending=1]="Ascending",E[E.Descending=2]="Descending"})(b=e.SortOrder||(e.SortOrder={}));var o;(function(E){E.Install="install",E.Uninstall="uninstall"})(o=e.StatisticType||(e.StatisticType={}));var u;(function(E){E[E.None=0]="None",E[E.Install=1]="Install",E[E.Update=2]="Update"})(u=e.InstallOperation||(e.InstallOperation={})),e.IExtensionGalleryService=(0,T.createDecorator)("extensionGalleryService"),e.INSTALL_ERROR_NOT_SUPPORTED="notsupported",e.INSTALL_ERROR_MALICIOUS="malicious",e.INSTALL_ERROR_INCOMPATIBLE="incompatible";class y extends Error{constructor(C,f){super(C);this.code=f,this.name=f}}e.ExtensionManagementError=y,e.IExtensionManagementService=(0,T.createDecorator)("extensionManagementService"),e.DISABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/disabled",e.ENABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/enabled",e.IGlobalExtensionEnablementService=(0,T.createDecorator)("IGlobalExtensionEnablementService"),e.IExtensionTipsService=(0,T.createDecorator)("IExtensionTipsService"),e.DefaultIconPath=g.FileAccess.asBrowserUri("./media/defaultIcon.png",x).toString(!0),e.ExtensionsLabel=(0,k.localize)(0,null),e.ExtensionsLocalizedLabel={value:e.ExtensionsLabel,original:"Extensions"},e.ExtensionsChannelId="extensions",e.PreferencesLabel=(0,k.localize)(1,null),e.PreferencesLocalizedLabel={value:e.PreferencesLabel,original:"Preferences"},e.IExtensionManagementCLIService=(0,T.createDecorator)("IExtensionManagementCLIService")}),define(J[42],Z([0,1,18,4]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IBuiltinExtensionsScannerService=e.isAuthenticaionProviderExtension=e.isLanguagePackExtension=e.ExtensionIdentifier=e.ExtensionType=e.EXTENSION_CATEGORIES=e.isIExtensionIdentifier=e.getWorkspaceSupportTypeMessage=e.ALL_EXTENSION_KINDS=e.BUILTIN_MANIFEST_CACHE_FILE=e.USER_MANIFEST_CACHE_FILE=e.MANIFEST_CACHE_FOLDER=void 0,e.MANIFEST_CACHE_FOLDER="CachedExtensions",e.USER_MANIFEST_CACHE_FILE="user",e.BUILTIN_MANIFEST_CACHE_FILE="builtin",e.ALL_EXTENSION_KINDS=["ui","workspace","web"];function w(n){if(typeof n=="object"&&n!==null&&n.supported!==!0)return n.description}e.getWorkspaceSupportTypeMessage=w;function k(n){return n&&typeof n=="object"&&typeof n.id=="string"&&(!n.uuid||typeof n.uuid=="string")}e.isIExtensionIdentifier=k,e.EXTENSION_CATEGORIES=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var T;(function(n){n[n.System=0]="System",n[n.User=1]="User"})(T=e.ExtensionType||(e.ExtensionType={}));class S{constructor(P){this.value=P,this._lower=P.toLowerCase()}static equals(P,d){if(typeof P=="undefined"||P===null)return typeof d=="undefined"||d===null;if(typeof d=="undefined"||d===null)return!1;if(typeof P=="string"||typeof d=="string"){let b=typeof P=="string"?P:P.value,o=typeof d=="string"?d:d.value;return g.equalsIgnoreCase(b,o)}return P._lower===d._lower}static toKey(P){return typeof P=="string"?P.toLowerCase():P._lower}}e.ExtensionIdentifier=S;function h(n){return n.contributes&&n.contributes.localizations?n.contributes.localizations.length>0:!1}e.isLanguagePackExtension=h;function m(n){return n.contributes&&n.contributes.authentication?n.contributes.authentication.length>0:!1}e.isAuthenticaionProviderExtension=m,e.IBuiltinExtensionsScannerService=(0,R.createDecorator)("IBuiltinExtensionsScannerService")}),define(J[29],Z([0,1,18,42]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExtensionDependencies=e.getMaliciousExtensionsSet=e.BetterMergeId=e.getGalleryExtensionTelemetryData=e.getLocalExtensionTelemetryData=e.groupByExtension=e.getGalleryExtensionId=e.adoptToGalleryExtensionId=e.getExtensionId=e.ExtensionIdentifierWithVersion=e.areSameExtensions=void 0;function w(o,u){return o.uuid&&u.uuid?o.uuid===u.uuid:o.id===u.id?!0:(0,g.compareIgnoreCase)(o.id,u.id)===0}e.areSameExtensions=w;class k{constructor(u,y){this.version=y,this.id=u.id,this.uuid=u.uuid}key(){return`${this.id}-${this.version}`}equals(u){return u instanceof k?w(this,u)&&this.version===u.version:!1}}e.ExtensionIdentifierWithVersion=k;function T(o,u){return`${o}.${u}`}e.getExtensionId=T;function S(o){return o.toLocaleLowerCase()}e.adoptToGalleryExtensionId=S;function h(o,u){return S(T(o,u))}e.getGalleryExtensionId=h;function m(o,u){const y=[],E=C=>{for(const f of y)if(f.some(c=>w(u(c),u(C))))return f;return null};for(const C of o){const f=E(C);f?f.push(C):y.push([C])}return y}e.groupByExtension=m;function n(o){return{id:o.identifier.id,name:o.manifest.name,galleryId:null,publisherId:o.publisherId,publisherName:o.manifest.publisher,publisherDisplayName:o.publisherDisplayName,dependencies:o.manifest.extensionDependencies&&o.manifest.extensionDependencies.length>0}}e.getLocalExtensionTelemetryData=n;function P(o){return{id:o.identifier.id,name:o.name,galleryId:o.identifier.uuid,publisherId:o.publisherId,publisherName:o.publisher,publisherDisplayName:o.publisherDisplayName,dependencies:!!(o.properties.dependencies&&o.properties.dependencies.length>0),...o.telemetryData}}e.getGalleryExtensionTelemetryData=P,e.BetterMergeId=new R.ExtensionIdentifier("pprice.better-merge");function d(o){const u=new Set;for(const y of o)y.malicious&&u.add(y.id.id);return u}e.getMaliciousExtensionsSet=d;function b(o,u){const y=[],E=u.manifest.extensionDependencies?.slice(0)??[];for(;E.length;){const C=E.shift();if(C&&y.every(f=>!w(f.identifier,{id:C}))){const f=o.filter(c=>w(c.identifier,{id:C}));f.length===1&&(y.push(f[0]),E.push(...f[0].manifest.extensionDependencies?.slice(0)??[]))}}return y}e.getExtensionDependencies=b});var ge=this&&this.__param||function(x,e){return function(g,R){e(g,R,x)}};define(J[151],Z([0,1,25,11,64,8,45,7,121,28,29,42]),function(x,e,g,R,w,k,T,S,h,m,n,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionManagementCLIService=e.getIdAndVersion=void 0;const d=C=>(0,h.localize)(0,null,C),b=(0,h.localize)(1,null,"ms-dotnettools.csharp");function o(C,f){return f?`${C.publisher}.${C.name}@${C.version}`:`${C.publisher}.${C.name}`}const u=/^([^.]+\..+)@(\d+\.\d+\.\d+(-.*)?)$/;function y(C){const f=u.exec(C);return f&&f[1]?[(0,n.adoptToGalleryExtensionId)(f[1]),f[2]]:[(0,n.adoptToGalleryExtensionId)(C),void 0]}e.getIdAndVersion=y;let E=class{constructor(f,c){this.extensionManagementService=f,this.extensionGalleryService=c}get location(){}async listExtensions(f,c,a=console){let t=await this.extensionManagementService.getInstalled(1);const s=P.EXTENSION_CATEGORIES.map(r=>r.toLowerCase());if(c&&c!==""){if(s.indexOf(c.toLowerCase())<0){a.log("Invalid category please enter a valid category. To list valid categories run --category without a category specified");return}t=t.filter(r=>r.manifest.categories?r.manifest.categories.map(v=>v.toLowerCase()).indexOf(c.toLowerCase())>-1:!1)}else if(c===""){a.log("Possible Categories: "),s.forEach(r=>{a.log(r)});return}this.location&&a.log((0,h.localize)(2,null,this.location)),t=t.sort((r,l)=>r.identifier.id.localeCompare(l.identifier.id));let i;for(let r of t)i!==r.identifier.id&&(i=r.identifier.id,a.log(o(r.manifest,f)))}async installExtensions(f,c,a,t,s=console){const i=[],r=[];f.length&&s.log(this.location?(0,h.localize)(3,null,this.location):(0,h.localize)(4,null));const l=await this.extensionManagementService.getInstalled(1),v=(p,_)=>{const A=l.find(I=>(0,n.areSameExtensions)(I.identifier,{id:p}));if(A){if(!_&&!t)return s.log((0,h.localize)(5,null,p,A.manifest.version,p)),!1;if(_&&A.manifest.version===_)return s.log((0,h.localize)(6,null,`${p}@${_}`)),!1}return!0},D=[],L=[];for(const p of f)if(p instanceof S.URI)D.push(p);else{const[_,A]=y(p);v(_,A)&&L.push({id:_,version:A,installOptions:{isBuiltin:!1,isMachineScoped:a}})}for(const p of c){const[_,A]=y(p);v(_,A)&&L.push({id:_,version:A,installOptions:{isBuiltin:!0,isMachineScoped:!1}})}if(D.length&&await Promise.all(D.map(async p=>{try{const _=await this.installVSIX(p,{isBuiltin:!1,isMachineScoped:a},t,s);_&&r.push(_)}catch(_){s.error(_.message||_.stack||_),i.push(p.toString())}})),L.length){const p=await this.getGalleryExtensions(L);await Promise.all(L.map(async _=>{const A=p.get(_.id.toLowerCase());if(A)try{const I=await this.installFromGallery(_,A,l,t,s);I&&r.push(I)}catch(I){s.error(I.message||I.stack||I),i.push(_.id)}else s.error(`${d(_.version?`${_.id}@${_.version}`:_.id)}
${b}`),i.push(_.id)}))}if(i.length)throw new Error((0,h.localize)(7,null,i.join(", ")))}async installVSIX(f,c,a,t){const s=await this.extensionManagementService.getManifest(f);if(!s)throw new Error("Invalid vsix");if(await this.validateVSIX(s,a,t))try{return await this.extensionManagementService.install(f,c),t.log((0,h.localize)(8,null,(0,w.getBaseLabel)(f))),s}catch(r){if((0,R.isPromiseCanceledError)(r))return t.log((0,h.localize)(9,null,(0,w.getBaseLabel)(f))),null;throw r}return null}async getGalleryExtensions(f){const c=new Map,a=await this.extensionGalleryService.getExtensions(f,g.CancellationToken.None);for(const t of a)c.set(t.identifier.id.toLowerCase(),t);return c}async installFromGallery({id:f,version:c,installOptions:a},t,s,i,r){const l=await this.extensionGalleryService.getManifest(t,g.CancellationToken.None);if(l&&!this.validateExtensionKind(l,r))return null;const v=s.find(D=>(0,n.areSameExtensions)(D.identifier,t.identifier));if(v){if(t.version===v.manifest.version)return r.log((0,h.localize)(10,null,c?`${f}@${c}`:f)),null;r.log((0,h.localize)(11,null,f,t.version))}try{return a.isBuiltin?r.log(c?(0,h.localize)(12,null,f,c):(0,h.localize)(13,null,f)):r.log(c?(0,h.localize)(14,null,f,c):(0,h.localize)(15,null,f)),await this.extensionManagementService.installFromGallery(t,{...a,installGivenVersion:!!c}),r.log((0,h.localize)(16,null,f,t.version)),l}catch(D){if((0,R.isPromiseCanceledError)(D))return r.log((0,h.localize)(17,null,f)),null;throw D}}validateExtensionKind(f,c){return!0}async validateVSIX(f,c,a){const t={id:(0,n.getGalleryExtensionId)(f.publisher,f.name)},i=(await this.extensionManagementService.getInstalled(1)).find(r=>(0,n.areSameExtensions)(t,r.identifier)&&(0,T.gt)(r.manifest.version,f.version));return i&&!c?(a.log((0,h.localize)(18,null,i.identifier.id,i.manifest.version,f.version)),!1):this.validateExtensionKind(f,a)}async uninstallExtensions(f,c,a=console){const t=async i=>{if(i instanceof S.URI){const r=await this.extensionManagementService.getManifest(i);return o(r)}return i},s=[];for(const i of f){const r=await t(i),v=(await this.extensionManagementService.getInstalled()).filter(D=>(0,n.areSameExtensions)(D.identifier,{id:r}));if(!v.length)throw new Error(`${this.notInstalled(r)}
${b}`);if(v.some(D=>D.type===0)){a.log((0,h.localize)(19,null,r));return}if(!c&&v.some(D=>D.isBuiltin)){a.log((0,h.localize)(20,null,r));return}a.log((0,h.localize)(21,null,r));for(const D of v)await this.extensionManagementService.uninstall(D),s.push(D);this.location?a.log((0,h.localize)(22,null,r,this.location)):a.log((0,h.localize)(23,null,r))}}async locateExtension(f,c=console){const a=await this.extensionManagementService.getInstalled();f.forEach(t=>{a.forEach(s=>{if(s.identifier.id===t&&s.location.scheme===k.Schemas.file){c.log(s.location.fsPath);return}})})}notInstalled(f){return this.location?(0,h.localize)(24,null,f,this.location):(0,h.localize)(25,null,f)}};E=we([ge(0,m.IExtensionManagementService),ge(1,m.IExtensionGalleryService)],E),e.ExtensionManagementCLIService=E}),define(J[152],Z([0,1,2,5,15,42]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsManifestCache=void 0;class T extends g.Disposable{constructor(h,m){super();this.environmentService=h,this.extensionsManifestCache=(0,R.join)(this.environmentService.userDataPath,k.MANIFEST_CACHE_FOLDER,k.USER_MANIFEST_CACHE_FILE),this._register(m.onDidInstallExtensions(n=>this.onDidInstallExtensions(n))),this._register(m.onDidUninstallExtension(n=>this.onDidUnInstallExtension(n)))}onDidInstallExtensions(h){h.some(m=>!!m.local)&&this.invalidate()}onDidUnInstallExtension(h){h.error||this.invalidate()}invalidate(){w.Promises.rm(this.extensionsManifestCache,w.RimRafMode.MOVE).then(()=>{},()=>{})}}e.ExtensionsManifestCache=T}),define(J[19],Z([0,1,34,5,18,13,7,127,4]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPlatformLimits=e.Arch=e.ByteSize=e.FALLBACK_MAX_MEMORY_SIZE_MB=e.MIN_MAX_MEMORY_SIZE_MB=e.whenProviderRegistered=e.etag=e.ETAG_DISABLED=e.FileKind=e.FILES_EXCLUDE_CONFIG=e.FILES_ASSOCIATIONS_CONFIG=e.HotExitConfiguration=e.AutoSaveConfiguration=e.FileOperationResult=e.NotModifiedSinceFileOperationError=e.FileOperationError=e.isParent=e.FileChangesEvent=e.FileChangeType=e.FileOperationEvent=e.FileOperation=e.toFileOperationResult=e.toFileSystemProviderErrorCode=e.markAsFileSystemProviderError=e.ensureFileSystemProviderError=e.createFileSystemProviderError=e.FileSystemProviderError=e.FileSystemProviderErrorCode=e.hasFileReadStreamCapability=e.hasOpenReadWriteCloseCapability=e.hasFileFolderCopyCapability=e.hasReadWriteCapability=e.FileSystemProviderCapabilities=e.FilePermission=e.FileType=e.isFileOpenForWriteOptions=e.IFileService=void 0,e.IFileService=(0,h.createDecorator)("fileService");function m(O){return O.create===!0}e.isFileOpenForWriteOptions=m;var n;(function(O){O[O.Unknown=0]="Unknown",O[O.File=1]="File",O[O.Directory=2]="Directory",O[O.SymbolicLink=64]="SymbolicLink"})(n=e.FileType||(e.FileType={}));var P;(function(O){O[O.Readonly=1]="Readonly"})(P=e.FilePermission||(e.FilePermission={}));var d;(function(O){O[O.FileReadWrite=2]="FileReadWrite",O[O.FileOpenReadWriteClose=4]="FileOpenReadWriteClose",O[O.FileReadStream=16]="FileReadStream",O[O.FileFolderCopy=8]="FileFolderCopy",O[O.PathCaseSensitive=1024]="PathCaseSensitive",O[O.Readonly=2048]="Readonly",O[O.Trash=4096]="Trash",O[O.FileWriteUnlock=8192]="FileWriteUnlock"})(d=e.FileSystemProviderCapabilities||(e.FileSystemProviderCapabilities={}));function b(O){return!!(O.capabilities&2)}e.hasReadWriteCapability=b;function o(O){return!!(O.capabilities&8)}e.hasFileFolderCopyCapability=o;function u(O){return!!(O.capabilities&4)}e.hasOpenReadWriteCloseCapability=u;function y(O){return!!(O.capabilities&16)}e.hasFileReadStreamCapability=y;var E;(function(O){O.FileExists="EntryExists",O.FileNotFound="EntryNotFound",O.FileNotADirectory="EntryNotADirectory",O.FileIsADirectory="EntryIsADirectory",O.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",O.FileTooLarge="EntryTooLarge",O.FileWriteLocked="EntryWriteLocked",O.NoPermissions="NoPermissions",O.Unavailable="Unavailable",O.Unknown="Unknown"})(E=e.FileSystemProviderErrorCode||(e.FileSystemProviderErrorCode={}));class C extends Error{constructor($,W){super($);this.code=W}}e.FileSystemProviderError=C;function f(O,$){const W=new C(O.toString(),$);return a(W,$),W}e.createFileSystemProviderError=f;function c(O){return O||f((0,S.localize)(0,null),E.Unknown)}e.ensureFileSystemProviderError=c;function a(O,$){return O.name=$?`${$} (FileSystemError)`:"FileSystemError",O}e.markAsFileSystemProviderError=a;function t(O){if(!O)return E.Unknown;if(O instanceof C)return O.code;const $=/^(.+) \(FileSystemError\)$/.exec(O.name);if(!$)return E.Unknown;switch($[1]){case E.FileExists:return E.FileExists;case E.FileIsADirectory:return E.FileIsADirectory;case E.FileNotADirectory:return E.FileNotADirectory;case E.FileNotFound:return E.FileNotFound;case E.FileExceedsMemoryLimit:return E.FileExceedsMemoryLimit;case E.FileTooLarge:return E.FileTooLarge;case E.FileWriteLocked:return E.FileWriteLocked;case E.NoPermissions:return E.NoPermissions;case E.Unavailable:return E.Unavailable}return E.Unknown}e.toFileSystemProviderErrorCode=t;function s(O){if(O instanceof L)return O.fileOperationResult;switch(t(O)){case E.FileNotFound:return 1;case E.FileIsADirectory:return 0;case E.FileNotADirectory:return 10;case E.FileWriteLocked:return 5;case E.NoPermissions:return 6;case E.FileExists:return 4;case E.FileExceedsMemoryLimit:return 9;case E.FileTooLarge:return 7;default:return 11}}e.toFileOperationResult=s;var i;(function(O){O[O.CREATE=0]="CREATE",O[O.DELETE=1]="DELETE",O[O.MOVE=2]="MOVE",O[O.COPY=3]="COPY"})(i=e.FileOperation||(e.FileOperation={}));class r{constructor($,W,K){this.resource=$,this.operation=W,this.target=K}isOperation($){return this.operation===$}}e.FileOperationEvent=r;var l;(function(O){O[O.UPDATED=0]="UPDATED",O[O.ADDED=1]="ADDED",O[O.DELETED=2]="DELETED"})(l=e.FileChangeType||(e.FileChangeType={}));class v{constructor($,W){this.added=void 0,this.updated=void 0,this.deleted=void 0;for(const K of $)switch(K.type){case 1:this.added||(this.added=g.TernarySearchTree.forUris(()=>W)),this.added.set(K.resource,K);break;case 0:this.updated||(this.updated=g.TernarySearchTree.forUris(()=>W)),this.updated.set(K.resource,K);break;case 2:this.deleted||(this.deleted=g.TernarySearchTree.forUris(()=>W)),this.deleted.set(K.resource,K);break}}contains($,...W){return this.doContains($,{includeChildren:!1},...W)}affects($,...W){return this.doContains($,{includeChildren:!0},...W)}doContains($,W,...K){if(!$)return!1;const V=K.length>0;return!!((!V||K.includes(1))&&(this.added?.get($)||W.includeChildren&&this.added?.findSuperstr($))||(!V||K.includes(0))&&(this.updated?.get($)||W.includeChildren&&this.updated?.findSuperstr($))||(!V||K.includes(2))&&(this.deleted?.findSubstr($)||W.includeChildren&&this.deleted?.findSuperstr($)))}gotAdded(){return!!this.added}gotDeleted(){return!!this.deleted}gotUpdated(){return!!this.updated}get rawAdded(){return this.added}get rawDeleted(){return this.deleted}}e.FileChangesEvent=v;function D(O,$,W){return!O||!$||O===$||$.length>O.length?!1:($.charAt($.length-1)!==R.sep&&($+=R.sep),W?(0,w.startsWithIgnoreCase)(O,$):O.indexOf($)===0)}e.isParent=D;class L extends Error{constructor($,W,K){super($);this.fileOperationResult=W,this.options=K}}e.FileOperationError=L;class p extends L{constructor($,W,K){super($,2,K);this.stat=W}}e.NotModifiedSinceFileOperationError=p;var _;(function(O){O[O.FILE_IS_DIRECTORY=0]="FILE_IS_DIRECTORY",O[O.FILE_NOT_FOUND=1]="FILE_NOT_FOUND",O[O.FILE_NOT_MODIFIED_SINCE=2]="FILE_NOT_MODIFIED_SINCE",O[O.FILE_MODIFIED_SINCE=3]="FILE_MODIFIED_SINCE",O[O.FILE_MOVE_CONFLICT=4]="FILE_MOVE_CONFLICT",O[O.FILE_WRITE_LOCKED=5]="FILE_WRITE_LOCKED",O[O.FILE_PERMISSION_DENIED=6]="FILE_PERMISSION_DENIED",O[O.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",O[O.FILE_INVALID_PATH=8]="FILE_INVALID_PATH",O[O.FILE_EXCEEDS_MEMORY_LIMIT=9]="FILE_EXCEEDS_MEMORY_LIMIT",O[O.FILE_NOT_DIRECTORY=10]="FILE_NOT_DIRECTORY",O[O.FILE_OTHER_ERROR=11]="FILE_OTHER_ERROR"})(_=e.FileOperationResult||(e.FileOperationResult={})),e.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},e.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},e.FILES_ASSOCIATIONS_CONFIG="files.associations",e.FILES_EXCLUDE_CONFIG="files.exclude";var A;(function(O){O[O.FILE=0]="FILE",O[O.FOLDER=1]="FOLDER",O[O.ROOT_FOLDER=2]="ROOT_FOLDER"})(A=e.FileKind||(e.FileKind={})),e.ETAG_DISABLED="";function I(O){if(!(typeof O.size!="number"||typeof O.mtime!="number"))return O.mtime.toString(29)+O.size.toString(31)}e.etag=I;async function U(O,$){if(!$.canHandleResource(T.URI.from({scheme:O.scheme})))return new Promise(W=>{const K=$.onDidChangeFileSystemProviderRegistrations(V=>{V.scheme===O.scheme&&V.added&&(K.dispose(),W())})})}e.whenProviderRegistered=U,e.MIN_MAX_MEMORY_SIZE_MB=2048,e.FALLBACK_MAX_MEMORY_SIZE_MB=4096;class B{static formatSize($){return(0,k.isNumber)($)||($=0),$<B.KB?(0,S.localize)(1,null,$.toFixed(0)):$<B.MB?(0,S.localize)(2,null,($/B.KB).toFixed(2)):$<B.GB?(0,S.localize)(3,null,($/B.MB).toFixed(2)):$<B.TB?(0,S.localize)(4,null,($/B.GB).toFixed(2)):(0,S.localize)(5,null,($/B.TB).toFixed(2))}}e.ByteSize=B,B.KB=1024,B.MB=B.KB*B.KB,B.GB=B.MB*B.KB,B.TB=B.GB*B.KB;var ee;(function(O){O[O.IA32=0]="IA32",O[O.OTHER=1]="OTHER"})(ee=e.Arch||(e.Arch={}));function Q(O){return{maxFileSize:O===0?300*B.MB:16*B.GB,maxHeapSize:O===0?700*B.MB:2*700*B.MB}}e.getPlatformLimits=Q}),define(J[153],Z([0,1,213,118,139,19]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLaunchedFromCli=e.addArg=e.parseCLIProcessArgv=e.parseMainProcessArgv=void 0;function T(d,b){const o={onUnknownOption:y=>{console.warn((0,R.localize)(0,null,y))},onMultipleValues:(y,E)=>{console.warn((0,R.localize)(1,null,y,E))}},u=(0,w.parseArgs)(d,w.OPTIONS,b?o:void 0);return u.goto&&u._.forEach(y=>g(/^(\w:)?[^:]+(:\d*){0,2}$/.test(y),(0,R.localize)(2,null))),u["max-memory"]&&g(parseInt(u["max-memory"])>=k.MIN_MAX_MEMORY_SIZE_MB,`The max-memory argument cannot be specified lower than ${k.MIN_MAX_MEMORY_SIZE_MB} MB.`),u}function S(d){const b=d.findIndex(o=>!/^-/.test(o));if(b>-1)return[...d.slice(0,b),...d.slice(b+1)]}function h(d){let[,...b]=d;process.env.VSCODE_DEV&&(b=S(b)||[]);const o=!P(process.env);return T(b,o)}e.parseMainProcessArgv=h;function m(d){const[,,...b]=d;return T(b,!0)}e.parseCLIProcessArgv=m;function n(d,...b){const o=d.indexOf("--");return o===-1?d.push(...b):d.splice(o,0,...b),d}e.addArg=n;function P(d){return d.VSCODE_CLI==="1"}e.isLaunchedFromCli=P}),define(J[72],Z([0,1,38,36,25,37,11,3,26,114,153]),function(x,e,g,R,w,k,T,S,h,m,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveShellEnv=void 0;async function P(o,u,y){return u["force-disable-user-env"]?(o.trace("resolveShellEnv(): skipped (--force-disable-user-env)"),{}):S.isWindows?(o.trace("resolveShellEnv(): skipped (Windows)"),{}):(0,n.isLaunchedFromCli)(y)&&!u["force-user-env"]?(o.trace("resolveShellEnv(): skipped (VSCODE_CLI is set)"),{}):((0,n.isLaunchedFromCli)(y)?o.trace("resolveShellEnv(): running (--force-user-env)"):o.trace("resolveShellEnv(): running (macOS/Linux)"),d||(d=new Promise(async E=>{const C=new w.CancellationTokenSource,f=setTimeout(()=>{o.error("[resolve shell env] Could not resolve shell environment within 10 seconds. Proceeding without shell environment..."),C.dispose(!0),E({})},1e4);try{const c=await b(o,C.token);E(c)}catch(c){(0,T.isPromiseCanceledError)(c)||o.error(`[resolve shell env] Unable to resolve shell environment (${c}). Proceeding without shell environment...`),E({})}finally{clearTimeout(f),C.dispose()}})),d)}e.resolveShellEnv=P;let d;async function b(o,u){const y=new Promise(async(E,C)=>{const f=process.env.ELECTRON_RUN_AS_NODE;o.trace("getUnixShellEnvironment#runAsNode",f);const c=process.env.ELECTRON_NO_ATTACH_CONSOLE;o.trace("getUnixShellEnvironment#noAttach",c);const a=(0,h.generateUuid)().replace(/-/g,"").substr(0,12),t=new RegExp(a+"(.*)"+a),s={...process.env,ELECTRON_RUN_AS_NODE:"1",ELECTRON_NO_ATTACH_CONSOLE:"1"};o.trace("getUnixShellEnvironment#env",s);const i=await(0,m.getSystemShell)(S.OS,s);if(o.trace("getUnixShellEnvironment#shell",i),u.isCancellationRequested)return C(T.canceled);const r=R.basename(i);let l,v;/^pwsh(-preview)?$/.test(r)?(l=`& '${process.execPath}' -p '''${a}'' + JSON.stringify(process.env) + ''${a}'''`,v=["-Login","-Command"]):(l=`'${process.execPath}' -p '"${a}" + JSON.stringify(process.env) + "${a}"'`,v=["-ilc"]),o.trace("getUnixShellEnvironment#spawn",JSON.stringify(v),l);const D=(0,g.spawn)(i,[...v,l],{detached:!0,stdio:["ignore","pipe","pipe"],env:s});u.onCancellationRequested(()=>(D.kill(),C(T.canceled))),D.on("error",_=>{o.error("getUnixShellEnvironment#errorChildProcess",(0,k.toErrorMessage)(_)),E({})});const L=[];D.stdout.on("data",_=>L.push(_));const p=[];D.stderr.on("data",_=>p.push(_)),D.on("close",(_,A)=>{const I=Buffer.concat(L).toString("utf8");o.trace("getUnixShellEnvironment#raw",I);const U=Buffer.concat(p).toString("utf8");if(U.trim()&&o.trace("getUnixShellEnvironment#stderr",U),_||A)return C(new Error(`Failed to get environment (code ${_}, signal ${A})`));const B=t.exec(I),ee=B?B[1]:"{}";try{const Q=JSON.parse(ee);f?Q.ELECTRON_RUN_AS_NODE=f:delete Q.ELECTRON_RUN_AS_NODE,c?Q.ELECTRON_NO_ATTACH_CONSOLE=c:delete Q.ELECTRON_NO_ATTACH_CONSOLE,delete Q.XDG_RUNTIME_DIR,o.trace("getUnixShellEnvironment#result",Q),E(Q)}catch(Q){o.error("getUnixShellEnvironment#errorCaught",(0,k.toErrorMessage)(Q)),C(Q)}})});try{return await y}catch(E){return o.error("getUnixShellEnvironment#error",(0,k.toErrorMessage)(E)),{}}}}),define(J[73],Z([0,1,3,7,19]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeFileChanges=e.toFileChanges=void 0;function k(h){return h.map(m=>({type:m.type,resource:R.URI.file(m.path)}))}e.toFileChanges=k;function T(h){const m=new S;for(const n of h)m.processEvent(n);return m.normalize()}e.normalizeFileChanges=T;class S{constructor(){this.normalized=[],this.mapPathToChange=new Map}processEvent(m){const n=this.mapPathToChange.get(m.path);if(n){const P=n.type,d=m.type;P===1&&d===2?(this.mapPathToChange.delete(m.path),this.normalized.splice(this.normalized.indexOf(n),1)):P===2&&d===1?n.type=0:P===1&&d===0||(n.type=d)}else this.normalized.push(m),this.mapPathToChange.set(m.path,m)}normalize(){const m=[],n=[];return this.normalized.filter(P=>P.type!==2?(m.push(P),!1):!0).sort((P,d)=>P.path.length-d.path.length).filter(P=>n.some(d=>(0,w.isParent)(P.path,d,!g.isLinux))?!1:(n.push(P.path),!0)).concat(m)}}}),define(J[154],Z([0,1,14,2,5,104,15,106,73]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileWatcher=void 0;class m extends R.Disposable{constructor(P,d,b,o){super();this.path=P,this.onDidFilesChange=d,this.onLogMessage=b,this.verboseLogging=o,this.fileChangesDelayer=this._register(new g.ThrottledDelayer(S.CHANGE_BUFFER_DELAY*2)),this.fileChangesBuffer=[],this.startWatching()}setVerboseLogging(P){this.verboseLogging=P}async startWatching(){try{const{stat:P,symbolicLink:d}=await T.SymlinkSupport.stat(this.path);if(this.isDisposed)return;let b=this.path;if(d)try{b=await(0,k.realpath)(b)}catch(o){if(this.onError(o),d.dangling)return}P.isDirectory()?this._register((0,S.watchFolder)(b,(o,u)=>{this.onFileChange({type:o==="changed"?0:o==="added"?1:2,path:(0,w.join)(this.path,(0,w.basename)(u))})},o=>this.onError(o))):this._register((0,S.watchFile)(b,o=>{this.onFileChange({type:o==="changed"?0:2,path:this.path})},o=>this.onError(o)))}catch(P){P.code!=="ENOENT"&&this.onError(P)}}onFileChange(P){this.fileChangesBuffer.push(P),this.verboseLogging&&this.onVerbose(`${P.type===1?"[ADDED]":P.type===2?"[DELETED]":"[CHANGED]"} ${P.path}`),this.fileChangesDelayer.trigger(async()=>{const d=this.fileChangesBuffer;this.fileChangesBuffer=[];const b=(0,h.normalizeFileChanges)(d);if(this.verboseLogging)for(const o of b)this.onVerbose(`>> normalized ${o.type===1?"[ADDED]":o.type===2?"[DELETED]":"[CHANGED]"} ${o.path}`);b.length>0&&this.onDidFilesChange(b)})}onError(P){this.isDisposed||this.onLogMessage({type:"error",message:`[File Watcher (node.js)] ${P}`})}onVerbose(P){this.isDisposed||this.onLogMessage({type:"trace",message:`[File Watcher (node.js)] ${P}`})}dispose(){this.isDisposed=!0,super.dispose()}}e.FileWatcher=m}),define(J[53],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class g{constructor(...w){this._entries=new Map;for(let[k,T]of w)this.set(k,T)}set(w,k){const T=this._entries.get(w);return this._entries.set(w,k),T}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}e.ServiceCollection=g}),define(J[74],Z([0,1,14,11,52,148,4,53]),function(x,e,g,R,w,k,T,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const h=!1;class m extends Error{constructor(o){super("cyclic dependency between services");this.message=o.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${o.toString()}`}}class n{constructor(o=new S.ServiceCollection,u=!1,y){this._activeInstantiations=new Set,this._services=o,this._strict=u,this._parent=y,this._services.set(T.IInstantiationService,this)}createChild(o){return new n(o,this._strict,this)}invokeFunction(o,...u){let y=d.traceInvocation(o),E=!1;try{return o({get:(f,c)=>{if(E)throw(0,R.illegalState)("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(f,y);if(!a&&c!==T.optional)throw new Error(`[invokeFunction] unknown service '${f}'`);return a}},...u)}finally{E=!0,y.stop()}}createInstance(o,...u){let y,E;return o instanceof w.SyncDescriptor?(y=d.traceCreation(o.ctor),E=this._createInstance(o.ctor,o.staticArguments.concat(u),y)):(y=d.traceCreation(o),E=this._createInstance(o,u,y)),y.stop(),E}_createInstance(o,u=[],y){let E=T._util.getServiceDependencies(o).sort((c,a)=>c.index-a.index),C=[];for(const c of E){let a=this._getOrCreateServiceInstance(c.id,y);if(!a&&this._strict&&!c.optional)throw new Error(`[createInstance] ${o.name} depends on UNKNOWN service ${c.id}.`);C.push(a)}let f=E.length>0?E[0].index:u.length;if(u.length!==f){console.warn(`[createInstance] First service dependency of ${o.name} at position ${f+1} conflicts with ${u.length} static arguments`);let c=f-u.length;c>0?u=u.concat(new Array(c)):u=u.slice(0,f)}return new o(...[...u,...C])}_setServiceInstance(o,u){if(this._services.get(o)instanceof w.SyncDescriptor)this._services.set(o,u);else if(this._parent)this._parent._setServiceInstance(o,u);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(o){let u=this._services.get(o);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(o):u}_getOrCreateServiceInstance(o,u){let y=this._getServiceInstanceOrDescriptor(o);return y instanceof w.SyncDescriptor?this._safeCreateAndCacheServiceInstance(o,y,u.branch(o,!0)):(u.branch(o,!1),y)}_safeCreateAndCacheServiceInstance(o,u,y){if(this._activeInstantiations.has(o))throw new Error(`illegal state - RECURSIVELY instantiating service '${o}'`);this._activeInstantiations.add(o);try{return this._createAndCacheServiceInstance(o,u,y)}finally{this._activeInstantiations.delete(o)}}_createAndCacheServiceInstance(o,u,y){const E=new k.Graph(c=>c.id.toString());let C=0;const f=[{id:o,desc:u,_trace:y}];for(;f.length;){const c=f.pop();if(E.lookupOrInsertNode(c),C++>1e3)throw new m(E);for(let a of T._util.getServiceDependencies(c.desc.ctor)){let t=this._getServiceInstanceOrDescriptor(a.id);if(!t&&!a.optional&&console.warn(`[createInstance] ${o} depends on ${a.id} which is NOT registered.`),t instanceof w.SyncDescriptor){const s={id:a.id,desc:t,_trace:c._trace.branch(a.id,!0)};E.insertEdge(c,s),f.push(s)}}}for(;;){const c=E.roots();if(c.length===0){if(!E.isEmpty())throw new m(E);break}for(const{data:a}of c){if(this._getServiceInstanceOrDescriptor(a.id)instanceof w.SyncDescriptor){const s=this._createServiceInstanceWithOwner(a.id,a.desc.ctor,a.desc.staticArguments,a.desc.supportsDelayedInstantiation,a._trace);this._setServiceInstance(a.id,s)}E.removeNode(a)}}return this._getServiceInstanceOrDescriptor(o)}_createServiceInstanceWithOwner(o,u,y=[],E,C){if(this._services.get(o)instanceof w.SyncDescriptor)return this._createServiceInstance(u,y,E,C);if(this._parent)return this._parent._createServiceInstanceWithOwner(o,u,y,E,C);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(o,u=[],y,E){if(y){const C=new g.IdleValue(()=>this._createInstance(o,u,E));return new Proxy(Object.create(null),{get(f,c){if(c in f)return f[c];let a=C.value,t=a[c];return typeof t!="function"||(t=t.bind(a),f[c]=t),t},set(f,c,a){return C.value[c]=a,!0}})}else return this._createInstance(o,u,E)}}e.InstantiationService=n;var P;(function(b){b[b.Creation=0]="Creation",b[b.Invocation=1]="Invocation",b[b.Branch=2]="Branch"})(P||(P={}));class d{constructor(o,u){this.type=o,this.name=u,this._start=Date.now(),this._dep=[]}static traceInvocation(o){return h?new d(1,o.name||o.toString().substring(0,42).replace(/\n/g,"")):d._None}static traceCreation(o){return h?new d(0,o.name):d._None}branch(o,u){let y=new d(2,o.toString());return this._dep.push([o,u,y]),y}stop(){let o=Date.now()-this._start;d._totals+=o;let u=!1;function y(C,f){let c=[],a=new Array(C+1).join("	");for(const[t,s,i]of f._dep)if(s&&i){u=!0,c.push(`${a}CREATES -> ${t}`);let r=y(C+1,i);r&&c.push(r)}else c.push(`${a}uses -> ${t}`);return c.join(`
`)}let E=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${y(1,this)}`,`DONE, took ${o.toFixed(2)}ms (grand total ${d._totals.toFixed(2)}ms)`];(o>2||u)&&console.log(E.join(`
`))}}d._None=new class extends d{constructor(){super(-1,null)}stop(){}branch(){return this}},d._totals=0}),define(J[155],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,g.createDecorator)("labelService")}),define(J[54],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidLocalization=e.ILocalizationsService=void 0,e.ILocalizationsService=(0,g.createDecorator)("localizationsService");function R(w){if(typeof w.languageId!="string"||!Array.isArray(w.translations)||w.translations.length===0)return!1;for(const k of w.translations)if(typeof k.id!="string"||typeof k.path!="string")return!1;return!(w.languageName&&typeof w.languageName!="string"||w.localizedLanguageName&&typeof w.localizedLanguageName!="string")}e.isValidLocalization=R}),define(J[12],Z([0,1,37,6,2,3,4]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevelToString=e.parseLogLevel=e.getLogLevel=e.NullLogService=e.AbstractLoggerService=e.LogService=e.MultiplexLogService=e.AdapterLogger=e.ConsoleLogger=e.ConsoleMainLogger=e.AbstractMessageLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=(0,T.createDecorator)("logService"),e.ILoggerService=(0,T.createDecorator)("loggerService");function S(){return new Date().toISOString()}var h;(function(a){a[a.Trace=0]="Trace",a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warning=3]="Warning",a[a.Error=4]="Error",a[a.Critical=5]="Critical",a[a.Off=6]="Off"})(h=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=h.Info;class m extends w.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new R.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(t){this.level!==t&&(this.level=t,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=m;class n extends m{constructor(t){super();this.logAlways=t}checkLogLevel(t){return this.logAlways||this.getLevel()<=t}trace(t,...s){this.checkLogLevel(h.Trace)&&this.log(h.Trace,this.format([t,...s]))}debug(t,...s){this.checkLogLevel(h.Debug)&&this.log(h.Debug,this.format([t,...s]))}info(t,...s){this.checkLogLevel(h.Info)&&this.log(h.Info,this.format([t,...s]))}warn(t,...s){this.checkLogLevel(h.Warning)&&this.log(h.Warning,this.format([t,...s]))}error(t,...s){if(this.checkLogLevel(h.Error))if(t instanceof Error){const i=Array.prototype.slice.call(arguments);i[0]=t.stack,this.log(h.Error,this.format(i))}else this.log(h.Error,this.format([t,...s]))}critical(t,...s){this.checkLogLevel(h.Critical)&&this.log(h.Critical,this.format([t,...s]))}flush(){}format(t){let s="";for(let i=0;i<t.length;i++){let r=t[i];if(typeof r=="object")try{r=JSON.stringify(r)}catch(l){}s+=(i>0?" ":"")+r}return s}}e.AbstractMessageLogger=n;class P extends m{constructor(t=e.DEFAULT_LOG_LEVEL){super();this.setLevel(t),this.useColors=!k.isWindows}trace(t,...s){this.getLevel()<=h.Trace&&(this.useColors?console.log(`[90m[main ${S()}][0m`,t,...s):console.log(`[main ${S()}]`,t,...s))}debug(t,...s){this.getLevel()<=h.Debug&&(this.useColors?console.log(`[90m[main ${S()}][0m`,t,...s):console.log(`[main ${S()}]`,t,...s))}info(t,...s){this.getLevel()<=h.Info&&(this.useColors?console.log(`[90m[main ${S()}][0m`,t,...s):console.log(`[main ${S()}]`,t,...s))}warn(t,...s){this.getLevel()<=h.Warning&&(this.useColors?console.warn(`[93m[main ${S()}][0m`,t,...s):console.warn(`[main ${S()}]`,t,...s))}error(t,...s){this.getLevel()<=h.Error&&(this.useColors?console.error(`[91m[main ${S()}][0m`,t,...s):console.error(`[main ${S()}]`,t,...s))}critical(t,...s){this.getLevel()<=h.Critical&&(this.useColors?console.error(`[90m[main ${S()}][0m`,t,...s):console.error(`[main ${S()}]`,t,...s))}dispose(){}flush(){}}e.ConsoleMainLogger=P;class d extends m{constructor(t=e.DEFAULT_LOG_LEVEL){super();this.setLevel(t)}trace(t,...s){this.getLevel()<=h.Trace&&console.log("%cTRACE","color: #888",t,...s)}debug(t,...s){this.getLevel()<=h.Debug&&console.log("%cDEBUG","background: #eee; color: #888",t,...s)}info(t,...s){this.getLevel()<=h.Info&&console.log("%c INFO","color: #33f",t,...s)}warn(t,...s){this.getLevel()<=h.Warning&&console.log("%c WARN","color: #993",t,...s)}error(t,...s){this.getLevel()<=h.Error&&console.log("%c  ERR","color: #f33",t,...s)}critical(t,...s){this.getLevel()<=h.Critical&&console.log("%cCRITI","background: #f33; color: white",t,...s)}dispose(){}flush(){}}e.ConsoleLogger=d;class b extends m{constructor(t,s=e.DEFAULT_LOG_LEVEL){super();this.adapter=t,this.setLevel(s)}trace(t,...s){this.getLevel()<=h.Trace&&this.adapter.log(h.Trace,[this.extractMessage(t),...s])}debug(t,...s){this.getLevel()<=h.Debug&&this.adapter.log(h.Debug,[this.extractMessage(t),...s])}info(t,...s){this.getLevel()<=h.Info&&this.adapter.log(h.Info,[this.extractMessage(t),...s])}warn(t,...s){this.getLevel()<=h.Warning&&this.adapter.log(h.Warning,[this.extractMessage(t),...s])}error(t,...s){this.getLevel()<=h.Error&&this.adapter.log(h.Error,[this.extractMessage(t),...s])}critical(t,...s){this.getLevel()<=h.Critical&&this.adapter.log(h.Critical,[this.extractMessage(t),...s])}extractMessage(t){return typeof t=="string"?t:(0,g.toErrorMessage)(t,this.getLevel()<=h.Trace)}dispose(){}flush(){}}e.AdapterLogger=b;class o extends m{constructor(t){super();this.logServices=t,t.length&&this.setLevel(t[0].getLevel())}setLevel(t){for(const s of this.logServices)s.setLevel(t);super.setLevel(t)}trace(t,...s){for(const i of this.logServices)i.trace(t,...s)}debug(t,...s){for(const i of this.logServices)i.debug(t,...s)}info(t,...s){for(const i of this.logServices)i.info(t,...s)}warn(t,...s){for(const i of this.logServices)i.warn(t,...s)}error(t,...s){for(const i of this.logServices)i.error(t,...s)}critical(t,...s){for(const i of this.logServices)i.critical(t,...s)}flush(){for(const t of this.logServices)t.flush()}dispose(){for(const t of this.logServices)t.dispose()}}e.MultiplexLogService=o;class u extends w.Disposable{constructor(t){super();this.logger=t,this._register(t)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(t){this.logger.setLevel(t)}getLevel(){return this.logger.getLevel()}trace(t,...s){this.logger.trace(t,...s)}debug(t,...s){this.logger.debug(t,...s)}info(t,...s){this.logger.info(t,...s)}warn(t,...s){this.logger.warn(t,...s)}error(t,...s){this.logger.error(t,...s)}critical(t,...s){this.logger.critical(t,...s)}flush(){this.logger.flush()}}e.LogService=u;class y extends w.Disposable{constructor(t,s){super();this.logLevel=t,this.loggers=new Map,this.logLevelChangeableLoggers=[],this._register(s(i=>{this.logLevel=i,this.logLevelChangeableLoggers.forEach(r=>r.setLevel(i))}))}getLogger(t){return this.loggers.get(t.toString())}createLogger(t,s){let i=this.loggers.get(t.toString());return i||(i=this.doCreateLogger(t,s?.always?h.Trace:this.logLevel,s),this.loggers.set(t.toString(),i),s?.always||this.logLevelChangeableLoggers.push(i)),i}dispose(){this.logLevelChangeableLoggers.splice(0,this.logLevelChangeableLoggers.length),this.loggers.forEach(t=>t.dispose()),this.loggers.clear(),super.dispose()}}e.AbstractLoggerService=y;class E{constructor(){this.onDidChangeLogLevel=new R.Emitter().event}setLevel(t){}getLevel(){return h.Info}trace(t,...s){}debug(t,...s){}info(t,...s){}warn(t,...s){}error(t,...s){}critical(t,...s){}dispose(){}flush(){}}e.NullLogService=E;function C(a){if(a.verbose)return h.Trace;if(typeof a.logLevel=="string"){const t=f(a.logLevel.toLowerCase());if(t!==void 0)return t}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=C;function f(a){switch(a){case"trace":return h.Trace;case"debug":return h.Debug;case"info":return h.Info;case"warn":return h.Warning;case"error":return h.Error;case"critical":return h.Critical;case"off":return h.Off}}e.parseLogLevel=f;function c(a){switch(a){case h.Trace:return"trace";case h.Debug:return"debug";case h.Info:return"info";case h.Warning:return"warn";case h.Error:return"error";case h.Critical:return"critical";case h.Off:return"off"}}e.LogLevelToString=c}),define(J[156],Z([0,1,14,11,2,3,17,45,7,26,15,23,28,29,19,12]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsDownloader=void 0;const y=/^([^.]+\..+)-(\d+\.\d+\.\d+)$/;let E=class extends w.Disposable{constructor(f,c,a,t){super();this.fileService=c,this.extensionGalleryService=a,this.logService=t,this.extensionsDownloadDir=h.URI.file(f.extensionsDownloadPath),this.cache=20,this.cleanUpPromise=this.cleanUp()}async downloadExtension(f,c){await this.cleanUpPromise;const a=this.getName(f),t=(0,T.joinPath)(this.extensionsDownloadDir,a);if(!await this.fileService.exists(t)){const s=(0,T.joinPath)(this.extensionsDownloadDir,`.${(0,m.generateUuid)()}`);await this.fileService.exists(s)||await this.extensionGalleryService.download(f,s,c);try{await this.rename(s,t,Date.now()+2*60*1e3)}catch(i){try{await this.fileService.del(s)}catch(r){}if(i.code==="ENOTEMPTY")this.logService.info("Rename failed because vsix was downloaded by another source. So ignoring renaming.",f.identifier.id);else throw this.logService.info(`Rename failed because of ${(0,R.getErrorMessage)(i)}. Deleted the vsix from downloaded location`,s.path),i}}return t}async delete(f){}async rename(f,c,a){try{await n.Promises.rename(f.fsPath,c.fsPath)}catch(t){if(k.isWindows&&t&&t.code==="EPERM"&&Date.now()<a)return this.logService.info(`Failed renaming ${f} to ${c} with 'EPERM' error. Trying again...`),this.rename(f,c,a);throw t}}async cleanUp(){try{if(!await this.fileService.exists(this.extensionsDownloadDir)){this.logService.trace("Extension VSIX downlads cache dir does not exist");return}const f=await this.fileService.resolve(this.extensionsDownloadDir,{resolveMetadata:!0});if(f.children){const c=[],a=[];for(const i of f.children){const r=this.parse(i.name);r&&a.push([r,i])}const t=(0,b.groupByExtension)(a,([i])=>i),s=[];for(const i of t)i.sort((r,l)=>S.rcompare(r[0].version,l[0].version)),c.push(...i.slice(1).map(r=>r[1].resource)),s.push(i[0][1]);s.sort((i,r)=>i.mtime-r.mtime),c.push(...s.slice(0,Math.max(0,s.length-this.cache)).map(i=>i.resource)),await g.Promises.settled(c.map(i=>(this.logService.trace("Deleting vsix from cache",i.path),this.fileService.del(i))))}}catch(f){this.logService.error(f)}}getName(f){return this.cache?new b.ExtensionIdentifierWithVersion(f.identifier,f.version).key().toLowerCase():(0,m.generateUuid)()}parse(f){const c=y.exec(f);return c&&c[1]&&c[2]?new b.ExtensionIdentifierWithVersion({id:c[1]},c[2]):null}};E=we([ge(0,P.INativeEnvironmentService),ge(1,o.IFileService),ge(2,d.IExtensionGalleryService),ge(3,u.ILogService)],E),e.ExtensionsDownloader=E}),define(J[157],Z([0,1,38,14,37,6,2,8,5,15,23,12]),function(x,e,g,R,w,k,T,S,h,m,n,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsLifecycle=void 0;let d=class extends T.Disposable{constructor(o,u){super();this.environmentService=o,this.logService=u,this.processesLimiter=new R.Limiter(5)}async postUninstall(o){const u=this.parseScript(o,"uninstall");return u&&(this.logService.info(o.identifier.id,o.manifest.version,"Running post uninstall script"),await this.processesLimiter.queue(()=>this.runLifecycleHook(u.script,"uninstall",u.args,!0,o).then(()=>this.logService.info(o.identifier.id,o.manifest.version,"Finished running post uninstall script"),y=>this.logService.error(o.identifier.id,o.manifest.version,`Failed to run post uninstall script: ${y}`)))),m.Promises.rm(this.getExtensionStoragePath(o)).then(void 0,y=>this.logService.error("Error while removing extension storage path",y))}parseScript(o,u){const y=`vscode:${u}`;if(o.location.scheme===S.Schemas.file&&o.manifest&&o.manifest.scripts&&typeof o.manifest.scripts[y]=="string"){const E=o.manifest.scripts[y].split(" ");return E.length<2||E[0]!=="node"||!E[1]?(this.logService.warn(o.identifier.id,o.manifest.version,`${y} should be a node script`),null):{script:(0,h.join)(o.location.fsPath,E[1]),args:E.slice(2)||[]}}return null}runLifecycleHook(o,u,y,E,C){return new Promise((f,c)=>{const a=this.start(o,u,y,C);let t;const s=i=>{t&&(clearTimeout(t),t=null),i?c(i):f(void 0)};a.on("error",i=>{s((0,w.toErrorMessage)(i)||"Unknown")}),a.on("exit",(i,r)=>{s(i?`post-${u} process exited with code ${i}`:void 0)}),E&&(t=setTimeout(()=>{t=null,a.kill(),c("timed out")},5e3))})}start(o,u,y,E){const C={silent:!0,execArgv:void 0},f=(0,g.fork)(o,[`--type=extension-post-${u}`,...y],C);f.stdout.setEncoding("utf8"),f.stderr.setEncoding("utf8");const c=k.Event.fromNodeEventEmitter(f.stdout,"data"),a=k.Event.fromNodeEventEmitter(f.stderr,"data");c(i=>this.logService.info(E.identifier.id,E.manifest.version,`post-${u}`,i)),a(i=>this.logService.error(E.identifier.id,E.manifest.version,`post-${u}`,i));const t=k.Event.any(k.Event.map(c,i=>({data:`%c${i}`,format:[""]})),k.Event.map(a,i=>({data:`%c${i}`,format:["color: red"]})));return k.Event.debounce(t,(i,r)=>i?{data:i.data+r.data,format:[...i.format,...r.format]}:{data:r.data,format:r.format},100)(i=>{console.group(E.identifier.id),console.log(i.data,...i.format),console.groupEnd()}),f}getExtensionStoragePath(o){return(0,h.join)(this.environmentService.globalStorageHome.fsPath,o.identifier.id.toLowerCase())}};d=we([ge(0,n.IEnvironmentService),ge(1,P.ILogService)],d),e.ExtensionsLifecycle=d}),define(J[158],Z([0,1,6,2,17,7,23,29,19,12]),function(x,e,g,R,w,k,T,S,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsWatcher=void 0;let n=class extends R.Disposable{constructor(d,b,o,u){super();this.extensionsManagementService=d,this.logService=u,this._onDidChangeExtensionsByAnotherSource=this._register(new g.Emitter),this.onDidChangeExtensionsByAnotherSource=this._onDidChangeExtensionsByAnotherSource.event,this.startTimestamp=0,this.installingExtensions=[],this.extensionsManagementService.getInstalled(1).then(C=>{this.installedExtensions=C.map(f=>f.identifier),this.startTimestamp=Date.now()}),this._register(d.onInstallExtension(C=>this.onInstallExtension(C))),this._register(d.onDidInstallExtensions(C=>this.onDidInstallExtensions(C))),this._register(d.onDidUninstallExtension(C=>this.onDidUninstallExtension(C)));const y=k.URI.file(o.extensionsPath),E=new w.ExtUri(C=>!b.hasCapability(C,1024));this._register(b.watch(y)),this._register(g.Event.filter(b.onDidChangeFilesRaw,C=>C.changes.some(f=>this.doesChangeAffects(f,y,E)))(()=>this.onDidChange()))}doesChangeAffects(d,b,o){return o.isEqual(o.dirname(d.resource),b)?o.isEqual(d.resource,o.joinPath(b,".obsolete"))?!0:!(d.type!==1&&d.type!==2||o.basename(d.resource).startsWith(".")):!1}onInstallExtension(d){this.addInstallingExtension(d.identifier)}onDidInstallExtensions(d){for(const b of d)this.removeInstallingExtension(b.identifier),b.local&&this.addInstalledExtension(b.identifier)}onDidUninstallExtension(d){d.error||this.removeInstalledExtension(d.identifier)}addInstallingExtension(d){this.removeInstallingExtension(d),this.installingExtensions.push(d)}removeInstallingExtension(d){this.installingExtensions=this.installingExtensions.filter(b=>!(0,S.areSameExtensions)(b,d))}addInstalledExtension(d){this.installedExtensions&&(this.removeInstalledExtension(d),this.installedExtensions.push(d))}removeInstalledExtension(d){this.installedExtensions&&(this.installedExtensions=this.installedExtensions.filter(b=>!(0,S.areSameExtensions)(b,d)))}async onDidChange(){if(this.installedExtensions){const d=await this.extensionsManagementService.getInstalled(1),b=d.filter(u=>[...this.installingExtensions,...this.installedExtensions].some(y=>(0,S.areSameExtensions)(y,u.identifier))?!1:u.installedTimestamp&&u.installedTimestamp>this.startTimestamp?(this.logService.info("Detected extension installed from another source",u.identifier.id),!0):(this.logService.info("Ignored extension installed by another source because of invalid timestamp",u.identifier.id),!1)),o=this.installedExtensions.filter(u=>this.installingExtensions.some(y=>(0,S.areSameExtensions)(y,u))?!1:d.every(y=>!(0,S.areSameExtensions)(y.identifier,u))?(this.logService.info("Detected extension removed from another source",u.id),!0):!1);this.installedExtensions=d.map(u=>u.identifier),(b.length||o.length)&&this._onDidChangeExtensionsByAnotherSource.fire({added:b,removed:o})}}};n=we([ge(1,h.IFileService),ge(2,T.INativeEnvironmentService),ge(3,m.ILogService)],n),e.ExtensionsWatcher=n}),define(J[75],Z([0,1,159,21,14,2,8,5,15,23,28,29,54,12]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalizationsService=void 0;let o=class extends k.Disposable{constructor(E,C,f){super();this.extensionManagementService=E,this.logService=f,this.cache=this._register(new u(C,f)),this.extensionManagementService.registerParticipant({postInstall:async c=>this.postInstallExtension(c),postUninstall:async c=>this.postUninstallExtension(c)})}async getLanguageIds(){const E=await this.cache.getLanguagePacks(),C=["en",...Object.keys(E)];return(0,R.distinct)(C)}async postInstallExtension(E){E&&E.manifest&&E.manifest.contributes&&E.manifest.contributes.localizations&&E.manifest.contributes.localizations.length&&(this.logService.info("Adding language packs from the extension",E.identifier.id),await this.update())}async postUninstallExtension(E){const C=await this.cache.getLanguagePacks();Object.keys(C).some(f=>C[f]&&C[f].extensions.some(c=>(0,P.areSameExtensions)(c.extensionIdentifier,E.identifier)))&&(this.logService.info("Removing language packs from the extension",E.identifier.id),await this.update())}async update(){const[E,C]=await Promise.all([this.cache.getLanguagePacks(),this.extensionManagementService.getInstalled()]),f=await this.cache.update(C);return!(0,R.equals)(Object.keys(E),Object.keys(f))}};o=we([ge(0,n.IExtensionManagementService),ge(1,m.INativeEnvironmentService),ge(2,b.ILogService)],o),e.LocalizationsService=o;let u=class extends k.Disposable{constructor(E,C){super();this.logService=C,this.languagePacks={},this.languagePacksFilePath=(0,S.join)(E.userDataPath,"languagepacks.json"),this.languagePacksFileLimiter=new w.Queue}getLanguagePacks(){return this.languagePacksFileLimiter.size||!this.initializedCache?this.withLanguagePacks().then(()=>this.languagePacks):Promise.resolve(this.languagePacks)}update(E){return this.withLanguagePacks(C=>{Object.keys(C).forEach(f=>delete C[f]),this.createLanguagePacksFromExtensions(C,...E)}).then(()=>this.languagePacks)}createLanguagePacksFromExtensions(E,...C){for(const f of C)f&&f.manifest&&f.manifest.contributes&&f.manifest.contributes.localizations&&f.manifest.contributes.localizations.length&&this.createLanguagePacksFromExtension(E,f);Object.keys(E).forEach(f=>this.updateHash(E[f]))}createLanguagePacksFromExtension(E,C){const f=C.identifier,c=C.manifest.contributes&&C.manifest.contributes.localizations?C.manifest.contributes.localizations:[];for(const a of c)if(C.location.scheme===T.Schemas.file&&(0,d.isValidLocalization)(a)){let t=E[a.languageId];t||(t={hash:"",extensions:[],translations:{}},E[a.languageId]=t);let s=t.extensions.filter(i=>(0,P.areSameExtensions)(i.extensionIdentifier,f))[0];s?s.version=C.manifest.version:t.extensions.push({extensionIdentifier:f,version:C.manifest.version});for(const i of a.translations)t.translations[i.id]=(0,S.join)(C.location.fsPath,i.path)}}updateHash(E){if(E){const C=(0,g.createHash)("md5");for(const f of E.extensions)C.update(f.extensionIdentifier.uuid||f.extensionIdentifier.id).update(f.version);E.hash=C.digest("hex")}}withLanguagePacks(E=()=>null){return this.languagePacksFileLimiter.queue(()=>{let C=null;return h.Promises.readFile(this.languagePacksFilePath,"utf8").then(void 0,f=>f.code==="ENOENT"?Promise.resolve("{}"):Promise.reject(f)).then(f=>{try{return JSON.parse(f)}catch(c){return{}}}).then(f=>(C=E(f),f)).then(f=>{for(const a of Object.keys(f))f[a]||delete f[a];this.languagePacks=f,this.initializedCache=!0;const c=JSON.stringify(this.languagePacks);return this.logService.debug("Writing language packs",c),h.Promises.writeFile(this.languagePacksFilePath,c)}).then(()=>C,f=>this.logService.error(f))})}};u=we([ge(0,m.INativeEnvironmentService),ge(1,b.ILogService)],u)}),define(J[76],Z([0,1,12]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferLogService=void 0;function R(k,T){switch(T){case g.LogLevel.Trace:return k.trace;case g.LogLevel.Debug:return k.debug;case g.LogLevel.Info:return k.info;case g.LogLevel.Warning:return k.warn;case g.LogLevel.Error:return k.error;case g.LogLevel.Critical:return k.critical;default:throw new Error("Invalid log level")}}class w extends g.AbstractLogger{constructor(T=g.DEFAULT_LOG_LEVEL){super();this.buffer=[],this._logger=void 0,this.setLevel(T),this._register(this.onDidChangeLogLevel(S=>{this._logger&&this._logger.setLevel(S)}))}set logger(T){this._logger=T;for(const{level:S,args:h}of this.buffer)R(T,S).apply(T,h);this.buffer=[]}_log(T,...S){this._logger?R(this._logger,T).apply(this._logger,S):this.getLevel()<=T&&this.buffer.push({level:T,args:S})}trace(T,...S){this._log(g.LogLevel.Trace,T,...S)}debug(T,...S){this._log(g.LogLevel.Debug,T,...S)}info(T,...S){this._log(g.LogLevel.Info,T,...S)}warn(T,...S){this._log(g.LogLevel.Warning,T,...S)}error(T,...S){this._log(g.LogLevel.Error,T,...S)}critical(T,...S){this._log(g.LogLevel.Critical,T,...S)}dispose(){this._logger&&this._logger.dispose()}flush(){this._logger&&this._logger.flush()}}e.BufferLogService=w}),define(J[160],Z([0,1,14,16,17,19,4,76,12]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileLoggerService=e.FileLogger=void 0;const m=5*k.ByteSize.MB;let n=class extends h.AbstractLogger{constructor(b,o,u,y,E){super();this.name=b,this.resource=o,this.donotUseFormatters=y,this.fileService=E,this.backupIndex=1,this.setLevel(u),this.queue=this._register(new g.Queue),this.initializePromise=this.initialize()}trace(){this.getLevel()<=h.LogLevel.Trace&&this._log(h.LogLevel.Trace,this.format(arguments))}debug(){this.getLevel()<=h.LogLevel.Debug&&this._log(h.LogLevel.Debug,this.format(arguments))}info(){this.getLevel()<=h.LogLevel.Info&&this._log(h.LogLevel.Info,this.format(arguments))}warn(){this.getLevel()<=h.LogLevel.Warning&&this._log(h.LogLevel.Warning,this.format(arguments))}error(){if(this.getLevel()<=h.LogLevel.Error){const b=arguments[0];if(b instanceof Error){const o=Array.prototype.slice.call(arguments);o[0]=b.stack,this._log(h.LogLevel.Error,this.format(o))}else this._log(h.LogLevel.Error,this.format(arguments))}}critical(){this.getLevel()<=h.LogLevel.Critical&&this._log(h.LogLevel.Critical,this.format(arguments))}flush(){}log(b,o){this._log(b,this.format(o))}async initialize(){try{await this.fileService.createFile(this.resource)}catch(b){if(b.fileOperationResult!==3)throw b}}_log(b,o){this.queue.queue(async()=>{await this.initializePromise;let u=await this.loadContent();u.length>m&&(await this.fileService.writeFile(this.getBackupResource(),R.VSBuffer.fromString(u)),u=""),this.donotUseFormatters?u+=o:u+=`[${this.getCurrentTimestamp()}] [${this.name}] [${this.stringifyLogLevel(b)}] ${o}
`,await this.fileService.writeFile(this.resource,R.VSBuffer.fromString(u))})}getCurrentTimestamp(){const b=y=>y<10?`0${y}`:y,o=y=>y<10?`00${y}`:y<100?`0${y}`:y,u=new Date;return`${u.getFullYear()}-${b(u.getMonth()+1)}-${b(u.getDate())} ${b(u.getHours())}:${b(u.getMinutes())}:${b(u.getSeconds())}.${o(u.getMilliseconds())}`}getBackupResource(){return this.backupIndex=this.backupIndex>5?1:this.backupIndex,(0,w.joinPath)((0,w.dirname)(this.resource),`${(0,w.basename)(this.resource)}_${this.backupIndex++}`)}async loadContent(){try{return(await this.fileService.readFile(this.resource)).value.toString()}catch(b){return""}}stringifyLogLevel(b){switch(b){case h.LogLevel.Critical:return"critical";case h.LogLevel.Debug:return"debug";case h.LogLevel.Error:return"error";case h.LogLevel.Info:return"info";case h.LogLevel.Trace:return"trace";case h.LogLevel.Warning:return"warning"}return""}format(b){let o="";for(let u=0;u<b.length;u++){let y=b[u];if(typeof y=="object")try{y=JSON.stringify(y)}catch(E){}o+=(u>0?" ":"")+y}return o}};n=we([ge(4,k.IFileService)],n),e.FileLogger=n;let P=class extends h.AbstractLoggerService{constructor(b,o,u){super(b.getLevel(),b.onDidChangeLogLevel);this.instantiationService=o,this.fileService=u}doCreateLogger(b,o,u){const y=new S.BufferLogService(o);return(0,k.whenProviderRegistered)(b,this.fileService).then(()=>y.logger=this.instantiationService.createInstance(n,(0,w.basename)(b),b,y.getLevel(),!!u?.donotUseFormatters)),y}};P=we([ge(0,h.ILogService),ge(1,T.IInstantiationService),ge(2,k.IFileService)],P),e.FileLoggerService=P}),define(J[77],Z([0,1,6,7,12]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FollowerLogService=e.LoggerChannelClient=e.LoggerChannel=e.LogLevelChannelClient=e.LogLevelChannel=void 0;class k{constructor(d){this.service=d,this.onDidChangeLogLevel=g.Event.buffer(d.onDidChangeLogLevel,!0)}listen(d,b){switch(b){case"onDidChangeLogLevel":return this.onDidChangeLogLevel}throw new Error(`Event not found: ${b}`)}async call(d,b,o){switch(b){case"setLevel":return this.service.setLevel(o)}throw new Error(`Call not found: ${b}`)}}e.LogLevelChannel=k;class T{constructor(d){this.channel=d}get onDidChangeLogLevel(){return this.channel.listen("onDidChangeLogLevel")}setLevel(d){T.setLevel(this.channel,d)}static setLevel(d,b){return d.call("setLevel",b)}}e.LogLevelChannelClient=T;class S{constructor(d){this.loggerService=d,this.loggers=new Map}listen(d,b){throw new Error(`Event not found: ${b}`)}async call(d,b,o){switch(b){case"createLogger":this.createLogger(R.URI.revive(o[0]),o[1]);return;case"log":return this.log(R.URI.revive(o[0]),o[1]);case"consoleLog":return this.consoleLog(o[0],o[1])}throw new Error(`Call not found: ${b}`)}createLogger(d,b){this.loggers.set(d.toString(),this.loggerService.createLogger(d,b))}consoleLog(d,b){let o=console.log;switch(d){case w.LogLevel.Error:o=console.error;break;case w.LogLevel.Warning:o=console.warn;break;case w.LogLevel.Info:o=console.info;break}o.call(console,...b)}log(d,b){const o=this.loggers.get(d.toString());if(!o)throw new Error("Create the logger before logging");for(const[u,y]of b)switch(u){case w.LogLevel.Trace:o.trace(y);break;case w.LogLevel.Debug:o.debug(y);break;case w.LogLevel.Info:o.info(y);break;case w.LogLevel.Warning:o.warn(y);break;case w.LogLevel.Error:o.error(y);break;case w.LogLevel.Critical:o.critical(y);break;default:throw new Error("Invalid log level")}}}e.LoggerChannel=S;class h extends w.AbstractLoggerService{constructor(d,b,o){super(d,b);this.channel=o}createConsoleMainLogger(){return new w.AdapterLogger({log:(d,b)=>{this.channel.call("consoleLog",[d,b])}})}doCreateLogger(d,b,o){return new m(this.channel,d,b,o)}}e.LoggerChannelClient=h;class m extends w.AbstractMessageLogger{constructor(d,b,o,u){super(u?.always);this.channel=d,this.file=b,this.isLoggerCreated=!1,this.buffer=[],this.setLevel(o),this.channel.call("createLogger",[b,u]).then(()=>{this.doLog(this.buffer),this.isLoggerCreated=!0})}log(d,b){const o=[[d,b]];this.isLoggerCreated?this.doLog(o):this.buffer.push(...o)}doLog(d){this.channel.call("log",[this.file,d])}}class n extends w.LogService{constructor(d,b){super(b);this.parent=d,this._register(d.onDidChangeLogLevel(o=>b.setLevel(o)))}setLevel(d){super.setLevel(d),this.parent.setLevel(d)}}e.FollowerLogService=n}),define(J[55],Z([0,1,19,12]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpdLogLogger=e.createRotatingLogger=void 0;async function w(h,m,n,P){try{const d=await new Promise((b,o)=>{x(["spdlog"],b,o)});return d.setFlushOn(R.LogLevel.Trace),d.createAsyncRotatingLogger(h,m,n,P)}catch(d){console.error(d)}return null}function k(h,m,n,P){const d=x.__$__nodeRequire("spdlog");return d.setFlushOn(R.LogLevel.Trace),d.createRotatingLogger(h,m,n,P)}e.createRotatingLogger=k;function T(h,m,n){switch(m){case R.LogLevel.Trace:h.trace(n);break;case R.LogLevel.Debug:h.debug(n);break;case R.LogLevel.Info:h.info(n);break;case R.LogLevel.Warning:h.warn(n);break;case R.LogLevel.Error:h.error(n);break;case R.LogLevel.Critical:h.critical(n);break;default:throw new Error("Invalid log level")}}class S extends R.AbstractMessageLogger{constructor(m,n,P,d){super();this.name=m,this.filepath=n,this.rotating=P,this.buffer=[],this.setLevel(d),this._loggerCreationPromise=this._createSpdLogLogger(),this._register(this.onDidChangeLogLevel(b=>{this._logger&&this._logger.setLevel(b)}))}_createSpdLogLogger(){const m=this.rotating?6:1,n=30/m*g.ByteSize.MB;return w(this.name,this.filepath,n,m).then(P=>{if(P){this._logger=P,this._logger.setLevel(this.getLevel());for(const{level:d,message:b}of this.buffer)T(this._logger,d,b);this.buffer=[]}})}log(m,n){this._logger?T(this._logger,m,n):this.getLevel()<=m&&this.buffer.push({level:m,message:n})}clearFormatters(){this._logger?this._logger.clearFormatters():this._loggerCreationPromise.then(()=>this.clearFormatters())}flush(){this._logger?this._logger.flush():this._loggerCreationPromise.then(()=>this.flush())}dispose(){this._logger?this.disposeLogger():this._loggerCreationPromise.then(()=>this.disposeLogger())}disposeLogger(){this._logger&&(this._logger.drop(),this._logger=void 0)}}e.SpdLogLogger=S}),define(J[161],Z([0,1,8,17,26,19,160,12,55]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerService=void 0;let m=class extends S.AbstractLoggerService{constructor(P,d){super(P.getLevel(),P.onDidChangeLogLevel);this.fileService=d}doCreateLogger(P,d,b){if(P.scheme===g.Schemas.file){const o=new h.SpdLogLogger(b?.name||(0,w.generateUuid)(),P.fsPath,!b?.donotRotate,d);return b?.donotUseFormatters&&o.clearFormatters(),o}else return new T.FileLogger(b?.name??(0,R.basename)(P),P,d,!!b?.donotUseFormatters,this.fileService)}};m=we([ge(0,S.ILogService),ge(1,k.IFileService)],m),e.LoggerService=m}),define(J[162],Z([0,1,6,96,4]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpProgress=e.NoOpNotification=e.NotificationsFilter=e.NeverShowAgainScope=e.INotificationService=e.Severity=void 0,e.Severity=R.default,e.INotificationService=(0,w.createDecorator)("notificationService");var k;(function(m){m[m.WORKSPACE=0]="WORKSPACE",m[m.GLOBAL=1]="GLOBAL"})(k=e.NeverShowAgainScope||(e.NeverShowAgainScope={}));var T;(function(m){m[m.OFF=0]="OFF",m[m.SILENT=1]="SILENT",m[m.ERROR=2]="ERROR"})(T=e.NotificationsFilter||(e.NotificationsFilter={}));class S{constructor(){this.progress=new h,this.onDidClose=g.Event.None,this.onDidChangeVisibility=g.Event.None}updateSeverity(n){}updateMessage(n){}updateActions(n){}close(){}}e.NoOpNotification=S;class h{infinite(){}done(){}total(n){}worked(n){}}e.NoOpProgress=h}),define(J[30],Z([0,1,8,3,24,17]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let T;if(typeof R.globals.vscode!="undefined"&&typeof R.globals.vscode.context!="undefined"){const S=R.globals.vscode.context.configuration();if(S)T=S.product;else throw new Error("Sandbox: unable to resolve product configuration from preload script.")}else if(typeof x?.__$__nodeRequire=="function"){const S=(0,k.dirname)(g.FileAccess.asFileUri("",x));T=x.__$__nodeRequire((0,k.joinPath)(S,"product.json").fsPath);const h=x.__$__nodeRequire((0,k.joinPath)(S,"package.json").fsPath);w.env.VSCODE_DEV&&Object.assign(T,{nameShort:`${T.nameShort} Dev`,nameLong:`${T.nameLong} Dev`,dataFolderName:`${T.dataFolderName}-dev`}),Object.assign(T,{version:h.version})}else{T={},Object.keys(T).length===0&&Object.assign(T,{version:"1.60.0-dev",nameShort:"Code - OSS Dev",nameLong:"Code - OSS Dev",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/main/LICENSE.txt",extensionAllowedProposedApi:["ms-vscode.vscode-js-profile-flame","ms-vscode.vscode-js-profile-table","ms-vscode.remotehub","ms-vscode.remotehub-insiders","GitHub.remotehub","GitHub.remotehub-insiders"]});const S=document.getElementById("vscode-remote-product-configuration"),h=S&&S.getAttribute("data-settings");h&&Object.assign(T,JSON.parse(h))}e.default=T}),define(J[78],Z([0,1,16,11,128,19,30]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readFileIntoStream=void 0;async function S(P,d,b,o,u,y){let E;try{await h(P,d,b,o,u,y)}catch(C){E=C}finally{E&&u.errorTransformer&&(E=u.errorTransformer(E)),typeof E!="undefined"&&b.error(E),b.end()}}e.readFileIntoStream=S;async function h(P,d,b,o,u,y){m(y);const E=await P.open(d,{create:!1});try{m(y);let C=0,f=0,c=u&&typeof u.length=="number"?u.length:void 0,a=g.VSBuffer.alloc(Math.min(u.bufferSize,typeof c=="number"?c:u.bufferSize)),t=u&&typeof u.position=="number"?u.position:0,s=0;do f=await P.read(E,t,a.buffer,s,a.byteLength-s),t+=f,s+=f,C+=f,typeof c=="number"&&(c-=f),s===a.byteLength&&(await b.write(o(a)),a=g.VSBuffer.alloc(Math.min(u.bufferSize,typeof c=="number"?c:u.bufferSize)),s=0);while(f>0&&(typeof c!="number"||c>0)&&m(y)&&n(C,u));if(s>0){let i=s;typeof c=="number"&&(i=Math.min(s,c)),b.write(o(a.slice(0,i)))}}catch(C){throw(0,k.ensureFileSystemProviderError)(C)}finally{await P.close(E)}}function m(P){if(P.isCancellationRequested)throw(0,R.canceled)();return!0}function n(P,d){if(d?.limits){if(typeof d.limits.memory=="number"&&P>d.limits.memory)throw(0,k.createFileSystemProviderError)((0,w.localize)(0,null,T.default.nameShort),k.FileSystemProviderErrorCode.FileExceedsMemoryLimit);if(typeof d.limits.size=="number"&&P>d.limits.size)throw(0,k.createFileSystemProviderError)((0,w.localize)(1,null),k.FileSystemProviderErrorCode.FileTooLarge)}return!0}}),define(J[79],Z([0,1,21,14,16,25,6,61,2,34,8,101,17,44,126,19,78,12]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileService=void 0;let C=class We extends h.Disposable{constructor(c){super();this.logService=c,this.BUFFER_SIZE=64*1024,this._onDidChangeFileSystemProviderRegistrations=this._register(new T.Emitter),this.onDidChangeFileSystemProviderRegistrations=this._onDidChangeFileSystemProviderRegistrations.event,this._onWillActivateFileSystemProvider=this._register(new T.Emitter),this.onWillActivateFileSystemProvider=this._onWillActivateFileSystemProvider.event,this._onDidChangeFileSystemProviderCapabilities=this._register(new T.Emitter),this.onDidChangeFileSystemProviderCapabilities=this._onDidChangeFileSystemProviderCapabilities.event,this.provider=new Map,this._onDidRunOperation=this._register(new T.Emitter),this.onDidRunOperation=this._onDidRunOperation.event,this._onError=this._register(new T.Emitter),this.onError=this._onError.event,this._onDidFilesChange=this._register(new T.Emitter),this.onDidFilesChange=this._onDidFilesChange.event,this._onDidChangeFilesRaw=this._register(new T.Emitter),this.onDidChangeFilesRaw=this._onDidChangeFilesRaw.event,this.activeWatchers=new Map,this.caseSensitiveFileEventsWorker=this._register(new R.ThrottledWorker(We.FILE_EVENTS_THROTTLING.maxChangesChunkSize,We.FILE_EVENTS_THROTTLING.maxChangesBufferSize,We.FILE_EVENTS_THROTTLING.coolDownDelay,a=>this._onDidFilesChange.fire(new u.FileChangesEvent(a,!1)))),this.caseInsensitiveFileEventsWorker=this._register(new R.ThrottledWorker(We.FILE_EVENTS_THROTTLING.maxChangesChunkSize,We.FILE_EVENTS_THROTTLING.maxChangesBufferSize,We.FILE_EVENTS_THROTTLING.coolDownDelay,a=>this._onDidFilesChange.fire(new u.FileChangesEvent(a,!0)))),this.watchedResources=m.TernarySearchTree.forUris(a=>{const t=this.getProvider(a.scheme);return t?!this.isPathCaseSensitive(t):!1}),this.writeQueue=this._register(new R.ResourceQueue)}registerProvider(c,a){if(this.provider.has(c))throw new Error(`A filesystem provider for the scheme '${c}' is already registered.`);(0,P.mark)(`code/registerFilesystem/${c}`),this.provider.set(c,a),this._onDidChangeFileSystemProviderRegistrations.fire({added:!0,scheme:c,provider:a});const t=new h.DisposableStore;return t.add(a.onDidChangeFile(s=>this.onDidChangeFile(s,this.isPathCaseSensitive(a)))),t.add(a.onDidChangeCapabilities(()=>this._onDidChangeFileSystemProviderCapabilities.fire({provider:a,scheme:c}))),typeof a.onDidErrorOccur=="function"&&t.add(a.onDidErrorOccur(s=>this._onError.fire(new Error(s)))),(0,h.toDisposable)(()=>{this._onDidChangeFileSystemProviderRegistrations.fire({added:!1,scheme:c,provider:a}),this.provider.delete(c),(0,h.dispose)(t)})}getProvider(c){return this.provider.get(c)}async activateProvider(c){const a=[];this._onWillActivateFileSystemProvider.fire({scheme:c,join(t){a.push(t)}}),!this.provider.has(c)&&await R.Promises.settled(a)}canHandleResource(c){return this.provider.has(c.scheme)}hasCapability(c,a){const t=this.provider.get(c.scheme);return!!(t&&t.capabilities&a)}listCapabilities(){return S.Iterable.map(this.provider,([c,a])=>({scheme:c,capabilities:a.capabilities}))}async withProvider(c){if(!(0,d.isAbsolutePath)(c))throw new u.FileOperationError((0,o.localize)(0,null,this.resourceForError(c)),8);await this.activateProvider(c.scheme);const a=this.provider.get(c.scheme);if(!a){const t=new Error;throw t.name="ENOPRO",t.message=(0,o.localize)(1,null,c.toString()),t}return a}async withReadProvider(c){const a=await this.withProvider(c);if((0,u.hasOpenReadWriteCloseCapability)(a)||(0,u.hasReadWriteCapability)(a)||(0,u.hasFileReadStreamCapability)(a))return a;throw new Error(`Filesystem provider for scheme '${c.scheme}' neither has FileReadWrite, FileReadStream nor FileOpenReadWriteClose capability which is needed for the read operation.`)}async withWriteProvider(c){const a=await this.withProvider(c);if((0,u.hasOpenReadWriteCloseCapability)(a)||(0,u.hasReadWriteCapability)(a))return a;throw new Error(`Filesystem provider for scheme '${c.scheme}' neither has FileReadWrite nor FileOpenReadWriteClose capability which is needed for the write operation.`)}async resolve(c,a){try{return await this.doResolveFile(c,a)}catch(t){throw(0,u.toFileSystemProviderErrorCode)(t)===u.FileSystemProviderErrorCode.FileNotFound?new u.FileOperationError((0,o.localize)(2,null,this.resourceForError(c)),1):(0,u.ensureFileSystemProviderError)(t)}}async doResolveFile(c,a){const t=await this.withProvider(c),s=this.isPathCaseSensitive(t),i=a?.resolveTo,r=a?.resolveSingleChildDescendants,l=a?.resolveMetadata,v=await t.stat(c);let D;return this.toFileStat(t,c,v,void 0,!!l,(L,p)=>{if(!D&&(D=m.TernarySearchTree.forUris(()=>!s),D.set(c,!0),i))for(const _ of i)D.set(_,!0);return D.get(L.resource)||D.findSuperstr(L.resource.with({query:null,fragment:null}))?!0:L.isDirectory&&r?p===1:!1})}async toFileStat(c,a,t,s,i,r){const{providerExtUri:l}=this.getExtUri(c),v={resource:a,name:l.basename(a),isFile:(t.type&u.FileType.File)!=0,isDirectory:(t.type&u.FileType.Directory)!=0,isSymbolicLink:(t.type&u.FileType.SymbolicLink)!=0,mtime:t.mtime,ctime:t.ctime,size:t.size,readonly:Boolean((t.permissions??0)&u.FilePermission.Readonly)||Boolean(c.capabilities&2048),etag:(0,u.etag)({mtime:t.mtime,size:t.size})};if(v.isDirectory&&r(v,s)){try{const D=await c.readdir(a),L=await R.Promises.settled(D.map(async([p,_])=>{try{const A=l.joinPath(a,p),I=i?await c.stat(A):{type:_};return await this.toFileStat(c,A,I,D.length,i,r)}catch(A){return this.logService.trace(A),null}}));v.children=(0,g.coalesce)(L)}catch(D){this.logService.trace(D),v.children=[]}return v}return v}async resolveAll(c){return R.Promises.settled(c.map(async a=>{try{return{stat:await this.doResolveFile(a.resource,a.options),success:!0}}catch(t){return this.logService.trace(t),{stat:void 0,success:!1}}}))}async exists(c){const a=await this.withProvider(c);try{return!!await a.stat(c)}catch(t){return!1}}async canCreateFile(c,a){try{await this.doValidateCreateFile(c,a)}catch(t){return t}return!0}async doValidateCreateFile(c,a){if(!a?.overwrite&&await this.exists(c))throw new u.FileOperationError((0,o.localize)(3,null,this.resourceForError(c)),3,a)}async createFile(c,a=w.VSBuffer.fromString(""),t){await this.doValidateCreateFile(c,t);const s=await this.writeFile(c,a);return this._onDidRunOperation.fire(new u.FileOperationEvent(c,0,s)),s}async writeFile(c,a,t){const s=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(c),c),{providerExtUri:i}=this.getExtUri(s);try{await this.validateWriteFile(s,c,t)||await this.mkdirp(s,i.dirname(c));let l;if((0,u.hasReadWriteCapability)(s)&&!(a instanceof w.VSBuffer))if((0,b.isReadableStream)(a)){const v=await(0,b.peekStream)(a,3);v.ended?l=w.VSBuffer.concat(v.buffer):l=v}else l=(0,b.peekReadable)(a,v=>w.VSBuffer.concat(v),3);else l=a;!(0,u.hasOpenReadWriteCloseCapability)(s)||(0,u.hasReadWriteCapability)(s)&&l instanceof w.VSBuffer?await this.doWriteUnbuffered(s,c,t,l):await this.doWriteBuffered(s,c,t,l instanceof w.VSBuffer?(0,w.bufferToReadable)(l):l)}catch(r){throw new u.FileOperationError((0,o.localize)(4,null,this.resourceForError(c),(0,u.ensureFileSystemProviderError)(r).toString()),(0,u.toFileOperationResult)(r),t)}return this.resolve(c,{resolveMetadata:!0})}async validateWriteFile(c,a,t){if(!!t?.unlock&&!(c.capabilities&8192))throw new Error((0,o.localize)(5,null,this.resourceForError(a)));let i;try{i=await c.stat(a)}catch(r){return}if((i.type&u.FileType.Directory)!=0)throw new u.FileOperationError((0,o.localize)(6,null,this.resourceForError(a)),0,t);if(this.throwIfFileIsReadonly(a,i),typeof t?.mtime=="number"&&typeof t.etag=="string"&&t.etag!==u.ETAG_DISABLED&&typeof i.mtime=="number"&&typeof i.size=="number"&&t.mtime<i.mtime&&t.etag!==(0,u.etag)({mtime:t.mtime,size:i.size}))throw new u.FileOperationError((0,o.localize)(7,null),3,t);return i}async readFile(c,a){const t=await this.withReadProvider(c);return a?.atomic?this.doReadFileAtomic(t,c,a):this.doReadFile(t,c,a)}async doReadFileAtomic(c,a,t){return new Promise((s,i)=>{this.writeQueue.queueFor(a,this.getExtUri(c).providerExtUri).queue(async()=>{try{const r=await this.doReadFile(c,a,t);s(r)}catch(r){i(r)}})})}async doReadFile(c,a,t){const s=await this.doReadFileStream(c,a,{...t,preferUnbuffered:!0});return{...s,value:await(0,w.streamToBuffer)(s.value)}}async readFileStream(c,a){const t=await this.withReadProvider(c);return this.doReadFileStream(t,c,a)}async doReadFileStream(c,a,t){const s=new k.CancellationTokenSource,i=this.validateReadFile(a,t).then(l=>l,l=>{throw s.cancel(),l});let r;try{return typeof t?.etag=="string"&&t.etag!==u.ETAG_DISABLED&&await i,!((0,u.hasOpenReadWriteCloseCapability)(c)||(0,u.hasFileReadStreamCapability)(c))||(0,u.hasReadWriteCapability)(c)&&t?.preferUnbuffered?r=this.readFileUnbuffered(c,a,t):(0,u.hasFileReadStreamCapability)(c)?r=this.readFileStreamed(c,a,s.token,t):r=this.readFileBuffered(c,a,s.token,t),{...await i,value:r}}catch(l){r&&await(0,b.consumeStream)(r);const v=(0,o.localize)(8,null,this.resourceForError(a),(0,u.ensureFileSystemProviderError)(l).toString());throw l instanceof u.NotModifiedSinceFileOperationError?new u.NotModifiedSinceFileOperationError(v,l.stat,t):new u.FileOperationError(v,(0,u.toFileOperationResult)(l),t)}}readFileStreamed(c,a,t,s=Object.create(null)){const i=c.readFileStream(a,s,t);return(0,b.transform)(i,{data:r=>r instanceof w.VSBuffer?r:w.VSBuffer.wrap(r),error:r=>new u.FileOperationError((0,o.localize)(9,null,this.resourceForError(a),(0,u.ensureFileSystemProviderError)(r).toString()),(0,u.toFileOperationResult)(r),s)},r=>w.VSBuffer.concat(r))}readFileBuffered(c,a,t,s=Object.create(null)){const i=(0,w.newWriteableBufferStream)();return(0,y.readFileIntoStream)(c,a,i,r=>r,{...s,bufferSize:this.BUFFER_SIZE,errorTransformer:r=>new u.FileOperationError((0,o.localize)(10,null,this.resourceForError(a),(0,u.ensureFileSystemProviderError)(r).toString()),(0,u.toFileOperationResult)(r),s)},t),i}readFileUnbuffered(c,a,t){const s=(0,b.newWriteableStream)(i=>w.VSBuffer.concat(i));return(async()=>{try{let i=await c.readFile(a);typeof t?.position=="number"&&(i=i.slice(t.position)),typeof t?.length=="number"&&(i=i.slice(0,t.length)),this.validateReadFileLimits(a,i.byteLength,t),s.end(w.VSBuffer.wrap(i))}catch(i){s.error(i),s.end()}})(),s}async validateReadFile(c,a){const t=await this.resolve(c,{resolveMetadata:!0});if(t.isDirectory)throw new u.FileOperationError((0,o.localize)(11,null,this.resourceForError(c)),0,a);if(typeof a?.etag=="string"&&a.etag!==u.ETAG_DISABLED&&a.etag===t.etag)throw new u.NotModifiedSinceFileOperationError((0,o.localize)(12,null),t,a);return this.validateReadFileLimits(c,t.size,a),t}validateReadFileLimits(c,a,t){if(t?.limits){let s;if(typeof t.limits.memory=="number"&&a>t.limits.memory&&(s=9),typeof t.limits.size=="number"&&a>t.limits.size&&(s=7),typeof s=="number")throw new u.FileOperationError((0,o.localize)(13,null,this.resourceForError(c)),s)}}async canMove(c,a,t){return this.doCanMoveCopy(c,a,"move",t)}async canCopy(c,a,t){return this.doCanMoveCopy(c,a,"copy",t)}async doCanMoveCopy(c,a,t,s){if(c.toString()!==a.toString())try{const i=t==="move"?this.throwIfFileSystemIsReadonly(await this.withWriteProvider(c),c):await this.withReadProvider(c),r=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(a),a);await this.doValidateMoveCopy(i,c,r,a,t,s)}catch(i){return i}return!0}async move(c,a,t){const s=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(c),c),i=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(a),a),r=await this.doMoveCopy(s,c,i,a,"move",!!t),l=await this.resolve(a,{resolveMetadata:!0});return this._onDidRunOperation.fire(new u.FileOperationEvent(c,r==="move"?2:3,l)),l}async copy(c,a,t){const s=await this.withReadProvider(c),i=this.throwIfFileSystemIsReadonly(await this.withWriteProvider(a),a),r=await this.doMoveCopy(s,c,i,a,"copy",!!t),l=await this.resolve(a,{resolveMetadata:!0});return this._onDidRunOperation.fire(new u.FileOperationEvent(c,r==="copy"?3:2,l)),l}async doMoveCopy(c,a,t,s,i,r){if(a.toString()===s.toString())return i;const{exists:l,isSameResourceWithDifferentPathCase:v}=await this.doValidateMoveCopy(c,a,t,s,i,r);if(l&&!v&&r&&await this.del(s,{recursive:!0}),await this.mkdirp(t,this.getExtUri(t).providerExtUri.dirname(s)),i==="copy"){if(c===t&&(0,u.hasFileFolderCopyCapability)(c))await c.copy(a,s,{overwrite:r});else{const D=await this.resolve(a);D.isDirectory?await this.doCopyFolder(c,D,t,s):await this.doCopyFile(c,a,t,s)}return i}else return c===t?(await c.rename(a,s,{overwrite:r}),i):(await this.doMoveCopy(c,a,t,s,"copy",r),await this.del(a,{recursive:!0}),"copy")}async doCopyFile(c,a,t,s){if((0,u.hasOpenReadWriteCloseCapability)(c)&&(0,u.hasOpenReadWriteCloseCapability)(t))return this.doPipeBuffered(c,a,t,s);if((0,u.hasOpenReadWriteCloseCapability)(c)&&(0,u.hasReadWriteCapability)(t))return this.doPipeBufferedToUnbuffered(c,a,t,s);if((0,u.hasReadWriteCapability)(c)&&(0,u.hasOpenReadWriteCloseCapability)(t))return this.doPipeUnbufferedToBuffered(c,a,t,s);if((0,u.hasReadWriteCapability)(c)&&(0,u.hasReadWriteCapability)(t))return this.doPipeUnbuffered(c,a,t,s)}async doCopyFolder(c,a,t,s){await t.mkdir(s),Array.isArray(a.children)&&await R.Promises.settled(a.children.map(async i=>{const r=this.getExtUri(t).providerExtUri.joinPath(s,i.name);return i.isDirectory?this.doCopyFolder(c,await this.resolve(i.resource),t,r):this.doCopyFile(c,i.resource,t,r)}))}async doValidateMoveCopy(c,a,t,s,i,r){let l=!1;if(c===t){const{providerExtUri:D,isPathCaseSensitive:L}=this.getExtUri(c);if(L||(l=D.isEqual(a,s)),l&&i==="copy")throw new Error((0,o.localize)(14,null,this.resourceForError(a),this.resourceForError(s)));if(!l&&D.isEqualOrParent(s,a))throw new Error((0,o.localize)(15,null,this.resourceForError(a),this.resourceForError(s)))}const v=await this.exists(s);if(v&&!l){if(!r)throw new u.FileOperationError((0,o.localize)(16,null,this.resourceForError(a),this.resourceForError(s)),4);if(c===t){const{providerExtUri:D}=this.getExtUri(c);if(D.isEqualOrParent(a,s))throw new Error((0,o.localize)(17,null,this.resourceForError(a),this.resourceForError(s)))}}return{exists:v,isSameResourceWithDifferentPathCase:l}}getExtUri(c){const a=this.isPathCaseSensitive(c);return{providerExtUri:a?d.extUri:d.extUriIgnorePathCase,isPathCaseSensitive:a}}isPathCaseSensitive(c){return!!(c.capabilities&1024)}async createFolder(c){const a=this.throwIfFileSystemIsReadonly(await this.withProvider(c),c);await this.mkdirp(a,c);const t=await this.resolve(c,{resolveMetadata:!0});return this._onDidRunOperation.fire(new u.FileOperationEvent(c,0,t)),t}async mkdirp(c,a){const t=[],{providerExtUri:s}=this.getExtUri(c);for(;!s.isEqual(a,s.dirname(a));)try{if(((await c.stat(a)).type&u.FileType.Directory)==0)throw new Error((0,o.localize)(18,null,this.resourceForError(a)));break}catch(i){if((0,u.toFileSystemProviderErrorCode)(i)!==u.FileSystemProviderErrorCode.FileNotFound)throw i;t.push(s.basename(a)),a=s.dirname(a)}for(let i=t.length-1;i>=0;i--){a=s.joinPath(a,t[i]);try{await c.mkdir(a)}catch(r){if((0,u.toFileSystemProviderErrorCode)(r)!==u.FileSystemProviderErrorCode.FileExists)throw r}}}async canDelete(c,a){try{await this.doValidateDelete(c,a)}catch(t){return t}return!0}async doValidateDelete(c,a){const t=this.throwIfFileSystemIsReadonly(await this.withProvider(c),c);if(!!a?.useTrash&&!(t.capabilities&4096))throw new Error((0,o.localize)(19,null,this.resourceForError(c)));let i;try{i=await t.stat(c)}catch(l){}if(i)this.throwIfFileIsReadonly(c,i);else throw new u.FileOperationError((0,o.localize)(20,null,this.resourceForError(c)),1);if(!!!a?.recursive){const l=await this.resolve(c);if(l.isDirectory&&Array.isArray(l.children)&&l.children.length>0)throw new Error((0,o.localize)(21,null,this.resourceForError(c)))}return t}async del(c,a){const t=await this.doValidateDelete(c,a),s=!!a?.useTrash,i=!!a?.recursive;await t.delete(c,{recursive:i,useTrash:s}),this._onDidRunOperation.fire(new u.FileOperationEvent(c,1))}onDidChangeFile(c,a){this._onDidChangeFilesRaw.fire({changes:c});let t,s;{for(const i of c)this.watchedResources.has(i.resource)?(t||(t=[]),t.push(i)):(s||(s=[]),s.push(i));t&&this._onDidFilesChange.fire(new u.FileChangesEvent(t,!a))}if(s){const i=a?this.caseSensitiveFileEventsWorker:this.caseInsensitiveFileEventsWorker;!i.work(s)&&We.FILE_EVENTS_THROTTLING.warningscounter++<10&&this.logService.warn(`[File watcher]: started ignoring events due to too many file change events at once (incoming: ${s.length}, most recent change: ${s[0].resource.toString()}). Use 'files.watcherExclude' setting to exclude folders with lots of changing files (e.g. compilation output).`),i.pending>0&&this.logService.trace(`[File watcher]: started throttling events due to large amount of file change events at once (pending: ${i.pending}, most recent change: ${s[0].resource.toString()}). Use 'files.watcherExclude' setting to exclude folders with lots of changing files (e.g. compilation output).`)}}watch(c,a={recursive:!1,excludes:[]}){const t=new h.DisposableStore;{let s=!1,i=()=>{s=!0};t.add((0,h.toDisposable)(()=>i())),this.doWatch(c,a).then(r=>{s?(0,h.dispose)(r):i=()=>(0,h.dispose)(r)},r=>this.logService.error(r))}return a.recursive||(this.watchedResources.set(c,(this.watchedResources.get(c)??0)+1),t.add((0,h.toDisposable)(()=>{const s=this.watchedResources.get(c);typeof s=="number"&&(s<=1?this.watchedResources.delete(c):this.watchedResources.set(c,s-1))}))),t}async doWatch(c,a){const t=await this.withProvider(c),s=this.toWatchKey(t,c,a),i=this.activeWatchers.get(s)||{count:0,disposable:t.watch(c,a)};return this.activeWatchers.has(s)||this.activeWatchers.set(s,i),i.count+=1,(0,h.toDisposable)(()=>{i.count--,i.count===0&&((0,h.dispose)(i.disposable),this.activeWatchers.delete(s))})}toWatchKey(c,a,t){const{providerExtUri:s}=this.getExtUri(c);return[s.getComparisonKey(a),String(t.recursive),t.excludes.join()].join()}dispose(){super.dispose();for(const[,c]of this.activeWatchers)(0,h.dispose)(c.disposable);this.activeWatchers.clear()}async doWriteBuffered(c,a,t,s){return this.writeQueue.queueFor(a,this.getExtUri(c).providerExtUri).queue(async()=>{const i=await c.open(a,{create:!0,unlock:t?.unlock??!1});try{(0,b.isReadableStream)(s)||(0,b.isReadableBufferedStream)(s)?await this.doWriteStreamBufferedQueued(c,i,s):await this.doWriteReadableBufferedQueued(c,i,s)}catch(r){throw(0,u.ensureFileSystemProviderError)(r)}finally{await c.close(i)}})}async doWriteStreamBufferedQueued(c,a,t){let s=0,i;if((0,b.isReadableBufferedStream)(t)){if(t.buffer.length>0){const r=w.VSBuffer.concat(t.buffer);await this.doWriteBuffer(c,a,r,r.byteLength,s,0),s+=r.byteLength}if(t.ended)return;i=t.stream}else i=t;return new Promise(async(r,l)=>{(0,b.listenStream)(i,{onData:async v=>{i.pause();try{await this.doWriteBuffer(c,a,v,v.byteLength,s,0)}catch(D){return l(D)}s+=v.byteLength,setTimeout(()=>i.resume())},onError:v=>l(v),onEnd:()=>r()})})}async doWriteReadableBufferedQueued(c,a,t){let s=0,i;for(;(i=t.read())!==null;)await this.doWriteBuffer(c,a,i,i.byteLength,s,0),s+=i.byteLength}async doWriteBuffer(c,a,t,s,i,r){let l=0;for(;l<s;)l+=await c.write(a,i+l,t.buffer,r+l,s-l)}async doWriteUnbuffered(c,a,t,s){return this.writeQueue.queueFor(a,this.getExtUri(c).providerExtUri).queue(()=>this.doWriteUnbufferedQueued(c,a,t,s))}async doWriteUnbufferedQueued(c,a,t,s){let i;s instanceof w.VSBuffer?i=s:(0,b.isReadableStream)(s)?i=await(0,w.streamToBuffer)(s):(0,b.isReadableBufferedStream)(s)?i=await(0,w.bufferedStreamToBuffer)(s):i=(0,w.readableToBuffer)(s),await c.writeFile(a,i.buffer,{create:!0,overwrite:!0,unlock:t?.unlock??!1})}async doPipeBuffered(c,a,t,s){return this.writeQueue.queueFor(s,this.getExtUri(t).providerExtUri).queue(()=>this.doPipeBufferedQueued(c,a,t,s))}async doPipeBufferedQueued(c,a,t,s){let i,r;try{i=await c.open(a,{create:!1}),r=await t.open(s,{create:!0,unlock:!1});const l=w.VSBuffer.alloc(this.BUFFER_SIZE);let v=0,D=0,L=0;do L=await c.read(i,v,l.buffer,D,l.byteLength-D),await this.doWriteBuffer(t,r,l,L,v,D),v+=L,D+=L,D===l.byteLength&&(D=0);while(L>0)}catch(l){throw(0,u.ensureFileSystemProviderError)(l)}finally{await R.Promises.settled([typeof i=="number"?c.close(i):Promise.resolve(),typeof r=="number"?t.close(r):Promise.resolve()])}}async doPipeUnbuffered(c,a,t,s){return this.writeQueue.queueFor(s,this.getExtUri(t).providerExtUri).queue(()=>this.doPipeUnbufferedQueued(c,a,t,s))}async doPipeUnbufferedQueued(c,a,t,s){return t.writeFile(s,await c.readFile(a),{create:!0,overwrite:!0,unlock:!1})}async doPipeUnbufferedToBuffered(c,a,t,s){return this.writeQueue.queueFor(s,this.getExtUri(t).providerExtUri).queue(()=>this.doPipeUnbufferedToBufferedQueued(c,a,t,s))}async doPipeUnbufferedToBufferedQueued(c,a,t,s){const i=await t.open(s,{create:!0,unlock:!1});try{const r=await c.readFile(a);await this.doWriteBuffer(t,i,w.VSBuffer.wrap(r),r.byteLength,0,0)}catch(r){throw(0,u.ensureFileSystemProviderError)(r)}finally{await t.close(i)}}async doPipeBufferedToUnbuffered(c,a,t,s){const i=await(0,w.streamToBuffer)(this.readFileBuffered(c,a,k.CancellationToken.None));await this.doWriteUnbuffered(t,s,void 0,i)}throwIfFileSystemIsReadonly(c,a){if(c.capabilities&2048)throw new u.FileOperationError((0,o.localize)(22,null,this.resourceForError(a)),6);return c}throwIfFileIsReadonly(c,a){if((a.permissions??0)&u.FilePermission.Readonly)throw new u.FileOperationError((0,o.localize)(23,null,this.resourceForError(c)),6)}resourceForError(c){return c.scheme===n.Schemas.file?c.fsPath:c.toString(!0)}};C.FILE_EVENTS_THROTTLING={maxChangesChunkSize:500,maxChangesBufferSize:3e4,coolDownDelay:200,warningscounter:0},C=we([ge(0,E.ILogService)],C),e.FileService=C}),define(J[56],Z([0,1,21,14,16,6,33,2,5,3,17,44,15,129,19,78,154,144,145,73,147,12]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y,E,C,f,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiskFileSystemProvider=void 0;class t extends S.Disposable{constructor(i,r){super();this.logService=i,this.options=r,this.BUFFER_SIZE=this.options?.bufferSize||64*1024,this.onDidChangeCapabilities=k.Event.None,this.mapHandleToPos=new Map,this.writeHandles=new Map,this.canFlush=!0,this._onDidWatchErrorOccur=this._register(new k.Emitter),this.onDidErrorOccur=this._onDidWatchErrorOccur.event,this._onDidChangeFile=this._register(new k.Emitter),this.onDidChangeFile=this._onDidChangeFile.event,this.recursiveFoldersToWatch=[],this.recursiveWatchRequestDelayer=this._register(new R.ThrottledDelayer(0))}get capabilities(){return this._capabilities||(this._capabilities=2|4|16|8|8192,m.isLinux&&(this._capabilities|=1024)),this._capabilities}async stat(i){try{const{stat:r,symbolicLink:l}=await d.SymlinkSupport.stat(this.toFilePath(i));return{type:this.toType(r,l),ctime:r.birthtime.getTime(),mtime:r.mtime.getTime(),size:r.size}}catch(r){throw this.toFileSystemProviderError(r)}}async readdir(i){try{const r=await d.Promises.readdir(this.toFilePath(i),{withFileTypes:!0}),l=[];return await Promise.all(r.map(async v=>{try{let D;v.isSymbolicLink()?D=(await this.stat((0,n.joinPath)(i,v.name))).type:D=this.toType(v),l.push([v.name,D])}catch(D){this.logService.trace(D)}})),l}catch(r){throw this.toFileSystemProviderError(r)}}toType(i,r){let l;return r?.dangling?l=o.FileType.Unknown:i.isFile()?l=o.FileType.File:i.isDirectory()?l=o.FileType.Directory:l=o.FileType.Unknown,r&&(l|=o.FileType.SymbolicLink),l}async readFile(i){try{const r=this.toFilePath(i);return await d.Promises.readFile(r)}catch(r){throw this.toFileSystemProviderError(r)}}readFileStream(i,r,l){const v=(0,P.newWriteableStream)(D=>w.VSBuffer.concat(D.map(L=>w.VSBuffer.wrap(L))).buffer);return(0,u.readFileIntoStream)(this,i,v,D=>D.buffer,{...r,bufferSize:this.BUFFER_SIZE},l),v}async writeFile(i,r,l){let v;try{const D=this.toFilePath(i);if(!l.create||!l.overwrite){if(await d.Promises.exists(D)){if(!l.overwrite)throw(0,o.createFileSystemProviderError)((0,b.localize)(0,null),o.FileSystemProviderErrorCode.FileExists)}else if(!l.create)throw(0,o.createFileSystemProviderError)((0,b.localize)(1,null),o.FileSystemProviderErrorCode.FileNotFound)}v=await this.open(i,{create:!0,unlock:l.unlock}),await this.write(v,0,r,0,r.byteLength)}catch(D){throw await this.toFileSystemProviderWriteError(i,D)}finally{typeof v=="number"&&await this.close(v)}}async open(i,r){try{const l=this.toFilePath(i);if((0,o.isFileOpenForWriteOptions)(r)&&r.unlock)try{const{stat:L}=await d.SymlinkSupport.stat(l);L.mode&128||await d.Promises.chmod(l,L.mode|128)}catch(L){this.logService.trace(L)}let v;if((0,o.isFileOpenForWriteOptions)(r)){if(m.isWindows)try{await d.Promises.truncate(l,0),v="r+"}catch(L){L.code!=="ENOENT"&&this.logService.trace(L)}v||(v="w")}else v="r";const D=await d.Promises.open(l,v);return this.mapHandleToPos.set(D,0),(0,o.isFileOpenForWriteOptions)(r)&&this.writeHandles.set(D,i),D}catch(l){throw(0,o.isFileOpenForWriteOptions)(r)?await this.toFileSystemProviderWriteError(i,l):this.toFileSystemProviderError(l)}}async close(i){try{if(this.mapHandleToPos.delete(i),this.writeHandles.delete(i)&&this.canFlush)try{await d.Promises.fdatasync(i)}catch(r){this.canFlush=!1,this.logService.error(r)}return await d.Promises.close(i)}catch(r){throw this.toFileSystemProviderError(r)}}async read(i,r,l,v,D){const L=this.normalizePos(i,r);let p=null;try{const _=await d.Promises.read(i,l,v,D,L);return typeof _=="number"?p=_:p=_.bytesRead,p}catch(_){throw this.toFileSystemProviderError(_)}finally{this.updatePos(i,L,p)}}normalizePos(i,r){return r===this.mapHandleToPos.get(i)?null:r}updatePos(i,r,l){const v=this.mapHandleToPos.get(i);typeof v=="number"&&(typeof r=="number"||(typeof l=="number"?this.mapHandleToPos.set(i,v+l):this.mapHandleToPos.delete(i)))}async write(i,r,l,v,D){return(0,R.retry)(()=>this.doWrite(i,r,l,v,D),100,3)}async doWrite(i,r,l,v,D){const L=this.normalizePos(i,r);let p=null;try{const _=await d.Promises.write(i,l,v,D,L);return typeof _=="number"?p=_:p=_.bytesWritten,p}catch(_){throw await this.toFileSystemProviderWriteError(this.writeHandles.get(i),_)}finally{this.updatePos(i,L,p)}}async mkdir(i){try{await d.Promises.mkdir(this.toFilePath(i))}catch(r){throw this.toFileSystemProviderError(r)}}async delete(i,r){try{const l=this.toFilePath(i);await this.doDelete(l,r)}catch(l){throw this.toFileSystemProviderError(l)}}async doDelete(i,r){r.recursive?await d.Promises.rm(i,d.RimRafMode.MOVE):await d.Promises.unlink(i)}async rename(i,r,l){const v=this.toFilePath(i),D=this.toFilePath(r);if(v!==D)try{await this.validateTargetDeleted(i,r,"move",l.overwrite),await d.Promises.move(v,D)}catch(L){throw(L.code==="EINVAL"||L.code==="EBUSY"||L.code==="ENAMETOOLONG")&&(L=new Error((0,b.localize)(2,null,(0,h.basename)(v),(0,h.basename)((0,h.dirname)(D)),L.toString()))),this.toFileSystemProviderError(L)}}async copy(i,r,l){const v=this.toFilePath(i),D=this.toFilePath(r);if(v!==D)try{await this.validateTargetDeleted(i,r,"copy",l.overwrite),await d.Promises.copy(v,D,{preserveSymlinks:!0})}catch(L){throw(L.code==="EINVAL"||L.code==="EBUSY"||L.code==="ENAMETOOLONG")&&(L=new Error((0,b.localize)(3,null,(0,h.basename)(v),(0,h.basename)((0,h.dirname)(D)),L.toString()))),this.toFileSystemProviderError(L)}}async validateTargetDeleted(i,r,l,v){const D=this.toFilePath(i),L=this.toFilePath(r);let p=!1;if(!!(this.capabilities&1024)||(p=(0,T.isEqual)(D,L,!0)),p&&l==="copy")throw(0,o.createFileSystemProviderError)((0,b.localize)(4,null),o.FileSystemProviderErrorCode.FileExists);if(!p&&await d.Promises.exists(L)){if(!v)throw(0,o.createFileSystemProviderError)((0,b.localize)(5,null),o.FileSystemProviderErrorCode.FileExists);await this.delete(r,{recursive:!0,useTrash:!1})}}watch(i,r){return r.recursive?this.watchRecursive(i,r.excludes):this.watchNonRecursive(i)}watchRecursive(i,r){const l={path:this.toFilePath(i),excludes:r},v=(0,g.insert)(this.recursiveFoldersToWatch,l);return this.refreshRecursiveWatchers(),(0,S.toDisposable)(()=>{v(),this.refreshRecursiveWatchers()})}refreshRecursiveWatchers(){this.recursiveWatchRequestDelayer.trigger(async()=>{this.doRefreshRecursiveWatchers()})}doRefreshRecursiveWatchers(){if(this.recursiveWatcher instanceof E.FileWatcher)this.recursiveWatcher.setFolders(this.recursiveFoldersToWatch);else if((0,S.dispose)(this.recursiveWatcher),this.recursiveWatcher=void 0,this.recursiveFoldersToWatch.length>0){let i,r;this.options?.watcher?.usePolling?(i=C.FileWatcher,r=this.options?.watcher):this.recursiveFoldersToWatch.length===1?m.isWindows?i=c.FileWatcher:i=C.FileWatcher:i=E.FileWatcher,this.recursiveWatcher=new i(this.recursiveFoldersToWatch,l=>this._onDidChangeFile.fire((0,f.toFileChanges)(l)),l=>{l.type==="error"&&this._onDidWatchErrorOccur.fire(l.message),this.logService[l.type](l.message)},this.logService.getLevel()===a.LogLevel.Trace,r),this.recursiveWatcherLogLevelListener||(this.recursiveWatcherLogLevelListener=this.logService.onDidChangeLogLevel(()=>{this.recursiveWatcher&&this.recursiveWatcher.setVerboseLogging(this.logService.getLevel()===a.LogLevel.Trace)}))}}watchNonRecursive(i){const r=new y.FileWatcher(this.toFilePath(i),v=>this._onDidChangeFile.fire((0,f.toFileChanges)(v)),v=>{v.type==="error"&&this._onDidWatchErrorOccur.fire(v.message),this.logService[v.type](v.message)},this.logService.getLevel()===a.LogLevel.Trace),l=this.logService.onDidChangeLogLevel(()=>{r.setVerboseLogging(this.logService.getLevel()===a.LogLevel.Trace)});return(0,S.combinedDisposable)(r,l)}toFilePath(i){return(0,h.normalize)(i.fsPath)}toFileSystemProviderError(i){if(i instanceof o.FileSystemProviderError)return i;let r;switch(i.code){case"ENOENT":r=o.FileSystemProviderErrorCode.FileNotFound;break;case"EISDIR":r=o.FileSystemProviderErrorCode.FileIsADirectory;break;case"ENOTDIR":r=o.FileSystemProviderErrorCode.FileNotADirectory;break;case"EEXIST":r=o.FileSystemProviderErrorCode.FileExists;break;case"EPERM":case"EACCES":r=o.FileSystemProviderErrorCode.NoPermissions;break;default:r=o.FileSystemProviderErrorCode.Unknown}return(0,o.createFileSystemProviderError)(i,r)}async toFileSystemProviderWriteError(i,r){let l=this.toFileSystemProviderError(r);if(i&&l.code===o.FileSystemProviderErrorCode.NoPermissions)try{const{stat:v}=await d.SymlinkSupport.stat(this.toFilePath(i));v.mode&128||(l=(0,o.createFileSystemProviderError)(r,o.FileSystemProviderErrorCode.FileWriteLocked))}catch(v){this.logService.trace(v)}return l}dispose(){super.dispose(),(0,S.dispose)(this.recursiveWatcher),this.recursiveWatcher=void 0,(0,S.dispose)(this.recursiveWatcherLogLevelListener),this.recursiveWatcherLogLevelListener=void 0}}e.DiskFileSystemProvider=t}),define(J[46],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IProductService=void 0,e.IProductService=(0,g.createDecorator)("productService")}),define(J[27],Z([0,1,92,13]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class w{constructor(){this.data=new Map}add(T,S){g.ok(R.isString(T)),g.ok(R.isObject(S)),g.ok(!this.data.has(T),"There is already an extension with this id"),this.data.set(T,S)}knows(T){return this.data.has(T)}as(T){return this.data.get(T)||null}}e.Registry=new w}),define(J[163],Z([0,1,6,27]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function w(S){return S.length>0&&S.charAt(S.length-1)==="#"?S.substring(0,S.length-1):S}class k{constructor(){this._onDidChangeSchema=new g.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.schemasById={}}registerSchema(h,m){this.schemasById[w(h)]=m,this._onDidChangeSchema.fire(h)}notifySchemaChanged(h){this._onDidChangeSchema.fire(h)}getSchemaContributions(){return{schemas:this.schemasById}}}const T=new k;R.Registry.add(e.Extensions.JSONContribution,T)}),define(J[39],Z([0,1,6,13,116,163,27]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScopes=e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.ConfigurationScope=e.Extensions=e.EditPresentationTypes=void 0;var S;(function(E){E.Multiline="multilineText",E.Singleline="singlelineText"})(S=e.EditPresentationTypes||(e.EditPresentationTypes={})),e.Extensions={Configuration:"base.contributions.configuration"};var h;(function(E){E[E.APPLICATION=1]="APPLICATION",E[E.MACHINE=2]="MACHINE",E[E.WINDOW=3]="WINDOW",E[E.RESOURCE=4]="RESOURCE",E[E.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",E[E.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(h=e.ConfigurationScope||(e.ConfigurationScope={})),e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const m=T.Registry.as(k.Extensions.JSONContribution);class n{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new g.Emitter,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new g.Emitter,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:w.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},m.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(C,f=!0){this.registerConfigurations([C],f)}registerConfigurations(C,f=!0){const c=[];C.forEach(a=>{c.push(...this.validateAndRegisterProperties(a,f,a.extensionInfo)),this.configurationContributors.push(a),this.registerJSONConfiguration(a)}),m.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(c)}deregisterConfigurations(C){const f=[],c=a=>{if(a.properties)for(const t in a.properties)f.push(t),delete this.configurationProperties[t],this.removeFromSchema(t,a.properties[t]);a.allOf&&a.allOf.forEach(t=>c(t))};for(const a of C){c(a);const t=this.configurationContributors.indexOf(a);t!==-1&&this.configurationContributors.splice(t,1)}m.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(f)}registerDefaultConfigurations(C){const f=[],c=[];for(const a of C)for(const t in a)if(f.push(t),e.OVERRIDE_PROPERTY_PATTERN.test(t)){this.defaultValues[t]={...this.defaultValues[t]||{},...a[t]};const s={type:"object",default:this.defaultValues[t],description:w.localize(1,null,t),$ref:e.resourceLanguageSettingsSchemaId};c.push(d(t)),this.configurationProperties[t]=s,this.defaultLanguageConfigurationOverridesNode.properties[t]=s}else{this.defaultValues[t]=a[t];const s=this.configurationProperties[t];s&&(this.updatePropertyDefaultValue(t,s),this.updateSchema(t,s))}this.registerOverrideIdentifiers(c),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(f)}deregisterDefaultConfigurations(C){const f=[];for(const c of C)for(const a in c)if(f.push(a),delete this.defaultValues[a],e.OVERRIDE_PROPERTY_PATTERN.test(a))delete this.configurationProperties[a],delete this.defaultLanguageConfigurationOverridesNode.properties[a];else{const t=this.configurationProperties[a];t&&(this.updatePropertyDefaultValue(a,t),this.updateSchema(a,t))}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(f)}notifyConfigurationSchemaUpdated(...C){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(C){for(const f of C)this.overrideIdentifiers.add(f);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(C,f=!0,c,a=3){a=R.isUndefinedOrNull(C.scope)?a:C.scope;let t=[],s=C.properties;if(s)for(let r in s){if(f&&u(r)){delete s[r];continue}const l=s[r];if(this.updatePropertyDefaultValue(r,l),e.OVERRIDE_PROPERTY_PATTERN.test(r)?l.scope=void 0:(l.scope=R.isUndefinedOrNull(l.scope)?a:l.scope,l.restricted=R.isUndefinedOrNull(l.restricted)?!!c?.restrictedConfigurations?.includes(r):l.restricted),s[r].hasOwnProperty("included")&&!s[r].included){this.excludedConfigurationProperties[r]=s[r],delete s[r];continue}else this.configurationProperties[r]=s[r];!s[r].deprecationMessage&&s[r].markdownDeprecationMessage&&(s[r].deprecationMessage=s[r].markdownDeprecationMessage),t.push(r)}let i=C.allOf;if(i)for(let r of i)t.push(...this.validateAndRegisterProperties(r,f,c,a));return t}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}registerJSONConfiguration(C){const f=c=>{let a=c.properties;if(a)for(const s in a)this.updateSchema(s,a[s]);let t=c.allOf;t&&t.forEach(f)};f(C)}updateSchema(C,f){switch(e.allSettings.properties[C]=f,f.scope){case 1:e.applicationSettings.properties[C]=f;break;case 2:e.machineSettings.properties[C]=f;break;case 6:e.machineOverridableSettings.properties[C]=f;break;case 3:e.windowSettings.properties[C]=f;break;case 4:e.resourceSettings.properties[C]=f;break;case 5:e.resourceSettings.properties[C]=f,this.resourceLanguageSettingsSchema.properties[C]=f;break}}removeFromSchema(C,f){switch(delete e.allSettings.properties[C],f.scope){case 1:delete e.applicationSettings.properties[C];break;case 2:delete e.machineSettings.properties[C];break;case 6:delete e.machineOverridableSettings.properties[C];break;case 3:delete e.windowSettings.properties[C];break;case 4:case 5:delete e.resourceSettings.properties[C];break}}updateOverridePropertyPatternKey(){for(const C of this.overrideIdentifiers.values()){const f=`[${C}]`,c={type:"object",description:w.localize(2,null),errorMessage:w.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(f,c),e.allSettings.properties[f]=c,e.applicationSettings.properties[f]=c,e.machineSettings.properties[f]=c,e.machineOverridableSettings.properties[f]=c,e.windowSettings.properties[f]=c,e.resourceSettings.properties[f]=c}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(C,f){let c=this.defaultValues[C];R.isUndefined(c)&&(c=f.default),R.isUndefined(c)&&(c=b(f.type)),f.default=c}}const P="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(P);function d(E){return E.substring(1,E.length-1)}e.overrideIdentifierFromKey=d;function b(E){switch(Array.isArray(E)?E[0]:E){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=b;const o=new n;T.Registry.add(e.Extensions.Configuration,o);function u(E){return E.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(E)?w.localize(5,null,E):o.getConfigurationProperties()[E]!==void 0?w.localize(6,null,E):null:w.localize(4,null)}e.validateProperty=u;function y(){const E=[],C=o.getConfigurationProperties();for(const f of Object.keys(C))E.push([f,C[f].scope]);return E.push(["launch",4]),E.push(["task",4]),E}e.getScopes=y}),define(J[31],Z([0,1,20,13,7,39,4,27]),function(x,e,g,R,w,k,T,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMigratedSettingValue=e.keyFromOverrideIdentifier=e.getDefaultValues=e.getConfigurationKeys=e.merge=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.toOverrides=e.compare=e.ConfigurationTargetToString=e.ConfigurationTarget=e.isConfigurationOverrides=e.IConfigurationService=void 0,e.IConfigurationService=(0,T.createDecorator)("configurationService");function h(s){return s&&typeof s=="object"&&(!s.overrideIdentifier||typeof s.overrideIdentifier=="string")&&(!s.resource||s.resource instanceof w.URI)}e.isConfigurationOverrides=h;var m;(function(s){s[s.USER=1]="USER",s[s.USER_LOCAL=2]="USER_LOCAL",s[s.USER_REMOTE=3]="USER_REMOTE",s[s.WORKSPACE=4]="WORKSPACE",s[s.WORKSPACE_FOLDER=5]="WORKSPACE_FOLDER",s[s.DEFAULT=6]="DEFAULT",s[s.MEMORY=7]="MEMORY"})(m=e.ConfigurationTarget||(e.ConfigurationTarget={}));function n(s){switch(s){case 1:return"USER";case 2:return"USER_LOCAL";case 3:return"USER_REMOTE";case 4:return"WORKSPACE";case 5:return"WORKSPACE_FOLDER";case 6:return"DEFAULT";case 7:return"MEMORY"}}e.ConfigurationTargetToString=n;function P(s,i){const r=i?s?i.keys.filter(A=>s.keys.indexOf(A)===-1):[...i.keys]:[],l=s?i?s.keys.filter(A=>i.keys.indexOf(A)===-1):[...s.keys]:[],v=[];if(i&&s){for(const A of s.keys)if(i.keys.indexOf(A)!==-1){const I=E(s.contents,A),U=E(i.contents,A);g.equals(I,U)||v.push(A)}}const D=[],L=A=>{const I={};for(const U of A)for(const B of U.identifiers)I[a(B)]=U;return I},p=i?L(i.overrides):{},_=s?L(s.overrides):{};if(Object.keys(p).length)for(const A of r){const I=p[A];I&&D.push([(0,k.overrideIdentifierFromKey)(A),I.keys])}if(Object.keys(_).length)for(const A of l){const I=_[A];I&&D.push([(0,k.overrideIdentifierFromKey)(A),I.keys])}if(Object.keys(p).length&&Object.keys(_).length)for(const A of v){const I=_[A],U=p[A];if(I&&U){const B=P({contents:I.contents,keys:I.keys,overrides:[]},{contents:U.contents,keys:U.keys,overrides:[]});D.push([(0,k.overrideIdentifierFromKey)(A),[...B.added,...B.removed,...B.updated]])}}return{added:r,removed:l,updated:v,overrides:D}}e.compare=P;function d(s,i){const r=[];for(const l of Object.keys(s))if(k.OVERRIDE_PROPERTY_PATTERN.test(l)){const v={};for(const D in s[l])v[D]=s[l][D];r.push({identifiers:[(0,k.overrideIdentifierFromKey)(l).trim()],keys:Object.keys(v),contents:b(v,i)})}return r}e.toOverrides=d;function b(s,i){const r=Object.create(null);for(let l in s)o(r,l,s[l],i);return r}e.toValuesTree=b;function o(s,i,r,l){const v=i.split("."),D=v.pop();let L=s;for(let p=0;p<v.length;p++){let _=v[p],A=L[_];switch(typeof A){case"undefined":A=L[_]=Object.create(null);break;case"object":break;default:l(`Ignoring ${i} as ${v.slice(0,p+1).join(".")} is ${JSON.stringify(A)}`);return}L=A}if(typeof L=="object"&&L!==null)try{L[D]=r}catch(p){l(`Ignoring ${i} as ${v.join(".")} is ${JSON.stringify(L)}`)}else l(`Ignoring ${i} as ${v.join(".")} is ${JSON.stringify(L)}`)}e.addToValueTree=o;function u(s,i){const r=i.split(".");y(s,r)}e.removeFromValueTree=u;function y(s,i){const r=i.shift();if(i.length===0){delete s[r];return}if(Object.keys(s).indexOf(r)!==-1){const l=s[r];typeof l=="object"&&!Array.isArray(l)&&(y(l,i),Object.keys(l).length===0&&delete s[r])}}function E(s,i,r){function l(L,p){let _=L;for(const A of p){if(typeof _!="object"||_===null)return;_=_[A]}return _}const v=i.split("."),D=l(s,v);return typeof D=="undefined"?r:D}e.getConfigurationValue=E;function C(s,i,r){Object.keys(i).forEach(l=>{l!=="__proto__"&&(l in s?R.isObject(s[l])&&R.isObject(i[l])?C(s[l],i[l],r):r&&(s[l]=i[l]):s[l]=i[l])})}e.merge=C;function f(){const s=S.Registry.as(k.Extensions.Configuration).getConfigurationProperties();return Object.keys(s)}e.getConfigurationKeys=f;function c(){const s=Object.create(null),i=S.Registry.as(k.Extensions.Configuration).getConfigurationProperties();for(let r in i){let l=i[r].default;o(s,r,l,v=>console.error(`Conflict in default settings: ${v}`))}return s}e.getDefaultValues=c;function a(s){return`[${s}]`}e.keyFromOverrideIdentifier=a;function t(s,i,r){const l=s.inspect(i),v=s.inspect(r);return typeof l.userValue!="undefined"||typeof l.workspaceValue!="undefined"||typeof l.workspaceFolderValue!="undefined"?l.value:typeof v.userValue!="undefined"||typeof v.workspaceValue!="undefined"||typeof v.workspaceFolderValue!="undefined"?v.value:l.defaultValue}e.getMigratedSettingValue=t}),define(J[164],Z([0,1,21,6,62,2,34,20,13,7,31,39,27]),function(x,e,g,R,w,k,T,S,h,m,n,P,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AllKeysConfigurationChangeEvent=e.ConfigurationChangeEvent=e.mergeChanges=e.Configuration=e.UserSettings=e.ConfigurationModelParser=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class b{constructor(t={},s=[],i=[]){this._contents=t,this._keys=s,this._overrides=i,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?(0,n.getConfigurationValue)(this.contents,t):this.contents}getOverrideValue(t,s){const i=this.getContentsForOverrideIdentifer(s);return i?t?(0,n.getConfigurationValue)(i,t):i:void 0}getKeysForOverrideIdentifier(t){for(const s of this.overrides)if(s.identifiers.indexOf(t)!==-1)return s.keys;return[]}override(t){const s=this.getContentsForOverrideIdentifer(t);if(!s||typeof s!="object"||!Object.keys(s).length)return this;let i={};for(const r of g.distinct([...Object.keys(this.contents),...Object.keys(s)])){let l=this.contents[r],v=s[r];v&&(typeof l=="object"&&typeof v=="object"?(l=S.deepClone(l),this.mergeContents(l,v)):l=v),i[r]=l}return new b(i,this.keys,this.overrides)}merge(...t){const s=S.deepClone(this.contents),i=S.deepClone(this.overrides),r=[...this.keys];for(const l of t){this.mergeContents(s,l.contents);for(const v of l.overrides){const[D]=i.filter(L=>g.equals(L.identifiers,v.identifiers));D?this.mergeContents(D.contents,v.contents):i.push(S.deepClone(v))}for(const v of l.keys)r.indexOf(v)===-1&&r.push(v)}return new b(s,r,i)}freeze(){return this.isFrozen=!0,this}mergeContents(t,s){for(const i of Object.keys(s)){if(i in t&&h.isObject(t[i])&&h.isObject(s[i])){this.mergeContents(t[i],s[i]);continue}t[i]=S.deepClone(s[i])}}checkAndFreeze(t){return this.isFrozen&&!Object.isFrozen(t)?S.deepFreeze(t):t}getContentsForOverrideIdentifer(t){for(const s of this.overrides)if(s.identifiers.indexOf(t)!==-1)return s.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(t,s){this.addKey(t),(0,n.addToValueTree)(this.contents,t,s,i=>{throw new Error(i)})}removeValue(t){this.removeKey(t)&&(0,n.removeFromValueTree)(this.contents,t)}addKey(t){let s=this.keys.length;for(let i=0;i<s;i++)t.indexOf(this.keys[i])===0&&(s=i);this.keys.splice(s,1,t)}removeKey(t){let s=this.keys.indexOf(t);return s!==-1?(this.keys.splice(s,1),!0):!1}}e.ConfigurationModel=b;class o extends b{constructor(){const t=(0,n.getDefaultValues)(),s=(0,n.getConfigurationKeys)(),i=[];for(const r of Object.keys(t))P.OVERRIDE_PROPERTY_PATTERN.test(r)&&i.push({identifiers:[(0,P.overrideIdentifierFromKey)(r).trim()],keys:Object.keys(t[r]),contents:(0,n.toValuesTree)(t[r],l=>console.error(`Conflict in default settings file: ${l}`))});super(t,s,i)}}e.DefaultConfigurationModel=o;class u{constructor(t){this._name=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[],this._parseErrors=[]}get configurationModel(){return this._configurationModel||new b}get restrictedConfigurations(){return this._restrictedConfigurations}get errors(){return this._parseErrors}parse(t,s){if(!h.isUndefinedOrNull(t)){const i=this.doParseContent(t);this.parseRaw(i,s)}}reparse(t){this._raw&&this.parseRaw(this._raw,t)}parseRaw(t,s){this._raw=t;const{contents:i,keys:r,overrides:l,restricted:v}=this.doParseRaw(t,s);this._configurationModel=new b(i,r,l),this._restrictedConfigurations=v||[]}doParseContent(t){let s={},i=null,r=[],l=[],v=[];function D(p){Array.isArray(r)?r.push(p):i!==null&&(r[i]=p)}let L={onObjectBegin:()=>{let p={};D(p),l.push(r),r=p,i=null},onObjectProperty:p=>{i=p},onObjectEnd:()=>{r=l.pop()},onArrayBegin:()=>{let p=[];D(p),l.push(r),r=p,i=null},onArrayEnd:()=>{r=l.pop()},onLiteralValue:D,onError:(p,_,A)=>{v.push({error:p,offset:_,length:A})}};if(t)try{w.visit(t,L),s=r[0]||{}}catch(p){console.error(`Error while parsing settings file ${this._name}: ${p}`),this._parseErrors=[p]}return s}doParseRaw(t,s){const i=d.Registry.as(P.Extensions.Configuration).getConfigurationProperties(),r=this.filter(t,i,!0,s);t=r.raw;const l=(0,n.toValuesTree)(t,L=>console.error(`Conflict in settings file ${this._name}: ${L}`)),v=Object.keys(t),D=(0,n.toOverrides)(t,L=>console.error(`Conflict in settings file ${this._name}: ${L}`));return{contents:l,keys:v,overrides:D,restricted:r.restricted}}filter(t,s,i,r){if(!r?.scopes&&!r?.skipRestricted)return{raw:t,restricted:[]};const l={},v=[];for(let D in t)if(P.OVERRIDE_PROPERTY_PATTERN.test(D)&&i){const L=this.filter(t[D],s,!1,r);l[D]=L.raw,v.push(...L.restricted)}else{const L=s[D],p=L?typeof L.scope!="undefined"?L.scope:3:void 0;L?.restricted&&v.push(D),(p===void 0||r.scopes===void 0||r.scopes.includes(p))&&(r.skipRestricted&&L?.restricted||(l[D]=t[D]))}return{raw:l,restricted:v}}}e.ConfigurationModelParser=u;class y extends k.Disposable{constructor(t,s,i,r){super();this.userSettingsResource=t,this.scopes=s,this.fileService=r,this._onDidChange=this._register(new R.Emitter),this.onDidChange=this._onDidChange.event,this.parser=new u(this.userSettingsResource.toString()),this.parseOptions={scopes:this.scopes},this._register(this.fileService.watch(i.dirname(this.userSettingsResource))),this._register(this.fileService.watch(this.userSettingsResource)),this._register(R.Event.filter(this.fileService.onDidFilesChange,l=>l.contains(this.userSettingsResource))(()=>this._onDidChange.fire()))}async loadConfiguration(){try{const t=await this.fileService.readFile(this.userSettingsResource);return this.parser.parse(t.value.toString()||"{}",this.parseOptions),this.parser.configurationModel}catch(t){return new b}}reparse(){return this.parser.reparse(this.parseOptions),this.parser.configurationModel}getRestrictedSettings(){return this.parser.restrictedConfigurations}}e.UserSettings=y;class E{constructor(t,s,i=new b,r=new b,l=new T.ResourceMap,v=new b,D=new T.ResourceMap,L=!0){this._defaultConfiguration=t,this._localUserConfiguration=s,this._remoteUserConfiguration=i,this._workspaceConfiguration=r,this._folderConfigurations=l,this._memoryConfiguration=v,this._memoryConfigurationByResource=D,this._freeze=L,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new T.ResourceMap,this._userConfiguration=null}getValue(t,s,i){return this.getConsolidateConfigurationModel(s,i).getValue(t)}updateValue(t,s,i={}){let r;i.resource?(r=this._memoryConfigurationByResource.get(i.resource),r||(r=new b,this._memoryConfigurationByResource.set(i.resource,r))):r=this._memoryConfiguration,s===void 0?r.removeValue(t):r.setValue(t,s),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(t,s,i){const r=this.getConsolidateConfigurationModel(s,i),l=this.getFolderConfigurationModelForResource(s.resource,i),v=s.resource?this._memoryConfigurationByResource.get(s.resource)||this._memoryConfiguration:this._memoryConfiguration,D=s.overrideIdentifier?this._defaultConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this._defaultConfiguration.freeze().getValue(t),L=s.overrideIdentifier?this.userConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.userConfiguration.freeze().getValue(t),p=s.overrideIdentifier?this.localUserConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.localUserConfiguration.freeze().getValue(t),_=s.overrideIdentifier?this.remoteUserConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.remoteUserConfiguration.freeze().getValue(t),A=i?s.overrideIdentifier?this._workspaceConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this._workspaceConfiguration.freeze().getValue(t):void 0,I=l?s.overrideIdentifier?l.freeze().override(s.overrideIdentifier).getValue(t):l.freeze().getValue(t):void 0,U=s.overrideIdentifier?v.override(s.overrideIdentifier).getValue(t):v.getValue(t),B=r.getValue(t),ee=g.distinct(g.flatten(r.overrides.map(Q=>Q.identifiers))).filter(Q=>r.getOverrideValue(t,Q)!==void 0);return{defaultValue:D,userValue:L,userLocalValue:p,userRemoteValue:_,workspaceValue:A,workspaceFolderValue:I,memoryValue:U,value:B,default:D!==void 0?{value:this._defaultConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,user:L!==void 0?{value:this.userConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,userLocal:p!==void 0?{value:this.localUserConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,userRemote:_!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,workspace:A!==void 0?{value:this._workspaceConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,workspaceFolder:I!==void 0?{value:l?.freeze().getValue(t),override:s.overrideIdentifier?l?.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,memory:U!==void 0?{value:v.getValue(t),override:s.overrideIdentifier?v.getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,overrideIdentifiers:ee.length?ee:void 0}}keys(t){const s=this.getFolderConfigurationModelForResource(void 0,t);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:s?s.freeze().keys:[]}}updateDefaultConfiguration(t){this._defaultConfiguration=t,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(t){this._localUserConfiguration=t,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(t){this._remoteUserConfiguration=t,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(t){this._workspaceConfiguration=t,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(t,s){this._folderConfigurations.set(t,s),this._foldersConsolidatedConfigurations.delete(t)}deleteFolderConfiguration(t){this.folderConfigurations.delete(t),this._foldersConsolidatedConfigurations.delete(t)}compareAndUpdateDefaultConfiguration(t,s){const i=s.filter(r=>P.OVERRIDE_PROPERTY_PATTERN.test(r)).map(r=>{const l=(0,P.overrideIdentifierFromKey)(r),v=this._defaultConfiguration.getKeysForOverrideIdentifier(l),D=t.getKeysForOverrideIdentifier(l),L=[...D.filter(p=>v.indexOf(p)===-1),...v.filter(p=>D.indexOf(p)===-1),...v.filter(p=>!S.equals(this._defaultConfiguration.override(l).getValue(p),t.override(l).getValue(p)))];return[l,L]});return this.updateDefaultConfiguration(t),{keys:s,overrides:i}}compareAndUpdateLocalUserConfiguration(t){const{added:s,updated:i,removed:r,overrides:l}=(0,n.compare)(this.localUserConfiguration,t),v=[...s,...i,...r];return v.length&&this.updateLocalUserConfiguration(t),{keys:v,overrides:l}}compareAndUpdateRemoteUserConfiguration(t){const{added:s,updated:i,removed:r,overrides:l}=(0,n.compare)(this.remoteUserConfiguration,t);let v=[...s,...i,...r];return v.length&&this.updateRemoteUserConfiguration(t),{keys:v,overrides:l}}compareAndUpdateWorkspaceConfiguration(t){const{added:s,updated:i,removed:r,overrides:l}=(0,n.compare)(this.workspaceConfiguration,t);let v=[...s,...i,...r];return v.length&&this.updateWorkspaceConfiguration(t),{keys:v,overrides:l}}compareAndUpdateFolderConfiguration(t,s){const i=this.folderConfigurations.get(t),{added:r,updated:l,removed:v,overrides:D}=(0,n.compare)(i,s);let L=[...r,...l,...v];return(L.length||!i)&&this.updateFolderConfiguration(t,s),{keys:L,overrides:D}}compareAndDeleteFolderConfiguration(t){const s=this.folderConfigurations.get(t);if(!s)throw new Error("Unknown folder");this.deleteFolderConfiguration(t);const{added:i,updated:r,removed:l,overrides:v}=(0,n.compare)(s,void 0);return{keys:[...i,...r,...l],overrides:v}}get defaults(){return this._defaultConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidateConfigurationModel(t,s){let i=this.getConsolidatedConfigurationModelForResource(t,s);return t.overrideIdentifier?i.override(t.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:t},s){let i=this.getWorkspaceConsolidatedConfiguration();if(s&&t){const r=s.getFolder(t);r&&(i=this.getFolderConsolidatedConfiguration(r.uri)||i);const l=this._memoryConfigurationByResource.get(t);l&&(i=i.merge(l))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let s=this._foldersConsolidatedConfigurations.get(t);if(!s){const i=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(t);r?(s=i.merge(r),this._freeze&&(s=s.freeze()),this._foldersConsolidatedConfigurations.set(t,s)):s=i}return s}getFolderConfigurationModelForResource(t,s){if(s&&t){const i=s.getFolder(t);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,s)=>{const{contents:i,overrides:r,keys:l}=this._folderConfigurations.get(s);return t.push([s,{contents:i,overrides:r,keys:l}]),t},[])}}allKeys(){const t=new Set;return this._defaultConfiguration.freeze().keys.forEach(s=>t.add(s)),this.userConfiguration.freeze().keys.forEach(s=>t.add(s)),this._workspaceConfiguration.freeze().keys.forEach(s=>t.add(s)),this._folderConfigurations.forEach(s=>s.freeze().keys.forEach(i=>t.add(i))),[...t.values()]}getAllKeysForOverrideIdentifier(t){const s=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(t).forEach(i=>s.add(i)),this.userConfiguration.getKeysForOverrideIdentifier(t).forEach(i=>s.add(i)),this._workspaceConfiguration.getKeysForOverrideIdentifier(t).forEach(i=>s.add(i)),this._folderConfigurations.forEach(i=>i.getKeysForOverrideIdentifier(t).forEach(r=>s.add(r))),[...s.values()]}static parse(t){const s=this.parseConfigurationModel(t.defaults),i=this.parseConfigurationModel(t.user),r=this.parseConfigurationModel(t.workspace),l=t.folders.reduce((v,D)=>(v.set(m.URI.revive(D[0]),this.parseConfigurationModel(D[1])),v),new T.ResourceMap);return new E(s,i,new b,r,l,new b,new T.ResourceMap,!1)}static parseConfigurationModel(t){return new b(t.contents,t.keys,t.overrides).freeze()}}e.Configuration=E;function C(...a){if(a.length===0)return{keys:[],overrides:[]};if(a.length===1)return a[0];const t=new Set,s=new Map;for(const r of a)r.keys.forEach(l=>t.add(l)),r.overrides.forEach(([l,v])=>{const D=(0,T.getOrSet)(s,l,new Set);v.forEach(L=>D.add(L))});const i=[];return s.forEach((r,l)=>i.push([l,[...r.values()]])),{keys:[...t.values()],overrides:i}}e.mergeChanges=C;class f{constructor(t,s,i,r){this.change=t,this.previous=s,this.currentConfiguraiton=i,this.currentWorkspace=r,this._previousConfiguration=void 0;const l=new Set;t.keys.forEach(D=>l.add(D)),t.overrides.forEach(([,D])=>D.forEach(L=>l.add(L))),this.affectedKeys=[...l.values()];const v=new b;this.affectedKeys.forEach(D=>v.setValue(D,{})),this.affectedKeysTree=v.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=E.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,s){if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,t)){if(s){const i=this.previousConfiguration?this.previousConfiguration.getValue(t,s,this.previous?.workspace):void 0,r=this.currentConfiguraiton.getValue(t,s,this.currentWorkspace);return!S.equals(i,r)}return!0}return!1}doesAffectedKeysTreeContains(t,s){let i=(0,n.toValuesTree)({[s]:!0},()=>{}),r;for(;typeof i=="object"&&(r=Object.keys(i)[0]);){if(t=t[r],!t)return!1;i=i[r]}return!0}}e.ConfigurationChangeEvent=f;class c extends f{constructor(t,s,i,r){super({keys:t.allKeys(),overrides:[]},void 0,t,s);this.source=i,this.sourceConfig=r}}e.AllKeysConfigurationChangeEvent=c}),define(J[80],Z([0,1,14,6,2,17,31,164,39,27]),function(x,e,g,R,w,k,T,S,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationService=void 0;class n extends w.Disposable{constructor(d,b){super();this.settingsResource=d,this._onDidChangeConfiguration=this._register(new R.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this.userConfiguration=this._register(new S.UserSettings(this.settingsResource,void 0,k.extUriBiasedIgnorePathCase,b)),this.configuration=new S.Configuration(new S.DefaultConfigurationModel,new S.ConfigurationModel),this.reloadConfigurationScheduler=this._register(new g.RunOnceScheduler(()=>this.reloadConfiguration(),50)),this._register(m.Registry.as(h.Extensions.Configuration).onDidUpdateConfiguration(o=>this.onDidDefaultConfigurationChange(o))),this._register(this.userConfiguration.onDidChange(()=>this.reloadConfigurationScheduler.schedule()))}async initialize(){const d=await this.userConfiguration.loadConfiguration();this.configuration=new S.Configuration(new S.DefaultConfigurationModel,d)}getConfigurationData(){return this.configuration.toData()}getValue(d,b){const o=typeof d=="string"?d:void 0,u=(0,T.isConfigurationOverrides)(d)?d:(0,T.isConfigurationOverrides)(b)?b:{};return this.configuration.getValue(o,u,void 0)}updateValue(d,b,o,u){return Promise.reject(new Error("not supported"))}inspect(d){return this.configuration.inspect(d,{},void 0)}keys(){return this.configuration.keys(void 0)}async reloadConfiguration(){const d=await this.userConfiguration.loadConfiguration();this.onDidChangeUserConfiguration(d)}onDidChangeUserConfiguration(d){const b=this.configuration.toData(),o=this.configuration.compareAndUpdateLocalUserConfiguration(d);this.trigger(o,b,1)}onDidDefaultConfigurationChange(d){const b=this.configuration.toData(),o=this.configuration.compareAndUpdateDefaultConfiguration(new S.DefaultConfigurationModel,d);this.trigger(o,b,6)}trigger(d,b,o){const u=new S.ConfigurationChangeEvent(d,{data:b},this.configuration);u.source=o,u.sourceConfig=this.getTargetConfiguration(o),this._onDidChangeConfiguration.fire(u)}getTargetConfiguration(d){switch(d){case 6:return this.configuration.defaults.contents;case 1:return this.configuration.localUserConfiguration.contents}return{}}}e.ConfigurationService=n}),define(J[165],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteAuthorityResolverError=e.RemoteAuthorityResolverErrorCode=e.IRemoteAuthorityResolverService=void 0,e.IRemoteAuthorityResolverService=(0,g.createDecorator)("remoteAuthorityResolverService");var R;(function(k){k.Unknown="Unknown",k.NotAvailable="NotAvailable",k.TemporarilyNotAvailable="TemporarilyNotAvailable",k.NoResolverFound="NoResolverFound"})(R=e.RemoteAuthorityResolverErrorCode||(e.RemoteAuthorityResolverErrorCode={}));class w extends Error{constructor(T,S=R.Unknown,h){super(T);this._message=T,this._code=S,this._detail=h,this.isHandled=S===R.NotAvailable&&h===!0,typeof Object.setPrototypeOf=="function"&&Object.setPrototypeOf(this,w.prototype)}static isTemporarilyNotAvailable(T){return T instanceof w&&T._code===R.TemporarilyNotAvailable}static isNoResolverFound(T){return T instanceof w&&T._code===R.NoResolverFound}static isHandled(T){return T instanceof w&&T.isHandled}}e.RemoteAuthorityResolverError=w}),define(J[57],Z([0,1,16,130,39,4,27]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateProxyConfigurationsScope=e.asJson=e.asText=e.isSuccess=e.IRequestService=void 0,e.IRequestService=(0,k.createDecorator)("requestService");function S(o){return o.res.statusCode&&o.res.statusCode>=200&&o.res.statusCode<300||o.res.statusCode===1223}e.isSuccess=S;function h(o){return o.res.statusCode===204}async function m(o){if(!S(o))throw new Error("Server returned "+o.res.statusCode);return h(o)?null:(await(0,g.streamToBuffer)(o.stream)).toString()}e.asText=m;async function n(o){if(!S(o))throw new Error("Server returned "+o.res.statusCode);if(h(o))return null;const y=(await(0,g.streamToBuffer)(o.stream)).toString();try{return JSON.parse(y)}catch(E){throw E.message+=`:
`+y,E}}e.asJson=n;function P(o){b(o)}e.updateProxyConfigurationsScope=P;let d;function b(o){const u=T.Registry.as(w.Extensions.Configuration);d&&u.deregisterConfigurations([d]),d={id:"http",order:15,title:(0,R.localize)(0,null),type:"object",scope:o,properties:{"http.proxy":{type:"string",pattern:"^https?://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:(0,R.localize)(1,null),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,description:(0,R.localize)(2,null),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:(0,R.localize)(3,null),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[(0,R.localize)(4,null),(0,R.localize)(5,null),(0,R.localize)(6,null),(0,R.localize)(7,null)],default:"override",description:(0,R.localize)(8,null),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,description:(0,R.localize)(9,null),restricted:!0}}},u.registerConfiguration(d)}b(2)}),define(J[166],Z([0,1,16,25]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestChannelClient=e.RequestChannel=void 0;class w{constructor(S){this.service=S}listen(S,h){throw new Error("Invalid listen")}call(S,h,m){switch(h){case"request":return this.service.request(m[0],R.CancellationToken.None).then(async({res:n,stream:P})=>{const d=await(0,g.streamToBuffer)(P);return[{statusCode:n.statusCode,headers:n.headers},d]})}throw new Error("Invalid call")}}e.RequestChannel=w;class k{constructor(S){this.channel=S}async request(S,h){return k.request(this.channel,S,h)}static async request(S,h,m){const[n,P]=await S.call("request",[h]);return{res:n,stream:(0,g.bufferToStream)(P)}}}e.RequestChannelClient=k}),define(J[167],Z([0,1,168,13]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProxyAgent=void 0;function w(T,S){return T.protocol==="http:"?S.HTTP_PROXY||S.http_proxy||null:T.protocol==="https:"&&(S.HTTPS_PROXY||S.https_proxy||S.HTTP_PROXY||S.http_proxy)||null}async function k(T,S,h={}){const m=(0,g.parse)(T),n=h.proxyUrl||w(m,S);if(!n)return null;const P=(0,g.parse)(n);if(!/^https?:$/.test(P.protocol||""))return null;const d={host:P.hostname||"",port:P.port||(P.protocol==="https"?"443":"80"),auth:P.auth,rejectUnauthorized:(0,R.isBoolean)(h.strictSSL)?h.strictSSL:!0};return m.protocol==="http:"?new(await new Promise((b,o)=>{x(["http-proxy-agent"],b,o)}))(d):new(await new Promise((b,o)=>{x(["https-proxy-agent"],b,o)}))(d)}e.getProxyAgent=k}),define(J[169],Z([0,1,16,26]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getServiceMachineId=void 0;async function w(k,T,S){let h=S&&S.get("storage.serviceMachineId",0)||null;if(h)return h;try{const n=(await T.readFile(k.serviceMachineIdResource)).value.toString();h=(0,R.isUUID)(n)?n:null}catch(m){h=null}if(!h){h=(0,R.generateUuid)();try{await T.writeFile(k.serviceMachineIdResource,g.VSBuffer.fromString(h))}catch(m){}}return S&&S.store("storage.serviceMachineId",h,0,1),h}e.getServiceMachineId=w}),define(J[170],Z([0,1,14,6,2,13,107,4]),function(x,e,g,R,w,k,T,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logStorage=e.InMemoryStorageService=e.AbstractStorageService=e.StorageTarget=e.StorageScope=e.WillSaveStateReason=e.IStorageService=e.IS_NEW_KEY=void 0,e.IS_NEW_KEY="__$__isNewStorageMarker";const h="__$__targetStorageMarker";e.IStorageService=(0,S.createDecorator)("storageService");var m;(function(u){u[u.NONE=0]="NONE",u[u.SHUTDOWN=1]="SHUTDOWN"})(m=e.WillSaveStateReason||(e.WillSaveStateReason={}));var n;(function(u){u[u.GLOBAL=0]="GLOBAL",u[u.WORKSPACE=1]="WORKSPACE"})(n=e.StorageScope||(e.StorageScope={}));var P;(function(u){u[u.USER=0]="USER",u[u.MACHINE=1]="MACHINE"})(P=e.StorageTarget||(e.StorageTarget={}));class d extends w.Disposable{constructor(y={flushInterval:d.DEFAULT_FLUSH_INTERVAL}){super();this.options=y,this._onDidChangeValue=this._register(new R.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new R.PauseableEmitter),this.onDidChangeTarget=this._onDidChangeTarget.event,this._onWillSaveState=this._register(new R.Emitter),this.onWillSaveState=this._onWillSaveState.event,this.flushWhenIdleScheduler=this._register(new g.RunOnceScheduler(()=>this.doFlushWhenIdle(),this.options.flushInterval)),this.runFlushWhenIdle=this._register(new w.MutableDisposable),this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}doFlushWhenIdle(){this.runFlushWhenIdle.value=(0,g.runWhenIdle)(()=>{this.shouldFlushWhenIdle()&&this.flush(),this.flushWhenIdleScheduler.schedule()})}shouldFlushWhenIdle(){return!0}stopFlushWhenIdle(){(0,w.dispose)([this.runFlushWhenIdle,this.flushWhenIdleScheduler])}initialize(){return this.initializationPromise||(this.initializationPromise=(async()=>{await this.doInitialize(),this.flushWhenIdleScheduler.schedule()})()),this.initializationPromise}emitDidChangeValue(y,E){E===h?(y===0?this._globalKeyTargets=void 0:y===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:y})):this._onDidChangeValue.fire({scope:y,key:E,target:this.getKeyTargets(y)[E]})}emitWillSaveState(y){this._onWillSaveState.fire({reason:y})}get(y,E,C){return this.getStorage(E)?.get(y,C)}getBoolean(y,E,C){return this.getStorage(E)?.getBoolean(y,C)}getNumber(y,E,C){return this.getStorage(E)?.getNumber(y,C)}store(y,E,C,f){return(0,k.isUndefinedOrNull)(E)?(this.remove(y,C),Promise.resolve()):this.withPausedEmitters(()=>(this.updateKeyTarget(y,C,f),this.getStorage(C)?.set(y,E)))}remove(y,E){return this.withPausedEmitters(()=>(this.updateKeyTarget(y,E,void 0),this.getStorage(E)?.delete(y)))}withPausedEmitters(y){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{return y()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}keys(y,E){const C=[],f=this.getKeyTargets(y);for(const c of Object.keys(f))f[c]===E&&C.push(c);return C}updateKeyTarget(y,E,C){const f=this.getKeyTargets(E);typeof C=="number"?f[y]!==C&&(f[y]=C,this.getStorage(E)?.set(h,JSON.stringify(f))):typeof f[y]=="number"&&(delete f[y],this.getStorage(E)?.set(h,JSON.stringify(f)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(y){return y===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(y){const E=this.get(h,y);if(E)try{return JSON.parse(E)}catch(C){}return Object.create(null)}isNew(y){return this.getBoolean(e.IS_NEW_KEY,y)===!0}async flush(y=m.NONE){this._onWillSaveState.fire({reason:y}),await g.Promises.settled([this.getStorage(0)?.whenFlushed()??Promise.resolve(),this.getStorage(1)?.whenFlushed()??Promise.resolve()])}async logStorage(){const y=this.getStorage(0)?.items??new Map,E=this.getStorage(1)?.items??new Map;return o(y,E,this.getLogDetails(0)??"",this.getLogDetails(1)??"")}}e.AbstractStorageService=d,d.DEFAULT_FLUSH_INTERVAL=60*1e3;class b extends d{constructor(){super();this.globalStorage=this._register(new T.Storage(new T.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new T.Storage(new T.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(y=>this.emitDidChangeValue(1,y))),this._register(this.globalStorage.onDidChangeStorage(y=>this.emitDidChangeValue(0,y)))}getStorage(y){return y===0?this.globalStorage:this.workspaceStorage}getLogDetails(y){return y===0?"inMemory (global)":"inMemory (workspace)"}async doInitialize(){}async migrate(y){}}e.InMemoryStorageService=b;async function o(u,y,E,C){const f=l=>{try{return JSON.parse(l)}catch(v){return l}},c=new Map,a=new Map;u.forEach((l,v)=>{c.set(v,l),a.set(v,f(l))});const t=new Map,s=new Map;y.forEach((l,v)=>{t.set(v,l),s.set(v,f(l))}),console.group(`Storage: Global (path: ${E})`);let i=[];c.forEach((l,v)=>{i.push({key:v,value:l})}),console.table(i),console.groupEnd(),console.log(a),console.group(`Storage: Workspace (path: ${C})`);let r=[];t.forEach((l,v)=>{r.push({key:v,value:l})}),console.table(r),console.groupEnd(),console.log(s)}e.logStorage=o}),define(J[81],Z([0,1,3,24,7,26]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyMicrosoftInternalDomain=e.resolveCommonProperties=void 0;function T(m){if(g.platform===2&&/^penguin(\.|$)/i.test(m))return"chromebook"}async function S(m,n,P,d,b,o,u,y,E,C){const f=Object.create(null);f["common.machineId"]=u,f.sessionID=(0,k.generateUuid)()+Date.now(),f.commitHash=b,f.version=o,f["common.platformVersion"]=(n||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),f["common.platform"]=(0,g.PlatformToString)(g.platform),f["common.nodePlatform"]=R.platform,f["common.nodeArch"]=d,f["common.product"]=C||"desktop";const c=h(y||[]);c&&(f["common.msftInternal"]=c);let a=0;const t=Date.now();Object.defineProperties(f,{timestamp:{get:()=>new Date,enumerable:!0},"common.timesincesessionstart":{get:()=>Date.now()-t,enumerable:!0},"common.sequence":{get:()=>a++,enumerable:!0}}),g.isLinuxSnap&&(f["common.snap"]="true");const s=T(P);s&&(f["common.platformDetail"]=s);try{const i=await m.readFile(w.URI.file(E));f["common.source"]=i.value.toString().slice(0,30)}catch(i){}return f}e.resolveCommonProperties=S;function h(m){const n=R.env.USERDNSDOMAIN;if(!n)return!1;const P=n.toLowerCase();return m.some(d=>P===d)}e.verifyMicrosoftInternalDomain=h}),define(J[171],Z([0,1,21,11,2,20]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorEvent=void 0;var T;(function(h){function m(n,P){return n.callstack<P.callstack?-1:n.callstack>P.callstack?1:0}h.compare=m})(T=e.ErrorEvent||(e.ErrorEvent={}));class S{constructor(m,n=S.ERROR_FLUSH_TIMEOUT){this._flushHandle=-1,this._buffer=[],this._disposables=new w.DisposableStore,this._telemetryService=m,this._flushDelay=n;const P=R.errorHandler.addListener(d=>this._onErrorEvent(d));this._disposables.add((0,w.toDisposable)(P)),this.installErrorListeners()}dispose(){clearTimeout(this._flushHandle),this._flushBuffer(),this._disposables.dispose()}installErrorListeners(){}_onErrorEvent(m){if(!m)return;m.detail&&m.detail.stack&&(m=m.detail);let n=Array.isArray(m.stack)?m.stack.join(`
`):m.stack,P=m.message?m.message:(0,k.safeStringify)(m);!n||this._enqueue({msg:P,callstack:n})}_enqueue(m){const n=(0,g.binarySearch)(this._buffer,m,T.compare);n<0?(m.count=1,this._buffer.splice(~n,0,m)):(this._buffer[n].count||(this._buffer[n].count=0),this._buffer[n].count+=1),this._flushHandle===-1&&(this._flushHandle=setTimeout(()=>{this._flushBuffer(),this._flushHandle=-1},this._flushDelay))}_flushBuffer(){for(let m of this._buffer)this._telemetryService.publicLogError2("UnhandledError",m);this._buffer.length=0}}e.default=S,S.ERROR_FLUSH_TIMEOUT=5*1e3}),define(J[40],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.machineIdKey=e.lastSessionDateStorageKey=e.firstSessionDateStorageKey=e.currentSessionDateStorageKey=e.instanceStorageKey=e.ICustomEndpointTelemetryService=e.ITelemetryService=void 0,e.ITelemetryService=(0,g.createDecorator)("telemetryService"),e.ICustomEndpointTelemetryService=(0,g.createDecorator)("customEndpointTelemetryService"),e.instanceStorageKey="telemetry.instanceId",e.currentSessionDateStorageKey="telemetry.currentSessionDate",e.firstSessionDateStorageKey="telemetry.firstSessionDate",e.lastSessionDateStorageKey="telemetry.lastSessionDate",e.machineIdKey="telemetry.machineId"}),define(J[172],Z([0,1,21,14,25,11,6,2,3,7,119,28,29,12,30,40]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractExtensionTask=e.reportTelemetry=e.joinErrors=e.AbstractExtensionManagementService=e.INSTALL_ERROR_LOCAL=e.ERROR_UNKNOWN=e.INSTALL_ERROR_VALIDATING=void 0,e.INSTALL_ERROR_VALIDATING="validating",e.ERROR_UNKNOWN="unknown",e.INSTALL_ERROR_LOCAL="local";let y=class extends S.Disposable{constructor(a,t,s){super();this.galleryService=a,this.telemetryService=t,this.logService=s,this.lastReportTimestamp=0,this.installingExtensions=new Map,this.uninstallingExtensions=new Map,this._onInstallExtension=this._register(new T.Emitter),this.onInstallExtension=this._onInstallExtension.event,this._onDidInstallExtensions=this._register(new T.Emitter),this.onDidInstallExtensions=this._onDidInstallExtensions.event,this._onUninstallExtension=this._register(new T.Emitter),this.onUninstallExtension=this._onUninstallExtension.event,this._onDidUninstallExtension=this._register(new T.Emitter),this.onDidUninstallExtension=this._onDidUninstallExtension.event,this.participants=[],this._register((0,S.toDisposable)(()=>{this.installingExtensions.forEach(i=>i.cancel()),this.uninstallingExtensions.forEach(i=>i.cancel()),this.installingExtensions.clear(),this.uninstallingExtensions.clear()}))}async installFromGallery(a,t={}){if(!this.galleryService.isEnabled())throw new Error(n.localize(0,null));try{a=await this.checkAndGetCompatibleVersion(a,!t.installGivenVersion)}catch(i){throw this.logService.error((0,k.getErrorMessage)(i)),C(this.telemetryService,"extensionGallery:install",(0,d.getGalleryExtensionTelemetryData)(a),void 0,i),i}if(!await this.canInstall(a)){const i=new P.ExtensionManagementError("Not supported",e.INSTALL_ERROR_VALIDATING);throw this.logService.error("Cannot install extension as it is not supported.",a.identifier.id,i.message),C(this.telemetryService,"extensionGallery:install",(0,d.getGalleryExtensionTelemetryData)(a),void 0,i),i}const s=await this.galleryService.getManifest(a,w.CancellationToken.None);if(s===null){const i=new P.ExtensionManagementError(`Missing manifest for extension ${a.identifier.id}`,e.INSTALL_ERROR_VALIDATING);throw this.logService.error("Failed to install extension:",a.identifier.id,i.message),C(this.telemetryService,"extensionGallery:install",(0,d.getGalleryExtensionTelemetryData)(a),void 0,i),i}if(s.version!==a.version){const i=new P.ExtensionManagementError(`Cannot install '${a.identifier.id}' extension because of version mismatch in Marketplace`,e.INSTALL_ERROR_VALIDATING);throw this.logService.error(i.message),C(this.telemetryService,"extensionGallery:install",(0,d.getGalleryExtensionTelemetryData)(a),void 0,i),i}return this.installExtension(s,a,t)}async uninstall(a,t={}){return this.logService.trace("ExtensionManagementService#uninstall",a.identifier.id),this.unininstallExtension(a,t)}async reinstallFromGallery(a){if(this.logService.trace("ExtensionManagementService#reinstallFromGallery",a.identifier.id),!this.galleryService.isEnabled())throw new Error(n.localize(1,null));const t=await this.findGalleryExtension(a);if(!t)throw new Error(n.localize(2,null));await this.createUninstallExtensionTask(a,{remove:!0,versionOnly:!0}).run(),await this.installFromGallery(t)}getExtensionsReport(){const a=new Date().getTime();return(!this.reportedExtensions||a-this.lastReportTimestamp>1e3*60*5)&&(this.reportedExtensions=this.updateReportCache(),this.lastReportTimestamp=a),this.reportedExtensions}registerParticipant(a){this.participants.push(a)}async installExtension(a,t,s){if(!m.URI.isUri(t)){let D=this.installingExtensions.get(new d.ExtensionIdentifierWithVersion(t.identifier,t.version).key());if(D)return this.logService.info("Extensions is already requested to install",t.identifier.id),D.waitUntilTaskIsFinished();s={...s,installOnlyNewlyAddedFromExtensionPack:!0}}const i=[],r=[],l=this.createInstallExtensionTask(a,t,s);m.URI.isUri(t)||this.installingExtensions.set(new d.ExtensionIdentifierWithVersion(l.identifier,a.version).key(),l),this._onInstallExtension.fire({identifier:l.identifier,source:t}),this.logService.info("Installing extension:",l.identifier.id),i.push({task:l,manifest:a});let v=!1;try{if(s.donotIncludePackAndDependencies)this.logService.info("Installing the extension without checking dependencies and pack",l.identifier.id);else try{const L=await this.getAllDepsAndPackExtensionsToInstall(l.identifier,a,!!s.installOnlyNewlyAddedFromExtensionPack);for(const{gallery:p,manifest:_}of L)if(v=v||!!_.extensionDependencies?.some(A=>(0,d.areSameExtensions)({id:A},l.identifier)),this.installingExtensions.has(new d.ExtensionIdentifierWithVersion(p.identifier,p.version).key()))this.logService.info("Extension is already requested to install",p.identifier.id);else{const A=this.createInstallExtensionTask(_,p,{...s,donotIncludePackAndDependencies:!0});this.installingExtensions.set(new d.ExtensionIdentifierWithVersion(A.identifier,_.version).key(),A),this._onInstallExtension.fire({identifier:A.identifier,source:p}),this.logService.info("Installing extension:",A.identifier.id),i.push({task:A,manifest:_})}}catch(L){if(m.URI.isUri(l.source))(0,g.isNonEmptyArray)(a.extensionDependencies)&&this.logService.warn("Cannot install dependencies of extension:",l.identifier.id,L.message),(0,g.isNonEmptyArray)(a.extensionPack)&&this.logService.warn("Cannot install packed extensions of extension:",l.identifier.id,L.message);else throw this.logService.error("Error while preparing to install dependencies and extension packs of the extension:",l.identifier.id),this.logService.error(L),L}const D=i.reduce((L,{task:p,manifest:_})=>(L.set(p.identifier.id.toLowerCase(),{task:p,manifest:_}),L),new Map);for(;D.size;){let L;const p=[...D.values()].filter(({manifest:_})=>!_.extensionDependencies?.some(A=>D.has(A.toLowerCase())));p.length?L=D.size===1?p:p.filter(({task:_})=>!(_===l&&!v)):(this.logService.info("Found extensions with circular dependencies",p.map(({task:_})=>_.identifier.id)),L=[...D.values()]),await this.joinAllSettled(L.map(async({task:_})=>{const A=new Date().getTime();try{const I=await _.run();if(await this.joinAllSettled(this.participants.map(U=>U.postInstall(I,_.source,s,w.CancellationToken.None))),!m.URI.isUri(_.source)&&(C(this.telemetryService,_.operation===2?"extensionGallery:update":"extensionGallery:install",(0,d.getGalleryExtensionTelemetryData)(_.source),new Date().getTime()-A,void 0),h.isWeb&&_.operation===1))try{await this.galleryService.reportStatistic(I.manifest.publisher,I.manifest.name,I.manifest.version,"install")}catch(U){}r.push({local:I,identifier:_.identifier,operation:_.operation,source:_.source})}catch(I){throw m.URI.isUri(_.source)||C(this.telemetryService,_.operation===2?"extensionGallery:update":"extensionGallery:install",(0,d.getGalleryExtensionTelemetryData)(_.source),new Date().getTime()-A,I),this.logService.error("Error while installing the extension:",_.identifier.id),this.logService.error(I),I}finally{D.delete(_.identifier.id.toLowerCase())}}))}return r.forEach(({identifier:L})=>this.logService.info("Extension installed successfully:",L.id)),this._onDidInstallExtensions.fire(r),r.filter(({identifier:L})=>(0,d.areSameExtensions)(L,l.identifier))[0].local}catch(D){if(i.forEach(({task:L})=>L.cancel()),r.length)try{const L=await Promise.allSettled(r.map(({local:p})=>this.createUninstallExtensionTask(p,{versionOnly:!0}).run()));for(let p=0;p<L.length;p++){const _=L[p],{identifier:A}=r[p];_.status==="fulfilled"?this.logService.info("Rollback: Uninstalled extension",A.id):this.logService.warn("Rollback: Error while uninstalling extension",A.id,(0,k.getErrorMessage)(_.reason))}}catch(L){this.logService.warn("Error while rolling back extensions",(0,k.getErrorMessage)(L),r.map(({identifier:p})=>p.id))}throw this.logService.error("Failed to install extension:",l.identifier.id,(0,k.getErrorMessage)(D)),this._onDidInstallExtensions.fire(i.map(({task:L})=>({identifier:L.identifier,operation:1,source:L.source}))),D instanceof Error&&(D.name=D&&D.code?D.code:e.ERROR_UNKNOWN),D}finally{for(const{task:D,manifest:L}of i)if(!m.URI.isUri(D.source)){const p=new d.ExtensionIdentifierWithVersion(D.identifier,L.version).key();this.installingExtensions.delete(p)||this.logService.warn("Installation task is not found in the cache",p)}}}async joinAllSettled(a){const t=[],s=[],i=await Promise.allSettled(a);for(const r of i)r.status==="fulfilled"?t.push(r.value):s.push(r.reason);if(s.length)throw E(s);return t}async getAllDepsAndPackExtensionsToInstall(a,t,s){if(!this.galleryService.isEnabled())return[];let i=await this.getInstalled();const r=[a,...i.map(D=>D.identifier)],l=[],v=async(D,L)=>{const p=L.extensionDependencies||[],_=[...p];if(L.extensionPack){const A=s?i.find(I=>(0,d.areSameExtensions)(I.identifier,D)):void 0;for(const I of L.extensionPack)A&&A.manifest.extensionPack&&A.manifest.extensionPack.some(U=>(0,d.areSameExtensions)({id:U},{id:I}))||_.every(U=>!(0,d.areSameExtensions)({id:U},{id:I}))&&_.push(I)}if(_.length){const A=[...r,...l.map(U=>U.gallery.identifier)],I=_.filter(U=>A.every(B=>!(0,d.areSameExtensions)(B,{id:U})));if(I.length){const U=await this.galleryService.query({names:I,pageSize:_.length},w.CancellationToken.None);for(const B of U.firstPage){if(A.find($=>(0,d.areSameExtensions)($,B.identifier)))continue;if(!p.some($=>(0,d.areSameExtensions)({id:$},B.identifier))&&!await this.canInstall(B)){this.logService.info("Skipping the packed extension as it cannot be installed",B.identifier.id);continue}const Q=await this.checkAndGetCompatibleVersion(B,!0),O=await this.galleryService.getManifest(Q,w.CancellationToken.None);if(O===null)throw new P.ExtensionManagementError(`Missing manifest for extension ${Q.identifier.id}`,e.INSTALL_ERROR_VALIDATING);l.push({gallery:Q,manifest:O}),await v(Q.identifier,O)}}}};return await v(a,t),i=await this.getInstalled(),l.filter(D=>!i.some(L=>(0,d.areSameExtensions)(L.identifier,D.gallery.identifier)))}async checkAndGetCompatibleVersion(a,t){if(await this.isMalicious(a))throw new P.ExtensionManagementError(n.localize(3,null,a.identifier.id),P.INSTALL_ERROR_MALICIOUS);let s=null;if(await this.galleryService.isExtensionCompatible(a,P.CURRENT_TARGET_PLATFORM)&&(s=a),!s&&t&&(s=await this.galleryService.getCompatibleExtension(a,P.CURRENT_TARGET_PLATFORM)),!s)throw new P.ExtensionManagementError(n.localize(4,null,a.identifier.id,o.default.version),P.INSTALL_ERROR_INCOMPATIBLE);return s}async isMalicious(a){const t=await this.getExtensionsReport();return(0,d.getMaliciousExtensionsSet)(t).has(a.identifier.id)}async unininstallExtension(a,t){const s=this.uninstallingExtensions.get(a.identifier.id.toLowerCase());if(s)return this.logService.info("Extensions is already requested to uninstall",a.identifier.id),s.waitUntilTaskIsFinished();const i=(D,L)=>{const p=this.createUninstallExtensionTask(D,L);return this.uninstallingExtensions.set(p.extension.identifier.id.toLowerCase(),p),this.logService.info("Uninstalling extension:",D.identifier.id),this._onUninstallExtension.fire(D.identifier),p},r=(D,L)=>{L?this.logService.error("Failed to uninstall extension:",D.identifier.id,L.message):this.logService.info("Successfully uninstalled extension:",D.identifier.id),C(this.telemetryService,"extensionGallery:uninstall",(0,d.getLocalExtensionTelemetryData)(D),void 0,L),this._onDidUninstallExtension.fire({identifier:D.identifier,error:L?.code})},l=[],v=[];try{l.push(i(a,{}));const D=await this.getInstalled(1);if(t.donotIncludePack)this.logService.info("Uninstalling the extension without including packed extension",a.identifier.id);else{const L=this.getAllPackExtensionsToUninstall(a,D);for(const p of L)this.uninstallingExtensions.has(p.identifier.id.toLowerCase())?this.logService.info("Extensions is already requested to uninstall",p.identifier.id):l.push(i(p,{}))}t.donotCheckDependents?this.logService.info("Uninstalling the extension without checking dependents",a.identifier.id):this.checkForDependents(l.map(L=>L.extension),D,a),await this.joinAllSettled(l.map(async L=>{try{if(await L.run(),await this.joinAllSettled(this.participants.map(p=>p.postUninstall(L.extension,t,w.CancellationToken.None))),L.extension.identifier.uuid)try{await this.galleryService.reportStatistic(L.extension.manifest.publisher,L.extension.manifest.name,L.extension.manifest.version,"uninstall")}catch(p){}r(L.extension)}catch(p){const _=p instanceof P.ExtensionManagementError?p:new P.ExtensionManagementError((0,k.getErrorMessage)(p),e.ERROR_UNKNOWN);throw r(L.extension,_),_}finally{v.push(L)}}))}catch(D){const L=D instanceof P.ExtensionManagementError?D:new P.ExtensionManagementError((0,k.getErrorMessage)(D),e.ERROR_UNKNOWN);for(const p of l){try{p.cancel()}catch(_){}v.includes(p)||r(p.extension,L)}throw L}finally{for(const D of l)this.uninstallingExtensions.delete(D.extension.identifier.id.toLowerCase())||this.logService.warn("Uninstallation task is not found in the cache",D.extension.identifier.id)}}checkForDependents(a,t,s){for(const i of a){const r=this.getDependents(i,t);if(r.length){const l=r.filter(v=>!a.some(D=>(0,d.areSameExtensions)(D.identifier,v.identifier)));if(l.length)throw new Error(this.getDependentsErrorMessage(i,l,s))}}}getDependentsErrorMessage(a,t,s){return s===a?t.length===1?n.localize(5,null,s.manifest.displayName||s.manifest.name,t[0].manifest.displayName||t[0].manifest.name):t.length===2?n.localize(6,null,s.manifest.displayName||s.manifest.name,t[0].manifest.displayName||t[0].manifest.name,t[1].manifest.displayName||t[1].manifest.name):n.localize(7,null,s.manifest.displayName||s.manifest.name,t[0].manifest.displayName||t[0].manifest.name,t[1].manifest.displayName||t[1].manifest.name):t.length===1?n.localize(8,null,s.manifest.displayName||s.manifest.name,a.manifest.displayName||a.manifest.name,t[0].manifest.displayName||t[0].manifest.name):t.length===2?n.localize(9,null,s.manifest.displayName||s.manifest.name,a.manifest.displayName||a.manifest.name,t[0].manifest.displayName||t[0].manifest.name,t[1].manifest.displayName||t[1].manifest.name):n.localize(10,null,s.manifest.displayName||s.manifest.name,a.manifest.displayName||a.manifest.name,t[0].manifest.displayName||t[0].manifest.name,t[1].manifest.displayName||t[1].manifest.name)}getAllPackExtensionsToUninstall(a,t,s=[]){if(s.indexOf(a)!==-1)return[];s.push(a);const i=a.manifest.extensionPack?a.manifest.extensionPack:[];if(i.length){const r=t.filter(v=>!v.isBuiltin&&i.some(D=>(0,d.areSameExtensions)({id:D},v.identifier))),l=[];for(const v of r)l.push(...this.getAllPackExtensionsToUninstall(v,t,s));return[...r,...l]}return[]}getDependents(a,t){return t.filter(s=>s.manifest.extensionDependencies&&s.manifest.extensionDependencies.some(i=>(0,d.areSameExtensions)({id:i},a.identifier)))}async findGalleryExtension(a){if(a.identifier.uuid){const t=await this.findGalleryExtensionById(a.identifier.uuid);return t||this.findGalleryExtensionByName(a.identifier.id)}return this.findGalleryExtensionByName(a.identifier.id)}async findGalleryExtensionById(a){return(await this.galleryService.query({ids:[a],pageSize:1},w.CancellationToken.None)).firstPage[0]}async findGalleryExtensionByName(a){return(await this.galleryService.query({names:[a],pageSize:1},w.CancellationToken.None)).firstPage[0]}async updateReportCache(){try{this.logService.trace("ExtensionManagementService.refreshReportedCache");const a=await this.galleryService.getExtensionsReport();return this.logService.trace(`ExtensionManagementService.refreshReportedCache - got ${a.length} reported extensions from service`),a}catch(a){return this.logService.trace("ExtensionManagementService.refreshReportedCache - failed to get extension report"),[]}}};y=we([ge(0,P.IExtensionGalleryService),ge(1,u.ITelemetryService),ge(2,b.ILogService)],y),e.AbstractExtensionManagementService=y;function E(c){const a=Array.isArray(c)?c:[c];return a.length===1?a[0]instanceof Error?a[0]:new Error(a[0]):a.reduce((t,s)=>new Error(`${t.message}${t.message?",":""}${s instanceof Error?s.message:s}`),new Error(""))}e.joinErrors=E;function C(c,a,t,s,i){const r=i?i instanceof P.ExtensionManagementError?i.code:e.ERROR_UNKNOWN:void 0;c.publicLogError(a,{...t,success:!i,duration:s,errorcode:r})}e.reportTelemetry=C;class f{constructor(){this.barrier=new R.Barrier}async waitUntilTaskIsFinished(){return await this.barrier.wait(),this.cancellablePromise}async run(){return this.cancellablePromise||(this.cancellablePromise=(0,R.createCancelablePromise)(a=>this.doRun(a))),this.barrier.open(),this.cancellablePromise}cancel(){this.cancellablePromise||(this.cancellablePromise=(0,R.createCancelablePromise)(a=>new Promise((t,s)=>{const i=a.onCancellationRequested(()=>{i.dispose(),s((0,k.canceled)())})})),this.barrier.open()),this.cancellablePromise.cancel()}}e.AbstractExtensionTask=f}),define(J[82],Z([0,1,21,25,11,20,3,7,23,28,29,51,19,4,12,46,57,169,170,40]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y,E,C,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveMarketplaceHeaders=e.ExtensionGalleryService=void 0;var c;(function(N){N[N.None=0]="None",N[N.IncludeVersions=1]="IncludeVersions",N[N.IncludeFiles=2]="IncludeFiles",N[N.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",N[N.IncludeSharedAccounts=8]="IncludeSharedAccounts",N[N.IncludeVersionProperties=16]="IncludeVersionProperties",N[N.ExcludeNonValidated=32]="ExcludeNonValidated",N[N.IncludeInstallationTargets=64]="IncludeInstallationTargets",N[N.IncludeAssetUri=128]="IncludeAssetUri",N[N.IncludeStatistics=256]="IncludeStatistics",N[N.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly",N[N.Unpublished=4096]="Unpublished"})(c||(c={}));function a(...N){return String(N.reduce((F,q)=>F|q,0))}var t;(function(N){N[N.Tag=1]="Tag",N[N.ExtensionId=4]="ExtensionId",N[N.Category=5]="Category",N[N.ExtensionName=7]="ExtensionName",N[N.Target=8]="Target",N[N.Featured=9]="Featured",N[N.SearchText=10]="SearchText",N[N.ExcludeWithFlags=12]="ExcludeWithFlags"})(t||(t={}));const s={Icon:"Microsoft.VisualStudio.Services.Icons.Default",Details:"Microsoft.VisualStudio.Services.Content.Details",Changelog:"Microsoft.VisualStudio.Services.Content.Changelog",Manifest:"Microsoft.VisualStudio.Code.Manifest",VSIX:"Microsoft.VisualStudio.Services.VSIXPackage",License:"Microsoft.VisualStudio.Services.Content.License",Repository:"Microsoft.VisualStudio.Services.Links.Source"},i={Dependency:"Microsoft.VisualStudio.Code.ExtensionDependencies",ExtensionPack:"Microsoft.VisualStudio.Code.ExtensionPack",Engine:"Microsoft.VisualStudio.Code.Engine",LocalizedLanguages:"Microsoft.VisualStudio.Code.LocalizedLanguages",WebExtension:"Microsoft.VisualStudio.Code.WebExtension"},l={pageNumber:1,pageSize:10,sortBy:0,sortOrder:0,flags:c.None,criteria:[],assetTypes:[]};class v{constructor(F=l){this.state=F}get pageNumber(){return this.state.pageNumber}get pageSize(){return this.state.pageSize}get sortBy(){return this.state.sortBy}get sortOrder(){return this.state.sortOrder}get flags(){return this.state.flags}withPage(F,q=this.state.pageSize){return new v({...this.state,pageNumber:F,pageSize:q})}withFilter(F,...q){const H=[...this.state.criteria,...q.length?q.map(Y=>({filterType:F,value:Y})):[{filterType:F}]];return new v({...this.state,criteria:H})}withSortBy(F){return new v({...this.state,sortBy:F})}withSortOrder(F){return new v({...this.state,sortOrder:F})}withFlags(...F){return new v({...this.state,flags:F.reduce((q,H)=>q|H,0)})}withAssetTypes(...F){return new v({...this.state,assetTypes:F})}get raw(){const{criteria:F,pageNumber:q,pageSize:H,sortBy:Y,sortOrder:te,flags:oe,assetTypes:se}=this.state;return{filters:[{criteria:F,pageNumber:q,pageSize:H,sortBy:Y,sortOrder:te}],assetTypes:se,flags:oe}}get searchText(){const F=this.state.criteria.filter(q=>q.filterType===t.SearchText)[0];return F&&F.value?F.value:""}get telemetryData(){return{filterTypes:this.state.criteria.map(F=>String(F.filterType)),sortBy:String(this.sortBy),sortOrder:String(this.sortOrder)}}}function D(N,F){const q=(N||[]).filter(H=>H.statisticName===F)[0];return q?q.value:0}function L(N){const F="Microsoft.VisualStudio.Code.Translation.";return N.files.filter(H=>H.assetType.indexOf(F)===0).reduce((H,Y)=>{const te=I(N,Y.assetType);return te&&H.push([Y.assetType.substring(F.length),te]),H},[])}function p(N){if(N.properties){const F=N.properties.filter(Y=>Y.key===s.Repository),q=new RegExp("((git|ssh|http(s)?)|(git@[\\w.]+))(:(//)?)([\\w.@:/\\-~]+)(.git)(/)?"),H=F.filter(Y=>q.test(Y.value))[0];return H?{uri:H.value,fallbackUri:H.value}:null}return I(N,s.Repository)}function _(N){return{uri:`${N.fallbackAssetUri}/${s.VSIX}?redirect=true${N.targetPlatform?`&targetPlatform=${N.targetPlatform}`:""}`,fallbackUri:`${N.fallbackAssetUri}/${s.VSIX}${N.targetPlatform?`?targetPlatform=${N.targetPlatform}`:""}`}}function A(N){const F=I(N,s.Icon);if(F)return F;const q=m.DefaultIconPath;return{uri:q,fallbackUri:q}}function I(N,F){return N.files.filter(H=>H.assetType===F)[0]?{uri:`${N.assetUri}/${F}`,fallbackUri:`${N.fallbackAssetUri}/${F}`}:null}function U(N,F){const q=N.properties?N.properties.filter(Y=>Y.key===F):[],H=q.length>0&&q[0].value;return H?H.split(",").map(Y=>(0,n.adoptToGalleryExtensionId)(Y)):[]}function B(N){const F=N.properties?N.properties.filter(q=>q.key===i.Engine):[];return F.length>0&&F[0].value||""}function ee(N){const F=N.properties?N.properties.filter(H=>H.key===i.LocalizedLanguages):[],q=F.length>0&&F[0].value||"";return q?q.split(","):[]}function Q(N){return N.indexOf("preview")!==-1}function O(N){return N.targetPlatform?(0,m.toTargetPlatform)(N.targetPlatform):"undefined"}function $(N){const F=(0,g.distinct)(N.versions.map(O)),q=!!N.tags?.includes(m.WEB_EXTENSION_TAG),H=F.indexOf("web");return q?H===-1&&F.push("web"):H!==-1&&F.splice(H,1),F}function W(N,F){return F==="web"&&!N.includes("web")}function K(N,F,q){if(W(F,q))return!1;if(N==="undefined"||N==="universal")return!0;if(N==="unknown")return!1;if(N===q)return!0;switch(q){case"win32-x64":return N==="win32-ia32";case"win32-arm64":return N==="win32-ia32";default:return!1}}function V(N,F,q,H){const Y=$(N);let te=N.versions[0];return te=N.versions.find(oe=>oe.version===te.version&&K(O(oe),Y,m.CURRENT_TARGET_PLATFORM))||te,M(N,te,Y,F,q,H)}function M(N,F,q,H,Y,te){const oe={manifest:I(F,s.Manifest),readme:I(F,s.Details),changelog:I(F,s.Changelog),license:I(F,s.License),repository:p(F),download:_(F),icon:A(F),coreTranslations:L(F)};return{identifier:{id:(0,n.getGalleryExtensionId)(N.publisher.publisherName,N.extensionName),uuid:N.extensionId},name:N.extensionName,version:F.version,displayName:N.displayName,publisherId:N.publisher.publisherId,publisher:N.publisher.publisherName,publisherDisplayName:N.publisher.displayName,description:N.shortDescription||"",installCount:D(N.statistics,"install"),rating:D(N.statistics,"averagerating"),ratingCount:D(N.statistics,"ratingcount"),categories:N.categories||[],tags:N.tags||[],releaseDate:Date.parse(N.releaseDate),lastUpdated:Date.parse(N.lastUpdated),allTargetPlatforms:q,assets:oe,properties:{dependencies:U(F,i.Dependency),extensionPack:U(F,i.ExtensionPack),engine:B(F),localizedLanguages:ee(F),targetPlatform:O(F)},preview:Q(N.flags),telemetryData:{index:(Y.pageNumber-1)*Y.pageSize+H,querySource:te}}}let G=class{constructor(F,q,H,Y,te,oe,se){this.requestService=F,this.logService=q,this.environmentService=H,this.telemetryService=Y,this.fileService=te,this.productService=oe;const ce=oe.extensionsGallery;this.extensionsGalleryUrl=ce&&ce.serviceUrl,this.extensionsControlUrl=ce&&ce.controlUrl,this.commonHeadersPromise=z(oe.version,this.environmentService,this.fileService,se)}api(F=""){return`${this.extensionsGalleryUrl}${F}`}isEnabled(){return!!this.extensionsGalleryUrl}async getExtensions(F,q){const H=[];let Y=new v().withFlags(c.IncludeAssetUri,c.IncludeStatistics,c.IncludeCategoryAndTags,c.IncludeFiles,c.IncludeVersionProperties).withPage(1,F.length).withFilter(t.Target,"Microsoft.VisualStudio.Code").withFilter(t.ExtensionName,...F.map(({id:oe})=>oe.toLowerCase()));F.every(oe=>!oe.version)&&(Y=Y.withFlags(c.IncludeAssetUri,c.IncludeStatistics,c.IncludeCategoryAndTags,c.IncludeFiles,c.IncludeVersionProperties,c.IncludeLatestVersionOnly));const{galleryExtensions:te}=await this.queryGallery(Y,R.CancellationToken.None);for(let oe=0;oe<te.length;oe++){const se=te[oe];if(!se.versions.length)continue;const ce=(0,n.getGalleryExtensionId)(se.publisher.publisherName,se.extensionName),he=F.find(me=>(0,n.areSameExtensions)(me,{id:ce}))?.version;if(he){const me=se.versions.find(De=>De.version===he);me&&H.push(M(se,me,$(se),oe,Y))}else H.push(V(se,oe,Y))}return H}async getCompatibleExtension(F,q){const H=(0,m.isIExtensionIdentifier)(F)?null:F;if(H){if(W(H.allTargetPlatforms,q))return null;if(await this.isExtensionCompatible(H,q))return H}const{id:Y,uuid:te}=H?H.identifier:F;let oe=new v().withFlags(c.IncludeAssetUri,c.IncludeStatistics,c.IncludeCategoryAndTags,c.IncludeFiles,c.IncludeVersionProperties).withPage(1,1).withFilter(t.Target,"Microsoft.VisualStudio.Code");te?oe=oe.withFilter(t.ExtensionId,te):oe=oe.withFilter(t.ExtensionName,Y);const{galleryExtensions:se}=await this.queryGallery(oe,R.CancellationToken.None),[ce]=se;if(!ce||!ce.versions.length)return null;const he=$(ce);if(W(he,q))return null;for(let me of ce.versions){if(!B(me)){const De=await this.getEngine(me);me={...me,properties:[...me.properties||[],{key:i.Engine,value:De}]}}if(await this.isRawExtensionVersionCompatible(me,he,q))return M(ce,me,he,0,oe)}return null}async isExtensionCompatible(F,q){if(!K(F.properties.targetPlatform,F.allTargetPlatforms,q))return!1;let H=F.properties.engine;if(!H){const Y=await this.getManifest(F,R.CancellationToken.None);if(!Y)throw new Error("Manifest was not found");H=Y.engines.vscode}return(0,P.isEngineValid)(H,this.productService.version,this.productService.date)}async isRawExtensionVersionCompatible(F,q,H){if(!K(O(F),q,H))return!1;const Y=await this.getEngine(F);return(0,P.isEngineValid)(Y,this.productService.version,this.productService.date)}async query(F,q){const H=R.CancellationToken.isCancellationToken(F)?{}:F,Y=R.CancellationToken.isCancellationToken(F)?F:q;if(!this.isEnabled())throw new Error("No extension gallery service configured.");let te=H.text||"";const oe=(0,k.getOrDefault)(H,Oe=>Oe.pageSize,50);let se=new v().withFlags(c.IncludeLatestVersionOnly,c.IncludeAssetUri,c.IncludeStatistics,c.IncludeCategoryAndTags,c.IncludeFiles,c.IncludeVersionProperties).withPage(1,oe).withFilter(t.Target,"Microsoft.VisualStudio.Code");te?(te=te.replace(/\bcategory:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(Oe,Ce,Re)=>(se=se.withFilter(t.Category,Re||Ce),"")),te=te.replace(/\btag:("([^"]*)"|([^"]\S*))(\s+|\b|$)/g,(Oe,Ce,Re)=>(se=se.withFilter(t.Tag,Re||Ce),"")),te=te.replace(/\bfeatured(\s+|\b|$)/g,()=>(se=se.withFilter(t.Featured),"")),te=te.trim(),te&&(te=te.length<200?te:te.substring(0,200),se=se.withFilter(t.SearchText,te)),se=se.withSortBy(0)):H.ids?se=se.withFilter(t.ExtensionId,...H.ids):H.names?se=se.withFilter(t.ExtensionName,...H.names):se=se.withSortBy(4),typeof H.sortBy=="number"&&(se=se.withSortBy(H.sortBy)),typeof H.sortOrder=="number"&&(se=se.withSortOrder(H.sortOrder));const{galleryExtensions:ce,total:he}=await this.queryGallery(se,Y),me=ce.map((Oe,Ce)=>V(Oe,Ce,se,H.source)),De=async(Oe,Ce)=>{if(Ce.isCancellationRequested)throw(0,w.canceled)();const Re=se.withPage(Oe+1),{galleryExtensions:Me}=await this.queryGallery(Re,Ce);return Me.map((pe,be)=>V(pe,be,Re,H.source))};return{firstPage:me,total:he,pageSize:se.pageSize,getPage:De}}async queryGallery(F,q){if(!this.isEnabled())throw new Error("No extension gallery service configured.");F=F.withFlags(F.flags,c.ExcludeNonValidated).withFilter(t.ExcludeWithFlags,a(c.Unpublished));const H=await this.commonHeadersPromise,Y=JSON.stringify(F.raw),te={...H,"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Accept-Encoding":"gzip","Content-Length":String(Y.length)},oe=new Date().getTime();let se,ce,he=0;try{if(se=await this.requestService.request({type:"POST",url:this.api("/extensionquery"),data:Y,headers:te},q),se.res.statusCode&&se.res.statusCode>=400&&se.res.statusCode<500)return{galleryExtensions:[],total:he};const me=await(0,y.asJson)(se);if(me){const De=me.results[0],Oe=De.extensions,Ce=De.resultMetadata&&De.resultMetadata.filter(Re=>Re.metadataType==="ResultCount")[0];return he=Ce&&Ce.metadataItems.filter(Re=>Re.name==="TotalCount")[0].count||0,{galleryExtensions:Oe,total:he}}return{galleryExtensions:[],total:he}}catch(me){throw ce=me,me}finally{this.telemetryService.publicLog2("galleryService:query",{...F.telemetryData,requestBodySize:String(Y.length),duration:new Date().getTime()-oe,success:!!se&&(0,y.isSuccess)(se),responseBodySize:se?.res.headers["Content-Length"],statusCode:se?String(se.res.statusCode):void 0,errorCode:ce?(0,w.isPromiseCanceledError)(ce)?"canceled":(0,w.getErrorMessage)(ce).startsWith("XHR timeout")?"timeout":"failed":void 0,count:String(he)})}}async reportStatistic(F,q,H,Y){if(!this.isEnabled())return;const te=T.isWeb?this.api(`/itemName/${F}.${q}/version/${H}/statType/${Y==="install"?"1":"3"}/vscodewebextension`):this.api(`/publishers/${F}/extensions/${q}/${H}/stats?statType=${Y}`),oe=T.isWeb?"api-version=6.1-preview.1":"*/*;api-version=4.0-preview.1",ce={...await this.commonHeadersPromise,Accept:oe};try{await this.requestService.request({type:"POST",url:te,headers:ce},R.CancellationToken.None)}catch(he){}}async download(F,q,H){this.logService.trace("ExtensionGalleryService#download",F.identifier.id);const Y=(0,n.getGalleryExtensionTelemetryData)(F),te=new Date().getTime(),oe=me=>this.telemetryService.publicLog("galleryService:downloadVSIX",{...Y,duration:me}),se=H===1?"install":H===2?"update":"",ce=se?{uri:`${F.assets.download.uri}${S.URI.parse(F.assets.download.uri).query?"&":"?"}${se}=true`,fallbackUri:`${F.assets.download.fallbackUri}${S.URI.parse(F.assets.download.fallbackUri).query?"&":"?"}${se}=true`}:F.assets.download,he=await this.getAsset(ce);await this.fileService.writeFile(q,he.stream),oe(new Date().getTime()-te)}async getReadme(F,q){if(F.assets.readme){const H=await this.getAsset(F.assets.readme,{},q);return await(0,y.asText)(H)||""}return""}async getManifest(F,q){if(F.assets.manifest){const H=await this.getAsset(F.assets.manifest,{},q),Y=await(0,y.asText)(H);return Y?JSON.parse(Y):null}return null}async getManifestFromRawExtensionVersion(F,q){const H=I(F,s.Manifest);if(!H)throw new Error("Manifest was not found");const Y={"Accept-Encoding":"gzip"},te=await this.getAsset(H,{headers:Y});return await(0,y.asJson)(te)}async getCoreTranslation(F,q){const H=F.assets.coreTranslations.filter(Y=>Y[0]===q.toUpperCase())[0];if(H){const Y=await this.getAsset(H[1]),te=await(0,y.asText)(Y);return te?JSON.parse(te):null}return null}async getChangelog(F,q){if(F.assets.changelog){const H=await this.getAsset(F.assets.changelog,{},q);return await(0,y.asText)(H)||""}return""}async getAllCompatibleVersions(F,q){let H=new v().withFlags(c.IncludeVersions,c.IncludeCategoryAndTags,c.IncludeFiles,c.IncludeVersionProperties).withPage(1,1).withFilter(t.Target,"Microsoft.VisualStudio.Code");F.identifier.uuid?H=H.withFilter(t.ExtensionId,F.identifier.uuid):H=H.withFilter(t.ExtensionName,F.identifier.id);const{galleryExtensions:Y}=await this.queryGallery(H,R.CancellationToken.None);if(!Y.length)return[];const te=$(Y[0]);if(W(te,q))return[];const oe=[];for(const se of Y[0].versions)try{await this.isRawExtensionVersionCompatible(se,te,q)&&oe.push({version:se.version,date:se.lastUpdated})}catch(ce){}return oe}async getAsset(F,q={},H=R.CancellationToken.None){const Y=await this.commonHeadersPromise,te={type:"GET"},oe={...Y,...q.headers||{}};q={...q,...te,headers:oe};const se=F.uri,ce=F.fallbackUri,he={...q,url:se};try{const me=await this.requestService.request(he,H);if(me.res.statusCode===200)return me;const De=await(0,y.asText)(me);throw new Error(`Expected 200, got back ${me.res.statusCode} instead.

${De}`)}catch(me){if((0,w.isPromiseCanceledError)(me))throw me;const De=(0,w.getErrorMessage)(me);this.telemetryService.publicLog2("galleryService:cdnFallback",{url:se,message:De});const Oe={...q,url:ce};return this.requestService.request(Oe,H)}}async getEngine(F){let q=B(F);if(!q){const H=await this.getManifestFromRawExtensionVersion(F,R.CancellationToken.None);if(!H)throw new Error("Manifest was not found");q=H.engines.vscode}return q}async getExtensionsReport(){if(!this.isEnabled())throw new Error("No extension gallery service configured.");if(!this.extensionsControlUrl)return[];const F=await this.requestService.request({type:"GET",url:this.extensionsControlUrl},R.CancellationToken.None);if(F.res.statusCode!==200)throw new Error("Could not get extensions report.");const q=await(0,y.asJson)(F),H=new Map;if(q)for(const Y of q.malicious){const te=H.get(Y)||{id:{id:Y},malicious:!0,slow:!1};te.malicious=!0,H.set(Y,te)}return[...H.values()]}};G=we([ge(0,y.IRequestService),ge(1,o.ILogService),ge(2,h.IEnvironmentService),ge(3,f.ITelemetryService),ge(4,d.IFileService),ge(5,u.IProductService),ge(6,(0,b.optional)(C.IStorageService))],G),e.ExtensionGalleryService=G;async function z(N,F,q,H){const Y={"X-Market-Client-Id":`VSCode ${N}`,"User-Agent":`VSCode ${N}`},te=await(0,E.getServiceMachineId)(F,q,H);return Y["X-Market-User-Id"]=te,Y}e.resolveMarketplaceHeaders=z}),define(J[83],Z([0,1,2,20,18,131,31,39,4,30,27]),function(x,e,g,R,w,k,T,S,h,m,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryService=void 0;let P=class{constructor(o,u){this._configurationService=u,this._experimentProperties={},this._disposables=new g.DisposableStore,this._cleanupPatterns=[],this._appender=o.appender,this._commonProperties=o.commonProperties||Promise.resolve({}),this._piiPaths=o.piiPaths||[],this._userOptIn=!0,this._enabled=!0,this.sendErrorTelemetry=!!o.sendErrorTelemetry,this._cleanupPatterns=[/file:\/\/\/.*?\/resources\/app\//gi];for(let y of this._piiPaths)this._cleanupPatterns.push(new RegExp((0,w.escapeRegExpCharacters)(y),"gi"));this._configurationService&&(this._updateUserOptIn(),this._configurationService.onDidChangeConfiguration(this._updateUserOptIn,this,this._disposables),this.publicLog2("optInStatus",{optIn:this._userOptIn}),this._commonProperties.then(y=>{const E=/^[a-f0-9]+$/i.test(y["common.machineId"]);this.publicLog2("machineIdFallback",{usingFallbackGuid:!E})}))}setExperimentProperty(o,u){this._experimentProperties[o]=u}setEnabled(o){this._enabled=o}_updateUserOptIn(){const o=this._configurationService?.getValue(d);this._userOptIn=o?o.enableTelemetry:this._userOptIn}get isOptedIn(){return this._userOptIn&&this._enabled}async getTelemetryInfo(){const o=await this._commonProperties;let u=o.sessionID,y=o["common.instanceId"],E=o["common.machineId"],C=o["common.firstSessionDate"],f=o["common.msftInternal"];return{sessionId:u,instanceId:y,machineId:E,firstSessionDate:C,msftInternal:f}}dispose(){this._disposables.dispose()}publicLog(o,u,y){return this.isOptedIn?this._commonProperties.then(E=>{u=(0,R.mixin)(u,E),u=(0,R.mixin)(u,this._experimentProperties),u=(0,R.cloneAndChange)(u,C=>{if(typeof C=="string")return this._cleanupInfo(C,y)}),this._appender.log(o,u)},E=>{console.error(E)}):Promise.resolve(void 0)}publicLog2(o,u,y){return this.publicLog(o,u,y)}publicLogError(o,u){return this.sendErrorTelemetry?this.publicLog(o,u,!0):Promise.resolve(void 0)}publicLogError2(o,u){return this.publicLogError(o,u)}_cleanupInfo(o,u){let y=o;if(u){const E=[];for(let a of this._cleanupPatterns)for(;;){const t=a.exec(o);if(!t)break;E.push([t.index,a.lastIndex])}const C=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,f=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let c=0;for(y="";;){const a=f.exec(o);if(!a)break;!C.test(a[0])&&E.every(([t,s])=>a.index<t||a.index>=s)&&(y+=o.substring(c,a.index)+"<REDACTED: user-file-path>",c=f.lastIndex)}c<o.length&&(y+=o.substr(c))}for(let E of this._cleanupPatterns)y=y.replace(E,"");return y}};P.IDLE_START_EVENT_NAME="UserIdleStart",P.IDLE_STOP_EVENT_NAME="UserIdleStop",P=we([ge(1,(0,h.optional)(T.IConfigurationService))],P),e.TelemetryService=P;const d="telemetry";n.Registry.as(S.Extensions.Configuration).registerConfiguration({id:d,order:110,type:"object",title:(0,k.localize)(0,null),properties:{"telemetry.enableTelemetry":{type:"boolean",markdownDescription:m.default.privacyStatementUrl?(0,k.localize)(2,null,m.default.nameLong,m.default.privacyStatementUrl):(0,k.localize)(1,null,m.default.nameLong),default:!0,restricted:!0,scope:1,tags:["usesOnlineServices","telemetry"]}}})}),define(J[47],Z([0,1,14,20,13,31]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanRemoteAuthority=e.validateTelemetryData=e.configurationTelemetry=e.NullAppender=e.combinedAppender=e.NullEndpointTelemetryService=e.NullTelemetryService=void 0,e.NullTelemetryService=new class{constructor(){this.sendErrorTelemetry=!1,this.isOptedIn=!0}publicLog(o,u){return Promise.resolve(void 0)}publicLog2(o,u){return this.publicLog(o,u)}publicLogError(o,u){return Promise.resolve(void 0)}publicLogError2(o,u){return this.publicLogError(o,u)}setExperimentProperty(){}setEnabled(){}getTelemetryInfo(){return Promise.resolve({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId",firstSessionDate:"someValue.firstSessionDate"})}};class T{async publicLog(u,y,E){}async publicLogError(u,y,E){}}e.NullEndpointTelemetryService=T;function S(...o){return{log:(u,y)=>o.forEach(E=>E.log(u,y)),flush:()=>g.Promises.settled(o.map(u=>u.flush()))}}e.combinedAppender=S,e.NullAppender={log:()=>null,flush:()=>Promise.resolve(null)};function h(o,u){return u.onDidChangeConfiguration(y=>{y.source!==6&&o.publicLog2("updateConfiguration",{configurationSource:(0,k.ConfigurationTargetToString)(y.source),configurationKeys:d(y.sourceConfig)})})}e.configurationTelemetry=h;function m(o){const u=Object.create(null),y=Object.create(null),E=Object.create(null);P(o,E);for(let C in E){C=C.length>150?C.substr(C.length-149):C;const f=E[C];typeof f=="number"?y[C]=f:typeof f=="boolean"?y[C]=f?1:0:typeof f=="string"?u[C]=f.substring(0,1023):typeof f!="undefined"&&f!==null&&(u[C]=f)}return{properties:u,measurements:y}}e.validateTelemetryData=m;function n(o){if(!o)return"none";let u="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach(E=>{o.indexOf(`${E}+`)===0&&(u=E)}),u}e.cleanRemoteAuthority=n;function P(o,u,y=0,E){if(!!o)for(let C of Object.getOwnPropertyNames(o)){const f=o[C],c=E?E+C:C;Array.isArray(f)?u[c]=(0,R.safeStringify)(f):f instanceof Date?u[c]=f.toISOString():(0,w.isObject)(f)?y<2?P(f,u,y+1,c+"."):u[c]=(0,R.safeStringify)(f):u[c]=f}}function d(o){if(!o)return[];const u=[];return b(u,"",o),u}function b(o,u,y){y&&typeof y=="object"&&!Array.isArray(y)?Object.keys(y).forEach(E=>b(o,u?`${u}.${E}`:E,y[E])):o.push(u)}}),define(J[173],Z([0,1,2,23,12,47]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryLogAppender=void 0;let T=class extends g.Disposable{constructor(h,m,n=""){super();this.prefix=n;const P=h.getLogger(m.telemetryLogResource);P?this.logger=this._register(P):(this.logger=this._register(h.createLogger(m.telemetryLogResource)),this.logger.info("The below are logs for every telemetry event sent from VS Code once the log level is set to trace."),this.logger.info("==========================================================="))}flush(){return Promise.resolve(void 0)}log(h,m){this.logger.trace(`${this.prefix}telemetry/${h}`,(0,k.validateTelemetryData)(m))}};T=we([ge(0,w.ILoggerService),ge(1,R.IEnvironmentService)],T),e.TelemetryLogAppender=T}),define(J[84],Z([0,1,11,20,47]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppInsightsAppender=void 0;async function k(S){const h=await new Promise((n,P)=>{x(["applicationinsights"],n,P)});let m;return h.defaultClient?(m=new h.TelemetryClient(S),m.channel.setUseDiskRetryCaching(!0)):(h.setup(S).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setInternalLogging(!1,!1).setUseDiskRetryCaching(!0).start(),m=h.defaultClient),S.indexOf("AIF-")===0&&(m.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1"),m}class T{constructor(h,m,n){this._eventPrefix=h,this._defaultData=m,this._defaultData||(this._defaultData=Object.create(null)),typeof n=="function"?this._aiClient=n():this._aiClient=n,this._asyncAIClient=null}_withAIClient(h){if(!!this._aiClient){if(typeof this._aiClient!="string"){h(this._aiClient);return}this._asyncAIClient||(this._asyncAIClient=k(this._aiClient)),this._asyncAIClient.then(m=>{h(m)},m=>{(0,g.onUnexpectedError)(m),console.error(m)})}}log(h,m){!this._aiClient||(m=(0,R.mixin)(m,this._defaultData),m=(0,w.validateTelemetryData)(m),this._withAIClient(n=>n.trackEvent({name:this._eventPrefix+"/"+h,properties:m.properties,measurements:m.measurements})))}flush(){return this._aiClient?new Promise(h=>{this._withAIClient(m=>{m.flush({callback:()=>{this._aiClient=void 0,h(void 0)}})})}):Promise.resolve(void 0)}}e.AppInsightsAppender=T}),define(J[174],Z([0,1,11,171]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends R.default{installErrorListeners(){(0,g.setUnexpectedErrorHandler)(S=>console.error(S));const T=[];process.on("unhandledRejection",(S,h)=>{T.push(h),setTimeout(()=>{const m=T.indexOf(h);m>=0&&h.catch(n=>{T.splice(m,1),(0,g.isPromiseCanceledError)(n)||(console.warn(`rejected promise not handled within 1 second: ${n}`),n.stack&&console.warn(`stack trace: ${n.stack}`),(0,g.onUnexpectedError)(S))})},1e3)}),process.on("rejectionHandled",S=>{const h=T.indexOf(S);h>=0&&T.splice(h,1)}),process.on("uncaughtException",S=>{(0,g.onUnexpectedError)(S)})}}e.default=w}),define(J[175],Z([0,1,5,15]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildTelemetryMessage=void 0;async function w(k,T){const S=Object.create(null),h=(n,P)=>{const d=JSON.parse(n);S[P]=d};if(T){const n=[],P=await R.Promises.readdir(T);for(const b of P)try{(await R.Promises.stat((0,g.join)(T,b))).isDirectory()&&n.push(b)}catch{}const d=[];for(const b of n)(await R.Promises.readdir((0,g.join)(T,b))).filter(u=>u==="telemetry.json").length===1&&d.push(b);for(const b of d){const o=(await R.Promises.readFile((0,g.join)(T,b,"telemetry.json"))).toString();h(o,b)}}let m=(await R.Promises.readFile((0,g.join)(k,"telemetry-core.json"))).toString();return h(m,"vscode-core"),m=(await R.Promises.readFile((0,g.join)(k,"telemetry-extensions.json"))).toString(),h(m,"vscode-extensions"),JSON.stringify(S,null,4)}e.buildTelemetryMessage=w}),define(J[176],Z([0,1,14,25,6,2,12]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestStore=void 0;let S=class extends k.Disposable{constructor(m,n){super();this._logService=n,this._lastRequestId=0,this._pendingRequests=new Map,this._pendingRequestDisposables=new Map,this._onCreateRequest=this._register(new w.Emitter),this.onCreateRequest=this._onCreateRequest.event,this._timeout=m===void 0?15e3:m}createRequest(m){return new Promise((n,P)=>{const d=++this._lastRequestId;this._pendingRequests.set(d,n),this._onCreateRequest.fire({requestId:d,...m});const b=new R.CancellationTokenSource;(0,g.timeout)(this._timeout,b.token).then(()=>P(`Request ${d} timed out (${this._timeout}ms)`)),this._pendingRequestDisposables.set(d,[(0,k.toDisposable)(()=>b.cancel())])})}acceptReply(m,n){const P=this._pendingRequests.get(m);P?(this._pendingRequests.delete(m),(0,k.dispose)(this._pendingRequestDisposables.get(m)||[]),this._pendingRequestDisposables.delete(m),P(n)):this._logService.warn(`RequestStore#acceptReply was called without receiving a matching request ${m}`)}};S=we([ge(1,T.ILogService)],S),e.RequestStore=S}),define(J[177],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileSource=e.FlowControlConstants=e.LocalReconnectConstants=e.TerminalLocationString=e.TerminalLocation=e.HeartbeatConstants=e.IPtyService=e.TerminalIpcChannels=e.TitleEventSource=e.WindowsShellType=e.TerminalSettingId=e.TerminalSettingPrefix=void 0;var R;(function(o){o.Shell="terminal.integrated.shell.",o.ShellArgs="terminal.integrated.shellArgs.",o.DefaultProfile="terminal.integrated.defaultProfile.",o.Profiles="terminal.integrated.profiles."})(R=e.TerminalSettingPrefix||(e.TerminalSettingPrefix={}));var w;(function(o){o.ShellLinux="terminal.integrated.shell.linux",o.ShellMacOs="terminal.integrated.shell.osx",o.ShellWindows="terminal.integrated.shell.windows",o.SendKeybindingsToShell="terminal.integrated.sendKeybindingsToShell",o.AutomationShellLinux="terminal.integrated.automationShell.linux",o.AutomationShellMacOs="terminal.integrated.automationShell.osx",o.AutomationShellWindows="terminal.integrated.automationShell.windows",o.ShellArgsLinux="terminal.integrated.shellArgs.linux",o.ShellArgsMacOs="terminal.integrated.shellArgs.osx",o.ShellArgsWindows="terminal.integrated.shellArgs.windows",o.ProfilesWindows="terminal.integrated.profiles.windows",o.ProfilesMacOs="terminal.integrated.profiles.osx",o.ProfilesLinux="terminal.integrated.profiles.linux",o.DefaultProfileLinux="terminal.integrated.defaultProfile.linux",o.DefaultProfileMacOs="terminal.integrated.defaultProfile.osx",o.DefaultProfileWindows="terminal.integrated.defaultProfile.windows",o.UseWslProfiles="terminal.integrated.useWslProfiles",o.TabsEnabled="terminal.integrated.tabs.enabled",o.TabsEnableAnimation="terminal.integrated.tabs.enableAnimation",o.TabsHideCondition="terminal.integrated.tabs.hideCondition",o.TabsShowActiveTerminal="terminal.integrated.tabs.showActiveTerminal",o.TabsShowActions="terminal.integrated.tabs.showActions",o.TabsLocation="terminal.integrated.tabs.location",o.TabsFocusMode="terminal.integrated.tabs.focusMode",o.MacOptionIsMeta="terminal.integrated.macOptionIsMeta",o.MacOptionClickForcesSelection="terminal.integrated.macOptionClickForcesSelection",o.AltClickMovesCursor="terminal.integrated.altClickMovesCursor",o.CopyOnSelection="terminal.integrated.copyOnSelection",o.DrawBoldTextInBrightColors="terminal.integrated.drawBoldTextInBrightColors",o.FontFamily="terminal.integrated.fontFamily",o.FontSize="terminal.integrated.fontSize",o.LetterSpacing="terminal.integrated.letterSpacing",o.LineHeight="terminal.integrated.lineHeight",o.MinimumContrastRatio="terminal.integrated.minimumContrastRatio",o.FastScrollSensitivity="terminal.integrated.fastScrollSensitivity",o.MouseWheelScrollSensitivity="terminal.integrated.mouseWheelScrollSensitivity",o.BellDuration="terminal.integrated.bellDuration",o.FontWeight="terminal.integrated.fontWeight",o.FontWeightBold="terminal.integrated.fontWeightBold",o.CursorBlinking="terminal.integrated.cursorBlinking",o.CursorStyle="terminal.integrated.cursorStyle",o.CursorWidth="terminal.integrated.cursorWidth",o.Scrollback="terminal.integrated.scrollback",o.DetectLocale="terminal.integrated.detectLocale",o.DefaultLocation="terminal.integrated.defaultLocation",o.GpuAcceleration="terminal.integrated.gpuAcceleration",o.RightClickBehavior="terminal.integrated.rightClickBehavior",o.Cwd="terminal.integrated.cwd",o.ConfirmOnExit="terminal.integrated.confirmOnExit",o.ConfirmOnKill="terminal.integrated.confirmOnKill",o.EnableBell="terminal.integrated.enableBell",o.CommandsToSkipShell="terminal.integrated.commandsToSkipShell",o.AllowChords="terminal.integrated.allowChords",o.AllowMnemonics="terminal.integrated.allowMnemonics",o.EnvMacOs="terminal.integrated.env.osx",o.EnvLinux="terminal.integrated.env.linux",o.EnvWindows="terminal.integrated.env.windows",o.EnvironmentChangesIndicator="terminal.integrated.environmentChangesIndicator",o.EnvironmentChangesRelaunch="terminal.integrated.environmentChangesRelaunch",o.ShowExitAlert="terminal.integrated.showExitAlert",o.SplitCwd="terminal.integrated.splitCwd",o.WindowsEnableConpty="terminal.integrated.windowsEnableConpty",o.WordSeparators="terminal.integrated.wordSeparators",o.TitleMode="terminal.integrated.titleMode",o.EnableFileLinks="terminal.integrated.enableFileLinks",o.UnicodeVersion="terminal.integrated.unicodeVersion",o.ExperimentalLinkProvider="terminal.integrated.experimentalLinkProvider",o.LocalEchoLatencyThreshold="terminal.integrated.localEchoLatencyThreshold",o.LocalEchoExcludePrograms="terminal.integrated.localEchoExcludePrograms",o.LocalEchoStyle="terminal.integrated.localEchoStyle",o.EnablePersistentSessions="terminal.integrated.enablePersistentSessions",o.CustomGlyphs="terminal.integrated.customGlyphs",o.PersistentSessionScrollback="terminal.integrated.persistentSessionScrollback",o.PersistentSessionExperimentalSerializer="terminal.integrated.persistentSessionExperimentalSerializer",o.InheritEnv="terminal.integrated.inheritEnv",o.ShowLinkHover="terminal.integrated.showLinkHover"})(w=e.TerminalSettingId||(e.TerminalSettingId={}));var k;(function(o){o.CommandPrompt="cmd",o.PowerShell="pwsh",o.Wsl="wsl",o.GitBash="gitbash"})(k=e.WindowsShellType||(e.WindowsShellType={}));var T;(function(o){o[o.Api=0]="Api",o[o.Process=1]="Process",o[o.Sequence=2]="Sequence"})(T=e.TitleEventSource||(e.TitleEventSource={}));var S;(function(o){o.LocalPty="localPty",o.PtyHost="ptyHost",o.Log="log",o.Heartbeat="heartbeat"})(S=e.TerminalIpcChannels||(e.TerminalIpcChannels={})),e.IPtyService=(0,g.createDecorator)("ptyService");var h;(function(o){o[o.BeatInterval=5e3]="BeatInterval",o[o.FirstWaitMultiplier=1.2]="FirstWaitMultiplier",o[o.SecondWaitMultiplier=1]="SecondWaitMultiplier",o[o.CreateProcessTimeout=5e3]="CreateProcessTimeout"})(h=e.HeartbeatConstants||(e.HeartbeatConstants={}));var m;(function(o){o[o.Panel=1]="Panel",o[o.Editor=2]="Editor"})(m=e.TerminalLocation||(e.TerminalLocation={}));var n;(function(o){o.TerminalView="view",o.Editor="editor"})(n=e.TerminalLocationString||(e.TerminalLocationString={}));var P;(function(o){o[o.GraceTime=6e4]="GraceTime",o[o.ShortGraceTime=6e3]="ShortGraceTime"})(P=e.LocalReconnectConstants||(e.LocalReconnectConstants={}));var d;(function(o){o[o.HighWatermarkChars=1e5]="HighWatermarkChars",o[o.LowWatermarkChars=5e3]="LowWatermarkChars",o[o.CharCountAckSize=5e3]="CharCountAckSize"})(d=e.FlowControlConstants||(e.FlowControlConstants={}));var b;(function(o){o.GitBash="Git Bash",o.Pwsh="PowerShell"})(b=e.ProfileSource||(e.ProfileSource={}))}),define(J[178],Z([0,1,22,20,5,3,24,13,15]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findExecutable=e.getWindowsBuildNumber=void 0;function m(){const P=/(\d+)\.(\d+)\.(\d+)/g.exec(g.release());let d=0;return P&&P.length===4&&(d=parseInt(P[3])),d}e.getWindowsBuildNumber=m;async function n(P,d,b,o=T.env,u=h.Promises.exists){if(w.isAbsolute(P))return await u(P)?P:void 0;if(d===void 0&&(d=T.cwd()),w.dirname(P)!=="."){const f=w.join(d,P);return await u(f)?f:void 0}const E=(0,R.getCaseInsensitive)(o,"PATH");if(b===void 0&&(0,S.isString)(E)&&(b=E.split(w.delimiter)),b===void 0||b.length===0){const f=w.join(d,P);return await u(f)?f:void 0}for(let f of b){let c;if(w.isAbsolute(f)?c=w.join(f,P):c=w.join(d,f,P),await u(c))return c;if(k.isWindows){let a=c+".com";if(await u(a)||(a=c+".exe",await u(a)))return a}}const C=w.join(d,P);return await u(C)?C:void 0}e.findExecutable=n}),define(J[179],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var g;(function(R){R.DARK="dark",R.LIGHT="light",R.HIGH_CONTRAST="hc"})(g=e.ColorScheme||(e.ColorScheme={}))}),define(J[85],Z([0,1,43,6,2,4,27,179]),function(x,e,g,R,w,k,T,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.FolderThemeIcon=e.FileThemeIcon=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,k.createDecorator)("themeService");var h;(function(y){function E(C){return C&&typeof C=="object"&&typeof C.id=="string"}y.isThemeColor=E})(h=e.ThemeColor||(e.ThemeColor={}));function m(y){return{id:y}}e.themeColorFromId=m;var n;(function(y){function E(s){return s&&typeof s=="object"&&typeof s.id=="string"&&(typeof s.color=="undefined"||h.isThemeColor(s.color))}y.isThemeIcon=E;const C=new RegExp(`^\\$\\((${g.CSSIcon.iconNameExpression}(?:${g.CSSIcon.iconModifierExpression})?)\\)$`);function f(s){const i=C.exec(s);if(!i)return;let[,r]=i;return{id:r}}y.fromString=f;function c(s,i){let r=s.id;const l=r.lastIndexOf("~");return l!==-1&&(r=r.substring(0,l)),i&&(r=`${r}~${i}`),{id:r}}y.modify=c;function a(s,i){return s.id===i.id&&s.color?.id===i.color?.id}y.isEqual=a;function t(s,i){return{id:s.id,color:i?m(i):void 0}}y.asThemeIcon=t,y.asClassNameArray=g.CSSIcon.asClassNameArray,y.asClassName=g.CSSIcon.asClassName,y.asCSSSelector=g.CSSIcon.asCSSSelector})(n=e.ThemeIcon||(e.ThemeIcon={})),e.FileThemeIcon=g.Codicon.file,e.FolderThemeIcon=g.Codicon.folder;function P(y){switch(y){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=P,e.Extensions={ThemingContribution:"base.contributions.theming"};class d{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new R.Emitter}onColorThemeChange(E){return this.themingParticipants.push(E),this.onThemingParticipantAddedEmitter.fire(E),(0,w.toDisposable)(()=>{const C=this.themingParticipants.indexOf(E);this.themingParticipants.splice(C,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}}let b=new d;T.Registry.add(e.Extensions.ThemingContribution,b);function o(y){return b.onColorThemeChange(y)}e.registerThemingParticipant=o;class u extends w.Disposable{constructor(E){super();this.themeService=E,this.theme=E.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(C=>this.onThemeChange(C)))}onThemeChange(E){this.theme=E,this.updateStyles()}updateStyles(){}getColor(E,C){let f=this.theme.getColor(E);return f&&C&&(f=C(f,this.theme)),f?f.toString():null}}e.Themable=u}),define(J[180],Z([0,1,43,85]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProfileSchemaEnums=void 0;function w(S,h){const m=S.map(n=>({name:n.profileName,description:k(n)}));return h&&m.push(...h.map(n=>({name:n.title,description:T(n)}))),{values:m.map(n=>n.name),markdownDescriptions:m.map(n=>n.description)}}e.createProfileSchemaEnums=w;function k(S){let h=`$(${R.ThemeIcon.isThemeIcon(S.icon)?S.icon.id:S.icon?S.icon:g.Codicon.terminal.id}) ${S.profileName}
- path: ${S.path}`;return S.args&&(typeof S.args=="string"?h+=`
- args: "${S.args}"`:h+=`
- args: [${S.args.length===0?"":`'${S.args.join("','")}'`}]`),S.overrideName!==void 0&&(h+=`
- overrideName: ${S.overrideName}`),S.color&&(h+=`
- color: ${S.color}`),S.env&&(h+=`
- env: ${JSON.stringify(S.env)}`),h}function T(S){return`$(${R.ThemeIcon.isThemeIcon(S.icon)?S.icon.id:S.icon?S.icon:g.Codicon.terminal.id}) ${S.title}
- extensionIdenfifier: ${S.extensionIdentifier}`}}),define(J[181],Z([0,1,43,132,39,27,180]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerTerminalDefaultProfileConfiguration=e.registerTerminalPlatformConfiguration=void 0;const S={args:{description:(0,R.localize)(0,null),type:"array",items:{type:"string"}},overrideName:{description:(0,R.localize)(1,null),type:"boolean"},icon:{description:(0,R.localize)(2,null),type:"string",enum:Array.from(g.iconRegistry.all,y=>y.id),markdownEnumDescriptions:Array.from(g.iconRegistry.all,y=>`$(${y.id})`)},color:{description:(0,R.localize)(3,null),type:["string","null"],enum:["terminal.ansiBlack","terminal.ansiRed","terminal.ansiGreen","terminal.ansiYellow","terminal.ansiBlue","terminal.ansiMagenta","terminal.ansiCyan","terminal.ansiWhite"],default:null},env:{markdownDescription:(0,R.localize)(4,null),type:"object",additionalProperties:{type:["string","null"]},default:{}}},h={type:"object",required:["path"],properties:{path:{description:(0,R.localize)(5,null),type:["string","array"],items:{type:"string"}},...S}},m=(0,R.localize)(6,null,"`#terminal.integrated.profiles.linux#`","`#terminal.integrated.defaultProfile.linux#`"),n=(0,R.localize)(7,null,"`#terminal.integrated.profiles.osx#`","`#terminal.integrated.defaultProfile.osx#`"),P=(0,R.localize)(8,null,"`#terminal.integrated.profiles.windows#`","`#terminal.integrated.defaultProfile.windows#`"),d={id:"terminal",order:100,title:(0,R.localize)(9,null),type:"object",properties:{["terminal.integrated.automationShell.linux"]:{restricted:!0,markdownDescription:(0,R.localize)(10,null,"`terminal.integrated.shell.linux`","`shellArgs`"),type:["string","null"],default:null},["terminal.integrated.automationShell.osx"]:{restricted:!0,markdownDescription:(0,R.localize)(11,null,"`terminal.integrated.shell.osx`","`shellArgs`"),type:["string","null"],default:null},["terminal.integrated.automationShell.windows"]:{restricted:!0,markdownDescription:(0,R.localize)(12,null,"`terminal.integrated.shell.windows`","`shellArgs`"),type:["string","null"],default:null},["terminal.integrated.shell.linux"]:{restricted:!0,markdownDescription:(0,R.localize)(13,null),type:["string","null"],default:null,markdownDeprecationMessage:m},["terminal.integrated.shell.osx"]:{restricted:!0,markdownDescription:(0,R.localize)(14,null),type:["string","null"],default:null,markdownDeprecationMessage:n},["terminal.integrated.shell.windows"]:{restricted:!0,markdownDescription:(0,R.localize)(15,null),type:["string","null"],default:null,markdownDeprecationMessage:P},["terminal.integrated.shellArgs.linux"]:{restricted:!0,markdownDescription:(0,R.localize)(16,null),type:"array",items:{type:"string"},default:[],markdownDeprecationMessage:m},["terminal.integrated.shellArgs.osx"]:{restricted:!0,markdownDescription:(0,R.localize)(17,null),type:"array",items:{type:"string"},default:["-l"],markdownDeprecationMessage:n},["terminal.integrated.shellArgs.windows"]:{restricted:!0,markdownDescription:(0,R.localize)(18,null),anyOf:[{type:"array",items:{type:"string",markdownDescription:(0,R.localize)(19,null)}},{type:"string",markdownDescription:(0,R.localize)(20,null)}],default:[],markdownDeprecationMessage:P},["terminal.integrated.profiles.windows"]:{restricted:!0,markdownDescription:(0,R.localize)(21,null,"`source`","`path`","`args`."),type:"object",default:{PowerShell:{source:"PowerShell",icon:"terminal-powershell"},"Command Prompt":{path:["${env:windir}\\Sysnative\\cmd.exe","${env:windir}\\System32\\cmd.exe"],args:[],icon:"terminal-cmd"},"Git Bash":{source:"Git Bash"}},additionalProperties:{anyOf:[{type:"object",required:["source"],properties:{source:{description:(0,R.localize)(22,null),enum:["PowerShell","Git Bash"]},...S}},{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:(0,R.localize)(23,null),type:"string"},id:{description:(0,R.localize)(24,null),type:"string"},title:{description:(0,R.localize)(25,null),type:"string"},...S}},{type:"null"},h]}},["terminal.integrated.profiles.osx"]:{restricted:!0,markdownDescription:(0,R.localize)(26,null,"`path`","`args`."),type:"object",default:{bash:{path:"bash",args:["-l"],icon:"terminal-bash"},zsh:{path:"zsh",args:["-l"]},fish:{path:"fish",args:["-l"]},tmux:{path:"tmux",icon:"terminal-tmux"},pwsh:{path:"pwsh",icon:"terminal-powershell"}},additionalProperties:{anyOf:[{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:(0,R.localize)(27,null),type:"string"},id:{description:(0,R.localize)(28,null),type:"string"},title:{description:(0,R.localize)(29,null),type:"string"},...S}},{type:"null"},h]}},["terminal.integrated.profiles.linux"]:{restricted:!0,markdownDescription:(0,R.localize)(30,null,"`path`","`args`."),type:"object",default:{bash:{path:"bash",icon:"terminal-bash"},zsh:{path:"zsh"},fish:{path:"fish"},tmux:{path:"tmux",icon:"terminal-tmux"},pwsh:{path:"pwsh",icon:"terminal-powershell"}},additionalProperties:{anyOf:[{type:"object",required:["extensionIdentifier","id","title"],properties:{extensionIdentifier:{description:(0,R.localize)(31,null),type:"string"},id:{description:(0,R.localize)(32,null),type:"string"},title:{description:(0,R.localize)(33,null),type:"string"},...S}},{type:"null"},h]}},["terminal.integrated.useWslProfiles"]:{description:(0,R.localize)(34,null),type:"boolean",default:!0},["terminal.integrated.inheritEnv"]:{scope:1,description:(0,R.localize)(35,null),type:"boolean",default:!0},["terminal.integrated.persistentSessionScrollback"]:{scope:1,markdownDescription:(0,R.localize)(36,null),type:"number",default:100},["terminal.integrated.persistentSessionExperimentalSerializer"]:{scope:1,description:(0,R.localize)(37,null),type:"boolean",default:!0},["terminal.integrated.showLinkHover"]:{scope:1,description:(0,R.localize)(38,null),type:"boolean",default:!0}}};function b(){k.Registry.as(w.Extensions.Configuration).registerConfiguration(d),u()}e.registerTerminalPlatformConfiguration=b;let o;function u(y,E){const C=k.Registry.as(w.Extensions.Configuration);o&&C.deregisterConfigurations([o]);let f;y&&(f=(0,T.createProfileSchemaEnums)(y?.profiles,E)),o={id:"terminal",order:100,title:(0,R.localize)(39,null),type:"object",properties:{["terminal.integrated.defaultProfile.linux"]:{restricted:!0,markdownDescription:(0,R.localize)(40,null,"`terminal.integrated.shell.linux`","`terminal.integrated.shellArgs.linux`"),type:["string","null"],default:null,enum:y?.os===3?f?.values:void 0,markdownEnumDescriptions:y?.os===3?f?.markdownDescriptions:void 0},["terminal.integrated.defaultProfile.osx"]:{restricted:!0,markdownDescription:(0,R.localize)(41,null,"`terminal.integrated.shell.osx`","`terminal.integrated.shellArgs.osx`"),type:["string","null"],default:null,enum:y?.os===2?f?.values:void 0,markdownEnumDescriptions:y?.os===2?f?.markdownDescriptions:void 0},["terminal.integrated.defaultProfile.windows"]:{restricted:!0,markdownDescription:(0,R.localize)(42,null,"`terminal.integrated.shell.windows`","`terminal.integrated.shellArgs.windows`"),type:["string","null"],default:null,enum:y?.os===1?f?.values:void 0,markdownEnumDescriptions:y?.os===1?f?.markdownDescriptions:void 0}}},C.registerConfiguration(o)}e.registerTerminalDefaultProfileConfiguration=u}),define(J[182],Z([0,1,38,43,5,3,15,68,178,85]),function(x,e,g,R,w,k,T,S,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectAvailableProfiles=void 0;let n;function P(t,s,i,r,l=process.env,v,D,L,p){return v=v||{existsFile:T.SymlinkSupport.existsFile,readFile:T.Promises.readFile},k.isWindows?d(i,v,l,D,r.getValue("terminal.integrated.useWslProfiles")!==!1,t&&typeof t=="object"?{...t}:r.getValue("terminal.integrated.profiles.windows"),typeof s=="string"?s:r.getValue("terminal.integrated.defaultProfile.windows"),p,L):f(v,D,i,t&&typeof t=="object"?{...t}:r.getValue(k.isLinux?"terminal.integrated.profiles.linux":"terminal.integrated.profiles.osx"),typeof s=="string"?s:r.getValue(k.isLinux?"terminal.integrated.defaultProfile.linux":"terminal.integrated.defaultProfile.osx"),p,L,l)}e.detectAvailableProfiles=P;async function d(t,s,i,r,l,v,D,L,p){const _=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),A=`${process.env.windir}\\${_?"Sysnative":"System32"}`;let I=!1;(0,h.getWindowsBuildNumber)()>=16299&&(I=!0),await u(L);const U=new Map;t&&(U.set("PowerShell",{source:"PowerShell",icon:R.Codicon.terminalPowershell,isAutoDetected:!0}),U.set("Windows PowerShell",{path:`${A}\\WindowsPowerShell\\v1.0\\powershell.exe`,icon:R.Codicon.terminalPowershell,isAutoDetected:!0}),U.set("Git Bash",{source:"Git Bash",isAutoDetected:!0}),U.set("Cygwin",{path:[`${process.env.HOMEDRIVE}\\cygwin64\\bin\\bash.exe`,`${process.env.HOMEDRIVE}\\cygwin\\bin\\bash.exe`],args:["--login"],isAutoDetected:!0}),U.set("Command Prompt",{path:`${A}\\cmd.exe`,icon:R.Codicon.terminalCmd,isAutoDetected:!0})),c(v,U);const B=await b(U.entries(),D,s,i,r,p);if(t||!t&&l)try{const ee=await E(`${A}\\${I?"wsl":"bash"}.exe`,D);for(const Q of ee)(!v||!(Q.profileName in v))&&B.push(Q)}catch(ee){r?.info("WSL is not installed, so could not detect WSL profiles")}return B}async function b(t,s,i,r=process.env,l,v){const D=[];for(const[L,p]of t){if(p===null)continue;let _,A,I;if("source"in p){const ee=n?.get(p.source);if(!ee)continue;_=ee.paths,A=p.args||ee.args,p.icon?I=o(p.icon):ee.icon&&(I=ee.icon)}else _=Array.isArray(p.path)?p.path:[p.path],A=k.isWindows||Array.isArray(p.args)?p.args:void 0,I=o(p.icon)||void 0;const U=await v?.(_)||_.slice(),B=await a(L,s,U,i,r,A,p.env,p.overrideName,p.isAutoDetected,l);B?(B.isAutoDetected=p.isAutoDetected,B.icon=I,B.color=p.color,D.push(B)):l?.trace("profile not validated",L,_)}return D}function o(t){return typeof t=="string"?{id:t}:t}async function u(t){n&&!t||(n=new Map,n.set("Git Bash",{profileName:"Git Bash",paths:[`${process.env.ProgramW6432}\\Git\\bin\\bash.exe`,`${process.env.ProgramW6432}\\Git\\usr\\bin\\bash.exe`,`${process.env.ProgramFiles}\\Git\\bin\\bash.exe`,`${process.env.ProgramFiles}\\Git\\usr\\bin\\bash.exe`,`${process.env.LocalAppData}\\Programs\\Git\\bin\\bash.exe`,`${process.env.UserProfile}\\scoop\\apps\\git-with-openssh\\current\\bin\\bash.exe`,`${process.env.AllUsersProfile}\\scoop\\apps\\git-with-openssh\\current\\bin\\bash.exe`],args:["--login"]}),n.set("PowerShell",{profileName:"PowerShell",paths:t||await y(),icon:m.ThemeIcon.asThemeIcon(R.Codicon.terminalPowershell)}))}async function y(){const t=[];for await(const s of(0,S.enumeratePowerShellInstallations)())t.push(s.exePath);return t}async function E(t,s){const i=[],r=await new Promise((D,L)=>{g.exec("wsl.exe -l -q",{encoding:"utf16le"},(p,_)=>{if(p)return L("Problem occurred when getting wsl distros");D(_)})});if(!r)return[];const l=new RegExp(/[\r?\n]/),v=r.split(l).filter(D=>D.trim().length>0&&D!=="");for(const D of v){if(D===""||D.startsWith("docker-desktop"))continue;const L=`${D} (WSL)`,p={profileName:L,path:t,args:["-d",`${D}`],isDefault:L===s,icon:C(D)};i.push(p)}return i}function C(t){return t.includes("Ubuntu")?m.ThemeIcon.asThemeIcon(R.Codicon.terminalUbuntu):t.includes("Debian")?m.ThemeIcon.asThemeIcon(R.Codicon.terminalDebian):m.ThemeIcon.asThemeIcon(R.Codicon.terminalLinux)}async function f(t,s,i,r,l,v,D,L){const p=new Map;if(i){const _=(await t.readFile("/etc/shells")).toString(),A=v||_.split(`
`).filter(U=>U.trim().indexOf("#")!==0&&U.trim().length>0),I=new Map;for(const U of A){let B=(0,w.basename)(U),ee=I.get(B)||0;ee++,ee>1&&(B=`${B} (${ee})`),I.set(B,ee),p.set(B,{path:U,isAutoDetected:!0})}}return c(r,p),await b(p.entries(),l,t,L,s,D)}function c(t,s){if(!!t)for(const[i,r]of Object.entries(t))r===null||!("path"in r)&&!("source"in r)?s.delete(i):s.set(i,r)}async function a(t,s,i,r,l,v,D,L,p,_){if(i.length===0)return Promise.resolve(void 0);const A=i.shift();if(A==="")return a(t,s,i,r,l,v,D,L,p);const I={profileName:t,path:A,args:v,env:D,overrideName:L,isAutoDetected:p,isDefault:t===s};if((0,w.basename)(A)===A){const B=l.PATH?l.PATH.split(w.delimiter):void 0;return await(0,h.findExecutable)(A,void 0,B,void 0,r.existsFile)?I:a(t,s,i,r,l,v)}return await r.existsFile((0,w.normalize)(A))?I:a(t,s,i,r,l,v,D,L,p)}}),define(J[183],Z([0,1,6,2,8,3,35,50,31,72,12,77,40,176,177,181,182]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PtyHostService=void 0;var E;(function(c){c[c.MaxRestarts=5]="MaxRestarts"})(E||(E={}));let C=0,f=class extends R.Disposable{constructor(a,t,s,i){super();this._reconnectConstants=a,this._configurationService=t,this._logService=s,this._telemetryService=i,this._restartCount=0,this._isResponsive=!0,this._isDisposed=!1,this._onPtyHostExit=this._register(new g.Emitter),this.onPtyHostExit=this._onPtyHostExit.event,this._onPtyHostStart=this._register(new g.Emitter),this.onPtyHostStart=this._onPtyHostStart.event,this._onPtyHostUnresponsive=this._register(new g.Emitter),this.onPtyHostUnresponsive=this._onPtyHostUnresponsive.event,this._onPtyHostResponsive=this._register(new g.Emitter),this.onPtyHostResponsive=this._onPtyHostResponsive.event,this._onPtyHostRequestResolveVariables=this._register(new g.Emitter),this.onPtyHostRequestResolveVariables=this._onPtyHostRequestResolveVariables.event,this._onProcessData=this._register(new g.Emitter),this.onProcessData=this._onProcessData.event,this._onProcessExit=this._register(new g.Emitter),this.onProcessExit=this._onProcessExit.event,this._onProcessReady=this._register(new g.Emitter),this.onProcessReady=this._onProcessReady.event,this._onProcessReplay=this._register(new g.Emitter),this.onProcessReplay=this._onProcessReplay.event,this._onProcessTitleChanged=this._register(new g.Emitter),this.onProcessTitleChanged=this._onProcessTitleChanged.event,this._onProcessShellTypeChanged=this._register(new g.Emitter),this.onProcessShellTypeChanged=this._onProcessShellTypeChanged.event,this._onProcessOverrideDimensions=this._register(new g.Emitter),this.onProcessOverrideDimensions=this._onProcessOverrideDimensions.event,this._onProcessResolvedShellLaunchConfig=this._register(new g.Emitter),this.onProcessResolvedShellLaunchConfig=this._onProcessResolvedShellLaunchConfig.event,this._onProcessOrphanQuestion=this._register(new g.Emitter),this.onProcessOrphanQuestion=this._onProcessOrphanQuestion.event,this._onDidRequestDetach=this._register(new g.Emitter),this.onDidRequestDetach=this._onDidRequestDetach.event,this._onProcessDidChangeHasChildProcesses=this._register(new g.Emitter),this.onProcessDidChangeHasChildProcesses=this._onProcessDidChangeHasChildProcesses.event,(0,u.registerTerminalPlatformConfiguration)(),this._shellEnv=k.isWindows?Promise.resolve(process.env):(0,m.resolveShellEnv)(this._logService,{_:[]},process.env),this._register((0,R.toDisposable)(()=>this._disposePtyHost())),this._resolveVariablesRequestStore=this._register(new b.RequestStore(void 0,this._logService)),this._resolveVariablesRequestStore.onCreateRequest(this._onPtyHostRequestResolveVariables.fire,this._onPtyHostRequestResolveVariables),[this._client,this._proxy]=this._startPtyHost()}_startPtyHost(){const a=new S.Client(w.FileAccess.asFileUri("bootstrap-fork",x).fsPath,{serverName:"Pty Host",args:["--type=ptyHost"],env:{VSCODE_LAST_PTY_ID:C,VSCODE_AMD_ENTRYPOINT:"vs/platform/terminal/node/ptyHostMain",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true",VSCODE_RECONNECT_GRACE_TIME:this._reconnectConstants.graceTime,VSCODE_RECONNECT_SHORT_GRACE_TIME:this._reconnectConstants.shortGraceTime,VSCODE_RECONNECT_SCROLLBACK:this._reconnectConstants.scrollback,VSCODE_RECONNECT_EXPERIMENTAL_SERIALIZATION:this._reconnectConstants.useExperimentalSerialization?1:0}});this._onPtyHostStart.fire(),T.ProxyChannel.toService(a.getChannel(o.TerminalIpcChannels.Heartbeat)).onBeat(()=>this._handleHeartbeat()),this._handleHeartbeat(),this._register(a.onDidProcessExit(r=>{this._telemetryService.publicLog("ptyHost/exit"),this._onPtyHostExit.fire(r.code),this._isDisposed||(this._restartCount<=E.MaxRestarts?(this._logService.error(`ptyHost terminated unexpectedly with code ${r.code}`),this._restartCount++,this.restartPtyHost()):this._logService.error(`ptyHost terminated unexpectedly with code ${r.code}, giving up`))}));const s=a.getChannel(o.TerminalIpcChannels.Log);P.LogLevelChannelClient.setLevel(s,this._logService.getLevel()),this._register(this._logService.onDidChangeLogLevel(()=>{P.LogLevelChannelClient.setLevel(s,this._logService.getLevel())}));const i=T.ProxyChannel.toService(a.getChannel(o.TerminalIpcChannels.PtyHost));return this._register(i.onProcessData(r=>this._onProcessData.fire(r))),this._register(i.onProcessExit(r=>this._onProcessExit.fire(r))),this._register(i.onProcessReady(r=>this._onProcessReady.fire(r))),this._register(i.onProcessTitleChanged(r=>this._onProcessTitleChanged.fire(r))),this._register(i.onProcessShellTypeChanged(r=>this._onProcessShellTypeChanged.fire(r))),this._register(i.onProcessOverrideDimensions(r=>this._onProcessOverrideDimensions.fire(r))),this._register(i.onProcessResolvedShellLaunchConfig(r=>this._onProcessResolvedShellLaunchConfig.fire(r))),this._register(i.onProcessDidChangeHasChildProcesses(r=>this._onProcessDidChangeHasChildProcesses.fire(r))),this._register(i.onProcessReplay(r=>this._onProcessReplay.fire(r))),this._register(i.onProcessOrphanQuestion(r=>this._onProcessOrphanQuestion.fire(r))),this._register(i.onDidRequestDetach(r=>this._onDidRequestDetach.fire(r))),[a,i]}dispose(){this._isDisposed=!0,super.dispose()}async createProcess(a,t,s,i,r,l,v,D,L,p,_){const A=setTimeout(()=>this._handleUnresponsiveCreateProcess(),o.HeartbeatConstants.CreateProcessTimeout),I=await this._proxy.createProcess(a,t,s,i,r,l,v,D,L,p,_);return clearTimeout(A),C=Math.max(C,I),I}updateTitle(a,t,s){return this._proxy.updateTitle(a,t,s)}updateIcon(a,t,s){return this._proxy.updateIcon(a,t,s)}attachToProcess(a){return this._proxy.attachToProcess(a)}detachFromProcess(a){return this._proxy.detachFromProcess(a)}listProcesses(){return this._proxy.listProcesses()}reduceConnectionGraceTime(){return this._proxy.reduceConnectionGraceTime()}start(a){return this._proxy.start(a)}shutdown(a,t){return this._proxy.shutdown(a,t)}input(a,t){return this._proxy.input(a,t)}processBinary(a,t){return this._proxy.processBinary(a,t)}resize(a,t,s){return this._proxy.resize(a,t,s)}acknowledgeDataEvent(a,t){return this._proxy.acknowledgeDataEvent(a,t)}setUnicodeVersion(a,t){return this._proxy.setUnicodeVersion(a,t)}getInitialCwd(a){return this._proxy.getInitialCwd(a)}getCwd(a){return this._proxy.getCwd(a)}getLatency(a){return this._proxy.getLatency(a)}orphanQuestionReply(a){return this._proxy.orphanQuestionReply(a)}getDefaultSystemShell(a){return this._proxy.getDefaultSystemShell(a)}async getProfiles(a,t,s,i=!1){const r=await this._shellEnv;return(0,y.detectAvailableProfiles)(t,s,i,this._configurationService,r,void 0,this._logService,this._resolveVariables.bind(this,a))}getEnvironment(){return this._proxy.getEnvironment()}getWslPath(a){return this._proxy.getWslPath(a)}setTerminalLayoutInfo(a){return this._proxy.setTerminalLayoutInfo(a)}async getTerminalLayoutInfo(a){return await this._proxy.getTerminalLayoutInfo(a)}async requestDetachInstance(a,t){return this._proxy.requestDetachInstance(a,t)}async acceptDetachInstanceReply(a,t){return this._proxy.acceptDetachInstanceReply(a,t)}async restartPtyHost(){this._telemetryService.publicLog("ptyHost/restart"),this._isResponsive=!0,this._disposePtyHost(),[this._client,this._proxy]=this._startPtyHost()}_disposePtyHost(){this._proxy.shutdownAll&&this._proxy.shutdownAll(),this._client.dispose()}_handleHeartbeat(){this._clearHeartbeatTimeouts(),this._heartbeatFirstTimeout=setTimeout(()=>this._handleHeartbeatFirstTimeout(),o.HeartbeatConstants.BeatInterval*o.HeartbeatConstants.FirstWaitMultiplier),this._isResponsive||(this._telemetryService.publicLog("ptyHost/responsive"),this._isResponsive=!0),this._onPtyHostResponsive.fire()}_handleHeartbeatFirstTimeout(){this._logService.warn(`No ptyHost heartbeat after ${o.HeartbeatConstants.BeatInterval*o.HeartbeatConstants.FirstWaitMultiplier/1e3} seconds`),this._heartbeatFirstTimeout=void 0,this._heartbeatSecondTimeout=setTimeout(()=>this._handleHeartbeatSecondTimeout(),o.HeartbeatConstants.BeatInterval*o.HeartbeatConstants.SecondWaitMultiplier)}_handleHeartbeatSecondTimeout(){this._logService.error(`No ptyHost heartbeat after ${(o.HeartbeatConstants.BeatInterval*o.HeartbeatConstants.FirstWaitMultiplier+o.HeartbeatConstants.BeatInterval*o.HeartbeatConstants.FirstWaitMultiplier)/1e3} seconds`),this._heartbeatSecondTimeout=void 0,this._isResponsive&&(this._telemetryService.publicLog("ptyHost/unresponsive"),this._isResponsive=!1),this._onPtyHostUnresponsive.fire()}_handleUnresponsiveCreateProcess(){this._clearHeartbeatTimeouts(),this._logService.error(`No ptyHost response to createProcess after ${o.HeartbeatConstants.CreateProcessTimeout/1e3} seconds`),this._telemetryService.publicLog("ptyHost/responsive"),this._onPtyHostUnresponsive.fire()}_clearHeartbeatTimeouts(){this._heartbeatFirstTimeout&&(clearTimeout(this._heartbeatFirstTimeout),this._heartbeatFirstTimeout=void 0),this._heartbeatSecondTimeout&&(clearTimeout(this._heartbeatSecondTimeout),this._heartbeatSecondTimeout=void 0)}_resolveVariables(a,t){return this._resolveVariablesRequestStore.createRequest({workspaceId:a,originalText:t})}async acceptPtyHostResolvedVariables(a,t){this._resolveVariablesRequestStore.acceptReply(a,t)}};f=we([ge(1,h.IConfigurationService),ge(2,n.ILogService),ge(3,d.ITelemetryService)],f),e.PtyHostService=f}),define(J[184],Z([0,1,34,17,7,4]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceFolder=e.WorkspaceFolder=e.Workspace=e.isWorkspaceFolder=e.isWorkspace=e.WorkbenchState=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,k.createDecorator)("contextService");var T;(function(d){d[d.EMPTY=1]="EMPTY",d[d.FOLDER=2]="FOLDER",d[d.WORKSPACE=3]="WORKSPACE"})(T=e.WorkbenchState||(e.WorkbenchState={}));function S(d){const b=d;return!!(b&&typeof b=="object"&&typeof b.id=="string"&&Array.isArray(b.folders))}e.isWorkspace=S;function h(d){const b=d;return!!(b&&typeof b=="object"&&w.URI.isUri(b.uri)&&typeof b.name=="string"&&typeof b.toResource=="function")}e.isWorkspaceFolder=h;class m{constructor(b,o,u,y){this._id=b,this._configuration=u,this._ignorePathCasing=y,this._foldersMap=g.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=o}update(b){this._id=b.id,this._configuration=b.configuration,this._ignorePathCasing=b._ignorePathCasing,this.folders=b.folders}get folders(){return this._folders}set folders(b){this._folders=b,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(b){this._configuration=b}getFolder(b){return b&&this._foldersMap.findSubstr(b.with({scheme:b.scheme,authority:b.authority,path:b.path}))||null}updateFoldersMap(){this._foldersMap=g.TernarySearchTree.forUris(this._ignorePathCasing);for(const b of this.folders)this._foldersMap.set(b.uri,b)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=m;class n{constructor(b,o){this.raw=o,this.uri=b.uri,this.index=b.index,this.name=b.name}toResource(b){return(0,R.joinPath)(this.uri,b)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=n;function P(d){return new n({uri:d,index:0,name:(0,R.basenameOrAuthority)(d)},{uri:d.toString()})}e.toWorkspaceFolder=P}),define(J[185],Z([0,1,214,215,22]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryClient=void 0;class k{get _sender(){throw new Error("unimplemented")}get _buffer(){throw new Error("unimplemented")}setUseDiskRetryCaching(){throw new Error("unimplemented")}send(){throw new Error("unimplemented")}triggerSend(){throw new Error("unimplemented")}}class T{constructor(){this.context=void 0,this.commonProperties=void 0,this.config={},this.channel=new k}addTelemetryProcessor(){throw new Error("unimplemented")}clearTelemetryProcessors(){throw new Error("unimplemented")}runTelemetryProcessors(){throw new Error("unimplemented")}trackTrace(){throw new Error("unimplemented")}trackMetric(){throw new Error("unimplemented")}trackException(){throw new Error("unimplemented")}trackRequest(){throw new Error("unimplemented")}trackDependency(){throw new Error("unimplemented")}track(){throw new Error("unimplemented")}trackNodeHttpRequestSync(){throw new Error("unimplemented")}trackNodeHttpRequest(){throw new Error("unimplemented")}trackNodeHttpDependency(){throw new Error("unimplemented")}trackEvent(h){h.properties||(h.properties={}),h.measurements||(h.measurements={});try{const m=w.cpus();h.measurements.cores=m.length,h.properties["common.cpuModel"]=m[0].model}catch(m){}try{h.measurements.memoryFree=w.freemem(),h.measurements.memoryTotal=w.totalmem()}catch(m){}try{h.properties["common.shell"]=w.userInfo().shell,h.properties["common.release"]=w.release(),h.properties["common.arch"]=w.arch()}catch(m){}try{const m=process.env.TELEMETRY_URL||"https://v1.telemetry.coder.com/track",n=(/^http:/.test(m)?R:g).request(m,{method:"POST",headers:{"Content-Type":"application/json"}});n.on("error",()=>{}),n.write(JSON.stringify(h)),n.end()}catch(m){}}flush(h){h.callback&&h.callback("")}}e.TelemetryClient=T}),define(J[86],Z([0,1,41]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logger=void 0,e.logger=g.logger.named("vscode")}),define(J[186],Z([0,1,23,5,15,11,2]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogsDataCleaner=void 0;let S=class extends T.Disposable{constructor(m){super();this.environmentService=m,this.cleanUpOldLogsSoon()}cleanUpOldLogsSoon(){let m=setTimeout(()=>{m=void 0;const n=(0,R.basename)(this.environmentService.logsPath),P=(0,R.dirname)(this.environmentService.logsPath);w.Promises.readdir(P).then(d=>{const o=d.filter(y=>/^\d{8}T\d{6}$/.test(y)).sort().filter((y,E)=>y!==n),u=o.slice(0,Math.max(0,o.length-9));return Promise.all(u.map(y=>w.Promises.rm((0,R.join)(P,y))))}).then(null,k.onUnexpectedError)},10*1e3);this._register((0,T.toDisposable)(()=>{m&&(clearTimeout(m),m=void 0)}))}};S=we([ge(0,g.IEnvironmentService)],S),e.LogsDataCleaner=S}),define(J[58],Z([0,1,32,36,67,8,100,30]),function(x,e,g,R,w,k,T,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLocaleFromConfig=e.getTranslations=e.getNlsConfiguration=e.isInternalConfiguration=void 0;const h=new Map,m=R.join(k.FileAccess.asFileUri("",x).fsPath,"nls.metadata.json"),n=y=>y&&!!y._languagePackId;e.isInternalConfiguration=n;const P={locale:"en",availableLanguages:{}},d=async(y,E)=>{const C=`${y}: ${E}`;return h.has(C)||h.set(C,new Promise(async f=>{const c=S.default.commit&&await w.promisify(g.exists)(m)?await T.getNLSConfiguration(S.default.commit,E,m,y):P;(0,e.isInternalConfiguration)(c)&&(c._languagePackSupport=!0),c.locale!=="en"&&c.locale!=="en-us"&&Object.keys(c.availableLanguages).length===0&&h.delete(C),f(c)})),h.get(C)};e.getNlsConfiguration=d;const b=async(y,E)=>{const C=await(0,e.getNlsConfiguration)(y,E);if((0,e.isInternalConfiguration)(C))try{return JSON.parse(await w.promisify(g.readFile)(C._translationsConfigFile,"utf8"))}catch(f){}return{}};e.getTranslations=b;const o=async y=>{const E=["locale.json","argv.json"];for(let C=0;C<E.length;++C)try{const f=R.join(y,"User",E[C]),c=u(await w.promisify(g.readFile)(f,"utf8"));return JSON.parse(c).locale}catch(f){}return"en"};e.getLocaleFromConfig=o;const u=y=>{const E=/('(?:[^\\']*(?:\\.)?)*')|('(?:[^\\']*(?:\\.)?)*')|(\/\*(?:\r?\n|.)*?\*\/)|(\/{2,}.*?(?:(?:\r?\n)|$))/g;return y.replace(E,(C,f,c,a,t)=>{if(a)return"";if(t){const s=t.length;return s>2&&t[s-1]===`
`?t[s-2]==="\r"?`\r
`:`
`:""}else return C})}}),define(J[187],Z([0,1,41,38,6,8,58]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostConnection=e.ManagementConnection=e.Connection=void 0;class S{constructor(P,d){this.protocol=P,this.name=d,this._onClose=new w.Emitter,this.onClose=this._onClose.event,this.disposed=!1,this.logger=g.logger.named(this.name,(0,g.field)("token",this.protocol.options.reconnectionToken)),this.logger.debug("Connecting..."),this.onClose(()=>this.logger.debug("Closed"))}get offline(){return this._offline}reconnect(P){this.logger.debug("Reconnecting..."),this._offline=void 0,this.doReconnect(P)}dispose(P){this.logger.debug("Disposing...",(0,g.field)("reason",P)),this.disposed||(this.disposed=!0,this.doDispose(),this._onClose.fire())}setOffline(){this.logger.debug("Disconnected"),this._offline||(this._offline=Date.now())}}e.Connection=S;class h extends S{constructor(P){super(P,"management");P.onDidDispose(()=>this.dispose()),P.onSocketClose(()=>this.setOffline()),P.sendMessage({type:"ok"})}doDispose(){this.protocol.destroy()}doReconnect(P){P.sendMessage({type:"ok"}),this.protocol.beginAcceptReconnection(P.getSocket(),P.readEntireBuffer()),this.protocol.endAcceptReconnection(),P.dispose()}}e.ManagementConnection=h;class m extends S{constructor(P,d,b){super(P,"exthost");this.params=d,this.environment=b,P.sendMessage({debugPort:this.params.port});const o=P.readEntireBuffer(),u=P.inflateBytes;P.dispose(),P.getUnderlyingSocket().pause(),this.spawn(o,u).then(y=>this.process=y)}doDispose(){this.protocol.destroy(),this.process&&this.process.kill()}doReconnect(P){P.sendMessage({debugPort:this.params.port});const d=P.readEntireBuffer(),b=P.inflateBytes;P.dispose(),P.getUnderlyingSocket().pause(),this.protocol.setSocket(P.getSocket()),this.sendInitMessage(d,b)}sendInitMessage(P,d){if(!this.process)throw new Error("Tried to initialize VS Code before spawning");this.logger.debug("Sending socket"),this.process.send({type:"VSCODE_EXTHOST_IPC_SOCKET",initialDataChunk:Buffer.from(P.buffer).toString("base64"),skipWebSocketFrames:this.protocol.options.skipWebSocketFrames,permessageDeflate:this.protocol.options.permessageDeflate,inflateBytes:d?Buffer.from(d).toString("base64"):void 0},this.protocol.getUnderlyingSocket())}async spawn(P,d){this.logger.debug("Getting NLS configuration...");const b=await(0,T.getNlsConfiguration)(this.params.language,this.environment.userDataPath);this.logger.debug("Spawning extension host...");const o=R.fork(k.FileAccess.asFileUri("bootstrap-fork",x).fsPath,["--type=extensionHost"],{env:{...process.env,VSCODE_AMD_ENTRYPOINT:"vs/workbench/services/extensions/node/extensionHostProcess",VSCODE_PIPE_LOGGING:"true",VSCODE_VERBOSE_LOGGING:"true",VSCODE_EXTHOST_WILL_SEND_SOCKET:"true",VSCODE_HANDLES_UNCAUGHT_ERRORS:"true",VSCODE_LOG_STACK:"false",VSCODE_LOG_LEVEL:process.env.LOG_LEVEL,VSCODE_NLS_CONFIG:JSON.stringify(b),VSCODE_PARENT_PID:String(process.pid)},silent:!0});return o.on("error",u=>{this.logger.error("Exited unexpectedly",(0,g.field)("error",u)),this.dispose()}),o.on("exit",u=>{this.logger.debug("Exited",(0,g.field)("code",u)),this.dispose()}),o.stdout&&o.stderr&&(o.stdout.setEncoding("utf8").on("data",u=>this.logger.info(u)),o.stderr.setEncoding("utf8").on("data",u=>this.logger.error(u))),o.on("message",u=>{switch(u.type){case"__$console":const y=this.logger[u.severity==="log"?"info":u.severity];y?y.bind(this.logger)("console",(0,g.field)("arguments",u.arguments)):this.logger.error("Unexpected severity",(0,g.field)("event",u));break;case"VSCODE_EXTHOST_DISCONNECTED":this.logger.debug("Got disconnected message"),this.setOffline();break;case"VSCODE_EXTHOST_IPC_READY":this.logger.debug("Handshake completed"),this.sendInitMessage(P,d);break;default:this.logger.error("Unexpected message",(0,g.field)("event",u));break}}),this.logger.debug("Waiting for handshake..."),o}}e.ExtensionHostConnection=m}),define(J[87],Z([0,1,134,13,7,2,4,149,27,21,8]),function(x,e,g,R,w,k,T,S,h,m,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorsOrder=e.pathsToEditors=e.CloseDirection=e.EditorResourceAccessor=e.SideBySideEditor=e.isEditorIdentifier=e.isEditorInputWithOptionsAndGroup=e.isEditorInputWithOptions=e.isSideBySideEditorInput=e.isEditorInput=e.AbstractEditorInput=e.EditorInputCapabilities=e.SaveReason=e.Verbosity=e.isUntitledResourceEditorInput=e.isResourceDiffEditorInput=e.isResourceEditorInput=e.isTextEditorPane=e.BINARY_DIFF_EDITOR_ID=e.TEXT_DIFF_EDITOR_ID=e.EditorAreaVisibleContext=e.SplitEditorsVertically=e.IsCenteredLayoutContext=e.InEditorZenModeContext=e.EditorsVisibleContext=e.SingleEditorGroupsContext=e.MultipleEditorGroupsContext=e.ActiveEditorGroupLockedContext=e.ActiveEditorGroupLastContext=e.ActiveEditorGroupIndexContext=e.ActiveEditorGroupEmptyContext=e.EditorGroupEditorsCountContext=e.TextCompareEditorActiveContext=e.TextCompareEditorVisibleContext=e.ActiveEditorAvailableEditorIdsContext=e.ActiveEditorContext=e.ActiveEditorCanRevertContext=e.ActiveEditorReadonlyContext=e.ActiveEditorStickyContext=e.ActiveEditorPinnedContext=e.ActiveEditorDirtyContext=e.DEFAULT_EDITOR_ASSOCIATION=e.EditorExtensions=void 0,e.EditorExtensions={EditorPane:"workbench.contributions.editors",EditorFactory:"workbench.contributions.editor.inputFactories"},e.DEFAULT_EDITOR_ASSOCIATION={id:"default",displayName:(0,g.localize)(0,null),providerDisplayName:(0,g.localize)(1,null)},e.ActiveEditorDirtyContext=new S.RawContextKey("activeEditorIsDirty",!1,(0,g.localize)(2,null)),e.ActiveEditorPinnedContext=new S.RawContextKey("activeEditorIsNotPreview",!1,(0,g.localize)(3,null)),e.ActiveEditorStickyContext=new S.RawContextKey("activeEditorIsPinned",!1,(0,g.localize)(4,null)),e.ActiveEditorReadonlyContext=new S.RawContextKey("activeEditorIsReadonly",!1,(0,g.localize)(5,null)),e.ActiveEditorCanRevertContext=new S.RawContextKey("activeEditorCanRevert",!1,(0,g.localize)(6,null)),e.ActiveEditorContext=new S.RawContextKey("activeEditor",null,{type:"string",description:(0,g.localize)(7,null)}),e.ActiveEditorAvailableEditorIdsContext=new S.RawContextKey("activeEditorAvailableEditorIds","",(0,g.localize)(8,null)),e.TextCompareEditorVisibleContext=new S.RawContextKey("textCompareEditorVisible",!1,(0,g.localize)(9,null)),e.TextCompareEditorActiveContext=new S.RawContextKey("textCompareEditorActive",!1,(0,g.localize)(10,null)),e.EditorGroupEditorsCountContext=new S.RawContextKey("groupEditorsCount",0,(0,g.localize)(11,null)),e.ActiveEditorGroupEmptyContext=new S.RawContextKey("activeEditorGroupEmpty",!1,(0,g.localize)(12,null)),e.ActiveEditorGroupIndexContext=new S.RawContextKey("activeEditorGroupIndex",0,(0,g.localize)(13,null)),e.ActiveEditorGroupLastContext=new S.RawContextKey("activeEditorGroupLast",!1,(0,g.localize)(14,null)),e.ActiveEditorGroupLockedContext=new S.RawContextKey("activeEditorGroupLocked",!1,(0,g.localize)(15,null)),e.MultipleEditorGroupsContext=new S.RawContextKey("multipleEditorGroups",!1,(0,g.localize)(16,null)),e.SingleEditorGroupsContext=e.MultipleEditorGroupsContext.toNegated(),e.EditorsVisibleContext=new S.RawContextKey("editorIsOpen",!1,(0,g.localize)(17,null)),e.InEditorZenModeContext=new S.RawContextKey("inZenMode",!1,(0,g.localize)(18,null)),e.IsCenteredLayoutContext=new S.RawContextKey("isCenteredLayout",!1,(0,g.localize)(19,null)),e.SplitEditorsVertically=new S.RawContextKey("splitEditorsVertically",!1,(0,g.localize)(20,null)),e.EditorAreaVisibleContext=new S.RawContextKey("editorAreaVisible",!0,(0,g.localize)(21,null)),e.TEXT_DIFF_EDITOR_ID="workbench.editors.textDiffEditor",e.BINARY_DIFF_EDITOR_ID="workbench.editors.binaryResourceDiffEditor";function P(_){return typeof _?.getViewState=="function"}e.isTextEditorPane=P;function d(_){if(f(_))return!1;const A=_;return w.URI.isUri(A?.resource)}e.isResourceEditorInput=d;function b(_){if(f(_))return!1;const A=_;return A?.original!==void 0&&A.modified!==void 0}e.isResourceDiffEditorInput=b;function o(_){if(f(_))return!1;const A=_;return A?A.resource===void 0||A.resource.scheme===n.Schemas.untitled||A.forceUntitled===!0:!1}e.isUntitledResourceEditorInput=o;var u;(function(_){_[_.SHORT=0]="SHORT",_[_.MEDIUM=1]="MEDIUM",_[_.LONG=2]="LONG"})(u=e.Verbosity||(e.Verbosity={}));var y;(function(_){_[_.EXPLICIT=1]="EXPLICIT",_[_.AUTO=2]="AUTO",_[_.FOCUS_CHANGE=3]="FOCUS_CHANGE",_[_.WINDOW_CHANGE=4]="WINDOW_CHANGE"})(y=e.SaveReason||(e.SaveReason={}));var E;(function(_){_[_.None=0]="None",_[_.Readonly=2]="Readonly",_[_.Untitled=4]="Untitled",_[_.Singleton=8]="Singleton",_[_.RequiresTrust=16]="RequiresTrust"})(E=e.EditorInputCapabilities||(e.EditorInputCapabilities={}));class C extends k.Disposable{}e.AbstractEditorInput=C;function f(_){return _ instanceof C}e.isEditorInput=f;function c(_){const A=_;return w.URI.isUri(A?.preferredResource)}function a(_){const A=_;return f(A?.primary)&&f(A?.secondary)}e.isSideBySideEditorInput=a;function t(_){return f(_?.editor)}e.isEditorInputWithOptions=t;function s(_){const A=_;return t(_)&&A?.group!==void 0}e.isEditorInputWithOptionsAndGroup=s;function i(_){const A=_;return typeof A?.groupId=="number"&&f(A.editor)}e.isEditorIdentifier=i;var r;(function(_){_[_.PRIMARY=1]="PRIMARY",_[_.SECONDARY=2]="SECONDARY",_[_.BOTH=3]="BOTH"})(r=e.SideBySideEditor||(e.SideBySideEditor={}));class l{getOriginalUri(A,I){if(!A)return;const U=a(A)?A.primary:b(A)?A.modified:void 0,B=a(A)?A.secondary:b(A)?A.original:void 0;if(I?.supportSideBySide&&U&&B){if(I?.supportSideBySide===r.BOTH)return{primary:this.getOriginalUri(U,{filterByScheme:I.filterByScheme}),secondary:this.getOriginalUri(B,{filterByScheme:I.filterByScheme})};A=I.supportSideBySide===r.PRIMARY?U:B}if(b(A))return;const ee=c(A)?A.preferredResource:A.resource;return!ee||!I||!I.filterByScheme?ee:this.filterUri(ee,I.filterByScheme)}getCanonicalUri(A,I){if(!A)return;const U=a(A)?A.primary:b(A)?A.modified:void 0,B=a(A)?A.secondary:b(A)?A.original:void 0;if(I?.supportSideBySide&&U&&B){if(I?.supportSideBySide===r.BOTH)return{primary:this.getCanonicalUri(U,{filterByScheme:I.filterByScheme}),secondary:this.getCanonicalUri(B,{filterByScheme:I.filterByScheme})};A=I.supportSideBySide===r.PRIMARY?U:B}if(b(A))return;const ee=A.resource;return!ee||!I||!I.filterByScheme?ee:this.filterUri(ee,I.filterByScheme)}filterUri(A,I){if(Array.isArray(I)){if(I.some(U=>A.scheme===U))return A}else if(I===A.scheme)return A}}e.EditorResourceAccessor=new l;var v;(function(_){_[_.LEFT=0]="LEFT",_[_.RIGHT=1]="RIGHT"})(v=e.CloseDirection||(e.CloseDirection={}));class D{constructor(){this.editorSerializerConstructors=new Map,this.editorSerializerInstances=new Map}start(A){const I=this.instantiationService=A.get(T.IInstantiationService);for(const[U,B]of this.editorSerializerConstructors)this.createEditorSerializer(U,B,I);this.editorSerializerConstructors.clear()}createEditorSerializer(A,I,U){const B=U.createInstance(I);this.editorSerializerInstances.set(A,B)}registerFileEditorFactory(A){if(this.fileEditorFactory)throw new Error("Can only register one file editor factory.");this.fileEditorFactory=A}getFileEditorFactory(){return(0,R.assertIsDefined)(this.fileEditorFactory)}registerEditorSerializer(A,I){if(this.editorSerializerConstructors.has(A)||this.editorSerializerInstances.has(A))throw new Error(`A editor serializer with type ID '${A}' was already registered.`);return this.instantiationService?this.createEditorSerializer(A,I,this.instantiationService):this.editorSerializerConstructors.set(A,I),(0,k.toDisposable)(()=>{this.editorSerializerConstructors.delete(A),this.editorSerializerInstances.delete(A)})}getEditorSerializer(A){return this.editorSerializerInstances.get(typeof A=="string"?A:A.typeId)}}h.Registry.add(e.EditorExtensions.EditorFactory,new D);async function L(_,A){if(!_||!_.length)return[];const I=await Promise.all(_.map(async U=>{const B=w.URI.revive(U.fileUri);if(!B||(await A.activateProvider(B.scheme),!A.canHandleResource(B)))return;const ee=typeof U.exists=="boolean"?U.exists:await A.exists(B);if(!ee&&U.openOnlyIfExists)return;const Q=ee&&!(0,R.isUndefined)(U.selection)?{selection:U.selection,pinned:!0,override:U.editorOverrideId}:{pinned:!0,override:U.editorOverrideId};let O;return ee?O={resource:B,options:Q,forceFile:!0}:O={resource:B,options:Q,forceUntitled:!0},O}));return(0,m.coalesce)(I)}e.pathsToEditors=L;var p;(function(_){_[_.MOST_RECENTLY_ACTIVE=0]="MOST_RECENTLY_ACTIVE",_[_.SEQUENTIAL=1]="SEQUENTIAL"})(p=e.EditorsOrder||(e.EditorsOrder={}))}),define(J[88],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EnvironmentVariableMutatorType=e.IEnvironmentVariableService=void 0,e.IEnvironmentVariableService=(0,g.createDecorator)("environmentVariableService");var R;(function(w){w[w.Replace=1]="Replace",w[w.Append=2]="Append",w[w.Prepend=3]="Prepend"})(R=e.EnvironmentVariableMutatorType||(e.EnvironmentVariableMutatorType={}))}),define(J[188],Z([0,1,3,88]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergedEnvironmentVariableCollection=void 0;class w{constructor(h){this.map=new Map,h.forEach((m,n)=>{const P=m.map.entries();let d=P.next();for(;!d.done;){const b=d.value[0];let o=this.map.get(b);if(o||(o=[],this.map.set(b,o)),o.length>0&&o[0].type===R.EnvironmentVariableMutatorType.Replace){d=P.next();continue}const u=d.value[1];o.unshift({extensionIdentifier:n,value:u.value,type:u.type}),d=P.next()}})}applyToProcessEnvironment(h,m){let n;g.isWindows&&(n={},Object.keys(h).forEach(P=>n[P.toLowerCase()]=P)),this.map.forEach((P,d)=>{const b=g.isWindows&&n[d.toLowerCase()]||d;P.forEach(o=>{const u=m?m(o.value):o.value;switch(o.type){case R.EnvironmentVariableMutatorType.Append:h[b]=(h[b]||"")+u;break;case R.EnvironmentVariableMutatorType.Prepend:h[b]=u+(h[b]||"");break;case R.EnvironmentVariableMutatorType.Replace:h[b]=u;break}})})}diff(h){const m=new Map,n=new Map,P=new Map;if(h.map.forEach((d,b)=>{const o=this.map.get(b),u=k(d,o);u&&m.set(b,u)}),this.map.forEach((d,b)=>{const o=h.map.get(b),u=k(d,o);u&&P.set(b,u)}),this.map.forEach((d,b)=>{const o=h.map.get(b),u=T(d,o);u&&n.set(b,u)}),!(m.size===0&&n.size===0&&P.size===0))return{added:m,changed:n,removed:P}}}e.MergedEnvironmentVariableCollection=w;function k(S,h){if(!h)return S;const m=new Set;h.forEach(P=>m.add(P.extensionIdentifier));const n=[];return S.forEach(P=>{m.has(P.extensionIdentifier)||n.push(P)}),n.length===0?void 0:n}function T(S,h){if(!h)return;const m=new Map;h.forEach(P=>m.set(P.extensionIdentifier,P));const n=[];return S.forEach(P=>{const d=m.get(P.extensionIdentifier);d&&(P.type!==d.type||P.value!==d.value)&&n.push(d)}),n.length===0?void 0:n}}),define(J[89],Z([0,1]),function(x,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeEnvironmentVariableCollection=e.serializeEnvironmentVariableCollection=void 0;function g(w){return[...w.entries()]}e.serializeEnvironmentVariableCollection=g;function R(w){return new Map(w)}e.deserializeEnvironmentVariableCollection=R}),define(J[189],Z([0,1,5,94,3]),function(x,e,g,R,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTerminalEnvironment=e.getDefaultShellArgs=e.getDefaultShell=e.createVariableResolver=e.getCwd=e.getLangEnvVariable=e.shouldSetLangEnvVariable=e.addTerminalEnvironmentKeys=e.mergeEnvironments=void 0;function k(c,a){if(!!a)if(w.isWindows)for(const t in a){let s=t;for(const r in c)if(t.toLowerCase()===r.toLowerCase()){s=r;break}const i=a[t];i!==void 0&&T(c,s,i)}else Object.keys(a).forEach(t=>{const s=a[t];s!==void 0&&T(c,t,s)})}e.mergeEnvironments=k;function T(c,a,t){typeof t=="string"?c[a]=t:delete c[a]}function S(c,a,t,s){c.TERM_PROGRAM="vscode",a&&(c.TERM_PROGRAM_VERSION=a),n(c,s)&&(c.LANG=P(t)),c.COLORTERM="truecolor"}e.addTerminalEnvironmentKeys=S;function h(c,a){if(!!a)for(const t of Object.keys(a)){const s=a[t];s&&(c[t]=s)}}function m(c,a){return Object.keys(a).forEach(t=>{const s=a[t];if(typeof s=="string")try{a[t]=c(s)}catch(i){a[t]=s}}),a}function n(c,a){if(a==="on")return!0;if(a==="auto"){const t=c.LANG;return!t||t.search(/\.UTF\-8$/)===-1&&t.search(/\.utf8$/)===-1&&t.search(/\.euc.+/)===-1}return!1}e.shouldSetLangEnvVariable=n;function P(c){const a=c?c.split("-"):[],t=a.length;if(t===0)return"en_US.UTF-8";if(t===1){const s={af:"ZA",am:"ET",be:"BY",bg:"BG",ca:"ES",cs:"CZ",da:"DK",de:"DE",el:"GR",en:"US",es:"ES",et:"EE",eu:"ES",fi:"FI",fr:"FR",he:"IL",hr:"HR",hu:"HU",hy:"AM",is:"IS",it:"IT",ja:"JP",kk:"KZ",ko:"KR",lt:"LT",nl:"NL",no:"NO",pl:"PL",pt:"BR",ro:"RO",ru:"RU",sk:"SK",sl:"SI",sr:"YU",sv:"SE",tr:"TR",uk:"UA",zh:"CN"};a[0]in s&&a.push(s[a[0]])}else a[1]=a[1].toUpperCase();return a.join("_")+".UTF-8"}e.getLangEnvVariable=P;function d(c,a,t,s,i,r){if(c.cwd){const v=typeof c.cwd=="object"?c.cwd.fsPath:c.cwd,D=b(v,t);return o(D||v)}let l;return!c.ignoreConfigurationCwd&&i&&(t&&(i=b(i,t,r)),i&&(g.isAbsolute(i)?l=i:s&&(l=g.join(s.fsPath,i)))),l||(l=s?s.fsPath:a||""),o(l)}e.getCwd=d;function b(c,a,t){if(a)try{return a(c)}catch(s){t?.error("Could not resolve terminal cwd",s);return}return c}function o(c){return w.OS===1&&c&&c[1]===":"?c[0].toUpperCase()+c.substr(1):c}function u(c,a,t){if(!!t)return s=>t.resolveWithEnvironment(a,c,s)}e.createVariableResolver=u;function y(c,a,t,s,i,r,l,v=w.platform){let D;l&&(D=C(c,"automationShell",v)),D||(D=C(c,"shell",v));let L=D||a;if(v===3&&!t&&s){const p=g.join(s,"Sysnative").replace(/\//g,"\\").toLowerCase();L&&L.toLowerCase().indexOf(p)===0&&(L=g.join(s,"System32",L.substr(p.length+1)))}if(L&&v===3&&(L=L.replace(/\//g,"\\")),i)try{L=i(L)}catch(p){r.error("Could not resolve shell",p)}return L}e.getDefaultShell=y;function E(c,a,t,s,i=w.platform){if(a&&C(c,"automationShell",i))return[];const r=i===3?"windows":i===1?"osx":"linux";let l=c(`terminal.integrated.shellArgs..${r}`);if(!l)return[];if(typeof l=="string"&&i===3)return t?t(l):l;if(t){const v=[];for(const D of l)try{v.push(t(D))}catch(L){s.error(`Could not resolve terminal.integrated.shellArgs..${r}`,L),v.push(D)}l=v}return l}e.getDefaultShellArgs=E;function C(c,a,t=w.platform){return c(`terminal.integrated.${a}.${t===3?"windows":t===1?"osx":"linux"}`)}function f(c,a,t,s,i,r){const l={};if(c.strictEnv)h(l,c.env);else{h(l,r);const v={...a};t&&(v&&m(t,v),c.env&&m(t,c.env)),(0,R.sanitizeProcessEnvironment)(l,"VSCODE_IPC_HOOK_CLI"),k(l,v),k(l,c.env),S(l,s,w.locale,i)}return l}e.createTerminalEnvironment=f}),define(J[190],Z([0,1,31,4]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TASKS_DEFAULT=e.IWorkbenchConfigurationService=e.USER_STANDALONE_CONFIGURATIONS=e.WORKSPACE_STANDALONE_CONFIGURATIONS=e.LAUNCH_CONFIGURATION_KEY=e.TASKS_CONFIGURATION_KEY=e.FOLDER_SCOPES=e.WORKSPACE_SCOPES=e.REMOTE_MACHINE_SCOPES=e.LOCAL_MACHINE_SCOPES=e.tasksSchemaId=e.launchSchemaId=e.folderSettingsSchemaId=e.workspaceSettingsSchemaId=e.machineSettingsSchemaId=e.userSettingsSchemaId=e.defaultSettingsSchemaId=e.FOLDER_SETTINGS_PATH=e.FOLDER_SETTINGS_NAME=e.FOLDER_CONFIG_FOLDER_NAME=void 0,e.FOLDER_CONFIG_FOLDER_NAME=".vscode",e.FOLDER_SETTINGS_NAME="settings",e.FOLDER_SETTINGS_PATH=`${e.FOLDER_CONFIG_FOLDER_NAME}/${e.FOLDER_SETTINGS_NAME}.json`,e.defaultSettingsSchemaId="vscode://schemas/settings/default",e.userSettingsSchemaId="vscode://schemas/settings/user",e.machineSettingsSchemaId="vscode://schemas/settings/machine",e.workspaceSettingsSchemaId="vscode://schemas/settings/workspace",e.folderSettingsSchemaId="vscode://schemas/settings/folder",e.launchSchemaId="vscode://schemas/launch",e.tasksSchemaId="vscode://schemas/tasks",e.LOCAL_MACHINE_SCOPES=[1,3,4,5],e.REMOTE_MACHINE_SCOPES=[2,3,4,5,6],e.WORKSPACE_SCOPES=[3,4,5,6],e.FOLDER_SCOPES=[4,5,6],e.TASKS_CONFIGURATION_KEY="tasks",e.LAUNCH_CONFIGURATION_KEY="launch",e.WORKSPACE_STANDALONE_CONFIGURATIONS=Object.create(null),e.WORKSPACE_STANDALONE_CONFIGURATIONS[e.TASKS_CONFIGURATION_KEY]=`${e.FOLDER_CONFIG_FOLDER_NAME}/${e.TASKS_CONFIGURATION_KEY}.json`,e.WORKSPACE_STANDALONE_CONFIGURATIONS[e.LAUNCH_CONFIGURATION_KEY]=`${e.FOLDER_CONFIG_FOLDER_NAME}/${e.LAUNCH_CONFIGURATION_KEY}.json`,e.USER_STANDALONE_CONFIGURATIONS=Object.create(null),e.USER_STANDALONE_CONFIGURATIONS[e.TASKS_CONFIGURATION_KEY]=`${e.TASKS_CONFIGURATION_KEY}.json`,e.IWorkbenchConfigurationService=(0,R.refineServiceDecorator)(g.IConfigurationService),e.TASKS_DEFAULT=`{
	"version": "2.0.0",
	"tasks": []
}`}),define(J[191],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IConfigurationResolverService=void 0,e.IConfigurationResolverService=(0,g.createDecorator)("configurationResolverService")}),define(J[192],Z([0,1,5,24,13,20,3,64,135]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractVariableResolverService=void 0;class m{constructor(P,d,b){this._contributedVariables=new Map,this._context=P,this._labelService=d,b&&(this._envVariablesPromise=b.then(o=>this.prepareEnv(o)))}prepareEnv(P){if(T.isWindows){const d=Object.create(null);return Object.keys(P).forEach(b=>{d[b.toLowerCase()]=P[b]}),d}return P}resolveWithEnvironment(P,d,b){return this.recursiveResolve(this.prepareEnv(P),d?d.uri:void 0,b)}async resolveAsync(P,d){return this.recursiveResolve(await this._envVariablesPromise,P?P.uri:void 0,d)}async resolveAnyBase(P,d,b,o){const u=k.deepClone(d);return T.isWindows&&u.windows?Object.keys(u.windows).forEach(y=>u[y]=u.windows[y]):T.isMacintosh&&u.osx?Object.keys(u.osx).forEach(y=>u[y]=u.osx[y]):T.isLinux&&u.linux&&Object.keys(u.linux).forEach(y=>u[y]=u.linux[y]),delete u.windows,delete u.osx,delete u.linux,this.recursiveResolve(await this._envVariablesPromise,P?P.uri:void 0,u,b,o)}async resolveAnyAsync(P,d,b){return this.resolveAnyBase(P,d,b)}async resolveAnyMap(P,d,b){const o=new Map;return{newConfig:await this.resolveAnyBase(P,d,b,o),resolvedVariables:o}}resolveWithInteractionReplace(P,d,b,o){throw new Error("resolveWithInteractionReplace not implemented.")}resolveWithInteraction(P,d,b,o){throw new Error("resolveWithInteraction not implemented.")}contributeVariable(P,d){if(this._contributedVariables.has(P))throw new Error("Variable "+P+" is contributed twice.");this._contributedVariables.set(P,d)}recursiveResolve(P,d,b,o,u){if(w.isString(b))return this.resolveString(P,d,b,o,u);if(w.isArray(b))return b.map(y=>this.recursiveResolve(P,d,y,o,u));if(w.isObject(b)){let y=Object.create(null);return Object.keys(b).forEach(E=>{const C=this.resolveString(P,d,E,o,u);y[C]=this.recursiveResolve(P,d,b[E],o,u)}),y}return b}resolveString(P,d,b,o,u){return b.replace(m.VARIABLE_REGEXP,(E,C)=>{if(C.includes(m.VARIABLE_LHS))return E;let f=this.evaluateSingleVariable(P,E,C,d,o);return u&&u.set(C,f),f!==E&&w.isString(f)&&f.match(m.VARIABLE_REGEXP)&&(f=this.resolveString(P,d,f,o,u)),f})}fsPath(P){return this._labelService?this._labelService.getUriLabel(P,{noPrefix:!0}):P.fsPath}evaluateSingleVariable(P,d,b,o,u){let y;const E=b.split(":");E.length>1&&(b=E[0],y=E[1]);const C=()=>{const a=this._context.getFilePath();if(a)return a;throw new Error((0,h.localize)(0,null,d))},f=()=>{const a=C();if(this._context.getWorkspaceFolderPathForFile){const t=this._context.getWorkspaceFolderPathForFile();if(t)return t}throw new Error((0,h.localize)(1,null,d,g.basename(a)))},c=()=>{if(y){const a=this._context.getFolderUri(y);if(a)return a;throw new Error((0,h.localize)(2,null,d,y))}if(o)return o;throw this._context.getWorkspaceFolderCount()>1?new Error((0,h.localize)(3,null,d)):new Error((0,h.localize)(4,null,d))};switch(b){case"env":if(y){if(P){const a=P[T.isWindows?y.toLowerCase():y];if(w.isString(a))return a}return""}throw new Error((0,h.localize)(5,null,d));case"config":if(y){const a=this._context.getConfigurationValue(o,y);if(w.isUndefinedOrNull(a))throw new Error((0,h.localize)(6,null,d,y));if(w.isObject(a))throw new Error((0,h.localize)(7,null,d,y));return a}throw new Error((0,h.localize)(8,null,d));case"command":return this.resolveFromMap(d,y,u,"command");case"input":return this.resolveFromMap(d,y,u,"input");default:switch(b){case"workspaceRoot":case"workspaceFolder":return(0,S.normalizeDriveLetter)(this.fsPath(c()));case"cwd":return o||y?(0,S.normalizeDriveLetter)(this.fsPath(c())):R.cwd();case"workspaceRootFolderName":case"workspaceFolderBasename":return g.basename(this.fsPath(c()));case"lineNumber":const a=this._context.getLineNumber();if(a)return a;throw new Error((0,h.localize)(9,null,d));case"selectedText":const t=this._context.getSelectedText();if(t)return t;throw new Error((0,h.localize)(10,null,d));case"file":return C();case"fileWorkspaceFolder":return f();case"relativeFile":return o||y?g.relative(this.fsPath(c()),C()):C();case"relativeFileDirname":const s=g.dirname(C());if(o||y){const v=g.relative(this.fsPath(c()),s);return v.length===0?".":v}return s;case"fileDirname":return g.dirname(C());case"fileExtname":return g.extname(C());case"fileBasename":return g.basename(C());case"fileBasenameNoExtension":const i=g.basename(C());return i.slice(0,i.length-g.extname(i).length);case"fileDirnameBasename":return g.basename(g.dirname(C()));case"execPath":const r=this._context.getExecPath();return r||d;case"execInstallFolder":const l=this._context.getAppRoot();return l||d;case"pathSeparator":return g.sep;default:try{const v=y?`${b}:${y}`:b;return this.resolveFromMap(d,v,u,void 0)}catch(v){return d}}}}resolveFromMap(P,d,b,o){if(d&&b){const u=o===void 0?b[d]:b[o+":"+d];if(typeof u=="string")return u;throw new Error((0,h.localize)(11,null,P))}return P}}e.AbstractVariableResolverService=m,m.VARIABLE_LHS="${",m.VARIABLE_REGEXP=/\$\{(.*?)\}/g}),define(J[193],Z([0,1,4,87]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preferredSideBySideGroupDirection=e.isEditorGroup=e.OpenEditorContext=e.GroupChangeKind=e.GroupsOrder=e.isEditorReplacement=e.MergeGroupMode=e.GroupsArrangement=e.GroupLocation=e.GroupOrientation=e.GroupDirection=e.IEditorGroupsService=void 0,e.IEditorGroupsService=(0,g.createDecorator)("editorGroupsService");var w;(function(u){u[u.UP=0]="UP",u[u.DOWN=1]="DOWN",u[u.LEFT=2]="LEFT",u[u.RIGHT=3]="RIGHT"})(w=e.GroupDirection||(e.GroupDirection={}));var k;(function(u){u[u.HORIZONTAL=0]="HORIZONTAL",u[u.VERTICAL=1]="VERTICAL"})(k=e.GroupOrientation||(e.GroupOrientation={}));var T;(function(u){u[u.FIRST=0]="FIRST",u[u.LAST=1]="LAST",u[u.NEXT=2]="NEXT",u[u.PREVIOUS=3]="PREVIOUS"})(T=e.GroupLocation||(e.GroupLocation={}));var S;(function(u){u[u.MINIMIZE_OTHERS=0]="MINIMIZE_OTHERS",u[u.EVEN=1]="EVEN",u[u.TOGGLE=2]="TOGGLE"})(S=e.GroupsArrangement||(e.GroupsArrangement={}));var h;(function(u){u[u.COPY_EDITORS=0]="COPY_EDITORS",u[u.MOVE_EDITORS=1]="MOVE_EDITORS"})(h=e.MergeGroupMode||(e.MergeGroupMode={}));function m(u){const y=u;return(0,R.isEditorInput)(y?.editor)&&(0,R.isEditorInput)(y?.replacement)}e.isEditorReplacement=m;var n;(function(u){u[u.CREATION_TIME=0]="CREATION_TIME",u[u.MOST_RECENTLY_ACTIVE=1]="MOST_RECENTLY_ACTIVE",u[u.GRID_APPEARANCE=2]="GRID_APPEARANCE"})(n=e.GroupsOrder||(e.GroupsOrder={}));var P;(function(u){u[u.GROUP_ACTIVE=0]="GROUP_ACTIVE",u[u.GROUP_INDEX=1]="GROUP_INDEX",u[u.GROUP_LOCKED=2]="GROUP_LOCKED",u[u.EDITOR_OPEN=3]="EDITOR_OPEN",u[u.EDITOR_CLOSE=4]="EDITOR_CLOSE",u[u.EDITOR_MOVE=5]="EDITOR_MOVE",u[u.EDITOR_ACTIVE=6]="EDITOR_ACTIVE",u[u.EDITOR_LABEL=7]="EDITOR_LABEL",u[u.EDITOR_CAPABILITIES=8]="EDITOR_CAPABILITIES",u[u.EDITOR_PIN=9]="EDITOR_PIN",u[u.EDITOR_STICKY=10]="EDITOR_STICKY",u[u.EDITOR_DIRTY=11]="EDITOR_DIRTY"})(P=e.GroupChangeKind||(e.GroupChangeKind={}));var d;(function(u){u[u.NEW_EDITOR=1]="NEW_EDITOR",u[u.MOVE_EDITOR=2]="MOVE_EDITOR",u[u.COPY_EDITOR=3]="COPY_EDITOR"})(d=e.OpenEditorContext||(e.OpenEditorContext={}));function b(u){const y=u;return!!y&&typeof y.id=="number"&&Array.isArray(y.editors)}e.isEditorGroup=b;function o(u){return u.getValue("workbench.editor.openSideBySideDirection")==="down"?1:3}e.preferredSideBySideGroupDirection=o}),define(J[194],Z([0,1,4,193]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPreferredGroup=e.SIDE_GROUP=e.ACTIVE_GROUP=e.IEditorService=void 0,e.IEditorService=(0,g.createDecorator)("editorService"),e.ACTIVE_GROUP=-1,e.SIDE_GROUP=-2;function w(k){const T=k;return typeof k=="number"||(0,R.isEditorGroup)(T)}e.isPreferredGroup=w}),define(J[195],Z([0,1,13,190,12,165,184,89,191,87,194,8,155,88]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteTerminalChannelClient=e.REMOTE_TERMINAL_CHANNEL_NAME=void 0,e.REMOTE_TERMINAL_CHANNEL_NAME="remoteterminal";let o=class{constructor(y,E,C,f,c,a,t,s,i,r){this._remoteAuthority=y,this._channel=E,this._configurationService=C,this._workspaceContextService=f,this._resolverService=c,this._environmentVariableService=a,this._remoteAuthorityResolverService=t,this._logService=s,this._editorService=i,this._labelService=r}get onPtyHostExit(){return this._channel.listen("$onPtyHostExitEvent")}get onPtyHostStart(){return this._channel.listen("$onPtyHostStartEvent")}get onPtyHostUnresponsive(){return this._channel.listen("$onPtyHostUnresponsiveEvent")}get onPtyHostResponsive(){return this._channel.listen("$onPtyHostResponsiveEvent")}get onPtyHostRequestResolveVariables(){return this._channel.listen("$onPtyHostRequestResolveVariablesEvent")}get onProcessData(){return this._channel.listen("$onProcessDataEvent")}get onProcessExit(){return this._channel.listen("$onProcessExitEvent")}get onProcessReady(){return this._channel.listen("$onProcessReadyEvent")}get onProcessReplay(){return this._channel.listen("$onProcessReplayEvent")}get onProcessTitleChanged(){return this._channel.listen("$onProcessTitleChangedEvent")}get onProcessShellTypeChanged(){return this._channel.listen("$onProcessShellTypeChangedEvent")}get onProcessOverrideDimensions(){return this._channel.listen("$onProcessOverrideDimensionsEvent")}get onProcessResolvedShellLaunchConfig(){return this._channel.listen("$onProcessResolvedShellLaunchConfigEvent")}get onProcessOrphanQuestion(){return this._channel.listen("$onProcessOrphanQuestion")}get onProcessDidChangeHasChildProcesses(){return this._channel.listen("$onProcessDidChangeHasChildProcesses")}get onExecuteCommand(){return this._channel.listen("$onExecuteCommand")}get onDidRequestDetach(){return this._channel.listen("$onDidRequestDetach")}restartPtyHost(){return this._channel.call("$restartPtyHost",[])}async createProcess(y,E,C,f,c,a,t){await this._configurationService.whenRemoteConfigurationLoaded();const s=Object.create(null),i=C?(0,g.withNullAsUndefined)(this._workspaceContextService.getWorkspaceFolder(C)):void 0;let r;try{r=(await this._resolverService.resolveAnyMap(i,{shellLaunchConfig:y,configuration:E})).resolvedVariables}catch(U){this._logService.error(U)}if(r)for(const[U,B]of r.entries())(/^config:/.test(U)||U==="selectedText"||U==="lineNumber")&&(s[U]=B);const l=[];for(const[U,B]of this._environmentVariableService.collections.entries())l.push([U,(0,S.serializeEnvironmentVariableCollection)(B.map)]);const v=await this._remoteAuthorityResolverService.resolveAuthority(this._remoteAuthority),D=v.options&&v.options.extensionHostEnv,L=this._workspaceContextService.getWorkspace(),p=L.folders,_=C?this._workspaceContextService.getWorkspaceFolder(C):null,A=m.EditorResourceAccessor.getOriginalUri(this._editorService.activeEditor,{supportSideBySide:m.SideBySideEditor.PRIMARY,filterByScheme:[P.Schemas.file,P.Schemas.userData,P.Schemas.vscodeRemote]}),I={configuration:E,resolvedVariables:s,envVariableCollections:l,shellLaunchConfig:y,workspaceId:L.id,workspaceName:this._labelService.getWorkspaceLabel(L),workspaceFolders:p,activeWorkspaceFolder:_,activeFileResource:A,shouldPersistTerminal:f,cols:c,rows:a,unicodeVersion:t,resolverEnv:D};return await this._channel.call("$createProcess",I)}requestDetachInstance(y,E){return this._channel.call("$requestDetachInstance",[y,E])}acceptDetachInstanceReply(y,E){return this._channel.call("$acceptDetachInstanceReply",[y,E])}attachToProcess(y){return this._channel.call("$attachToProcess",[y])}detachFromProcess(y){return this._channel.call("$detachFromProcess",[y])}listProcesses(){return this._channel.call("$listProcesses")}reduceConnectionGraceTime(){return this._channel.call("$reduceConnectionGraceTime")}processBinary(y,E){return this._channel.call("$processBinary",[y,E])}start(y){return this._channel.call("$start",[y])}input(y,E){return this._channel.call("$input",[y,E])}acknowledgeDataEvent(y,E){return this._channel.call("$acknowledgeDataEvent",[y,E])}setUnicodeVersion(y,E){return this._channel.call("$setUnicodeVersion",[y,E])}shutdown(y,E){return this._channel.call("$shutdown",[y,E])}resize(y,E,C){return this._channel.call("$resize",[y,E,C])}getInitialCwd(y){return this._channel.call("$getInitialCwd",[y])}getCwd(y){return this._channel.call("$getCwd",[y])}orphanQuestionReply(y){return this._channel.call("$orphanQuestionReply",[y])}sendCommandResult(y,E,C){return this._channel.call("$sendCommandResult",[y,E,C])}getDefaultSystemShell(y){return this._channel.call("$getDefaultSystemShell",[y])}getProfiles(y,E,C){return this._channel.call("$getProfiles",[this._workspaceContextService.getWorkspace().id,y,E,C])}acceptPtyHostResolvedVariables(y,E){return this._channel.call("$acceptPtyHostResolvedVariables",[y,E])}getEnvironment(){return this._channel.call("$getEnvironment")}getWslPath(y){return this._channel.call("$getWslPath",[y])}setTerminalLayoutInfo(y){const C={workspaceId:this._workspaceContextService.getWorkspace().id,tabs:y.tabs};return this._channel.call("$setTerminalLayoutInfo",C)}updateTitle(y,E){return this._channel.call("$updateTitle",[y,E])}updateIcon(y,E,C){return this._channel.call("$updateIcon",[y,E,C])}getTerminalLayoutInfo(){const E={workspaceId:this._workspaceContextService.getWorkspace().id};return this._channel.call("$getTerminalLayoutInfo",E)}};o=we([ge(2,R.IWorkbenchConfigurationService),ge(3,T.IWorkspaceContextService),ge(4,h.IConfigurationResolverService),ge(5,b.IEnvironmentVariableService),ge(6,k.IRemoteAuthorityResolverService),ge(7,w.ILogService),ge(8,n.IEditorService),ge(9,d.ILabelService)],o),e.RemoteTerminalChannelClient=o}),define(J[196],Z([0,1,162]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.Translations=void 0;var R;(function(k){function T(S,h){if(S===h)return!0;let m=Object.keys(S),n=new Set;for(let P of Object.keys(h))n.add(P);if(m.length!==n.size)return!1;for(let P of m){if(S[P]!==h[P])return!1;n.delete(P)}return n.size===0}k.equals=T})(R=e.Translations||(e.Translations={}));class w{constructor(T){this._messageHandler=T}error(T,S){this._messageHandler(g.Severity.Error,T,S)}warn(T,S){this._messageHandler(g.Severity.Warning,T,S)}info(T,S){this._messageHandler(g.Severity.Info,T,S)}}e.Logger=w}),define(J[197],Z([0,1,136,5,45,62,21,112,13,7,15,29,51,42,196]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionScanner=e.ExtensionScannerInput=void 0;const u="package.json";class y{constructor(i,r,l,v,D,L){this._ourVersion=i,this._ourProductDate=r,this._log=l,this._absoluteFolderPath=v,this._isBuiltin=D,this._isUnderDevelopment=L,this._absoluteManifestPath=R.join(v,u)}}class E extends y{static _fastParseJSON(i,r){try{return JSON.parse(i)}catch(l){return k.parse(i,r)}}parse(){return n.Promises.readFile(this._absoluteManifestPath).then(i=>{const r=[],l=E._fastParseJSON(i.toString(),r);if(k.getNodeType(l)!=="object")this._log.error(this._absoluteFolderPath,g.localize(0,null,this._absoluteManifestPath));else{if(r.length===0)return l.__metadata&&(l.uuid=l.__metadata.id),l.isUserBuiltin=!!l.__metadata?.isBuiltin,delete l.__metadata,l;r.forEach(v=>{this._log.error(this._absoluteFolderPath,g.localize(1,null,this._absoluteManifestPath,v.offset,v.length,(0,S.getParseErrorMessage)(v.error)))})}return null},i=>(i.code==="ENOENT"||this._log.error(this._absoluteFolderPath,g.localize(2,null,this._absoluteManifestPath,i.message)),null))}}class C extends y{constructor(i,r,l,v,D,L,p){super(i,r,l,v,D,L);this._nlsConfig=p}replaceNLS(i){const r=(A,I)=>{I.forEach(U=>{this._log.error(this._absoluteFolderPath,g.localize(3,null,A,(0,S.getParseErrorMessage)(U.error)))})},l=A=>{this._log.error(this._absoluteFolderPath,g.localize(4,null,A))};let v=R.extname(this._absoluteManifestPath),D=this._absoluteManifestPath.substr(0,this._absoluteManifestPath.length-v.length);const L=`${i.publisher}.${i.name}`;let p=this._nlsConfig.translations[L],_;return p?_=n.Promises.readFile(p,"utf8").then(A=>{let I=[],U=k.parse(A,I);return I.length>0?(r(p,I),{values:void 0,default:`${D}.nls.json`}):k.getNodeType(U)!=="object"?(l(p),{values:void 0,default:`${D}.nls.json`}):{values:U.contents?U.contents.package:void 0,default:`${D}.nls.json`}},A=>({values:void 0,default:`${D}.nls.json`})):_=n.SymlinkSupport.existsFile(D+".nls"+v).then(A=>{if(!!A)return C.findMessageBundles(this._nlsConfig,D).then(I=>I.localized?n.Promises.readFile(I.localized,"utf8").then(U=>{let B=[],ee=k.parse(U,B);return B.length>0?(r(I.localized,B),{values:void 0,default:I.original}):k.getNodeType(ee)!=="object"?(l(I.localized),{values:void 0,default:I.original}):{values:ee,default:I.original}},U=>({values:void 0,default:I.original})):{values:void 0,default:I.original},I=>{})}),_.then(A=>{if(A===void 0)return i;let I=[];return C.resolveOriginalMessageBundle(A.default,I).then(U=>{if(I.length>0)return r(A.default,I),i;if(k.getNodeType(A)!=="object")return l(A.default),i;const B=A.values||Object.create(null);return C._replaceNLStrings(this._nlsConfig,i,B,U,this._log,this._absoluteFolderPath),i})},A=>i)}static resolveOriginalMessageBundle(i,r){return new Promise((l,v)=>{i?n.Promises.readFile(i).then(D=>{l(k.parse(D.toString(),r))},D=>{l(null)}):l(null)})}static findMessageBundles(i,r){return new Promise((l,v)=>{function D(L,p){let _=`${L}.nls.${p}.json`;n.SymlinkSupport.existsFile(_).then(A=>{A&&l({localized:_,original:`${L}.nls.json`});let I=p.lastIndexOf("-");I===-1?l({localized:`${L}.nls.json`,original:null}):(p=p.substring(0,I),D(L,p))})}if(i.devMode||i.pseudo||!i.locale)return l({localized:r+".nls.json",original:null});D(r,i.locale)})}static _replaceNLStrings(i,r,l,v,D,L){function p(_,A,I){const U=_[A];if(h.isString(U)){const B=U,ee=B.length;if(ee>1&&B[0]==="%"&&B[ee-1]==="%"){const Q=B.substr(1,ee-2);let O=l[Q];O===void 0&&v&&(O=v[Q]);let $=typeof O=="string"?O:typeof O?.message=="string"?O.message:void 0;$!==void 0?(i.pseudo&&($="\uFF3B"+$.replace(/[aouei]/g,"$&$&")+"\uFF3D"),_[A]=I&&(A==="title"||A==="category")&&v?{value:$,original:v[Q]}:$):D.warn(L,g.localize(5,null,Q))}}else if(h.isObject(U))for(let B in U)U.hasOwnProperty(B)&&(B==="commands"?p(U,B,!0):p(U,B,I));else if(h.isArray(U))for(let B=0;B<U.length;B++)p(U,B,I)}for(let _ in r)r.hasOwnProperty(_)&&p(r,_)}}class f extends y{validate(i){let r=i;r.isBuiltin=this._isBuiltin,r.isUserBuiltin=!this._isBuiltin&&!!r.isUserBuiltin,r.isUnderDevelopment=this._isUnderDevelopment;let l=[];return f.isValidExtensionDescription(this._ourVersion,this._ourProductDate,this._absoluteFolderPath,r,l)?(l.forEach(v=>{this._log.warn(this._absoluteFolderPath,v)}),r.publisher||(r.publisher="undefined_publisher"),r.id=(0,P.getExtensionId)(r.publisher,r.name),r.identifier=new b.ExtensionIdentifier(r.id),r.extensionLocation=m.URI.file(this._absoluteFolderPath),r):(l.forEach(v=>{this._log.error(this._absoluteFolderPath,v)}),null)}static isValidExtensionDescription(i,r,l,v,D){return f.baseIsValidExtensionDescription(l,v,D)?w.valid(v.version)?(0,d.isValidExtensionVersion)(i,r,v,D):(D.push(g.localize(6,null)),!1):!1}static baseIsValidExtensionDescription(i,r,l){if(!r)return l.push(g.localize(7,null)),!1;if(typeof r.publisher!="undefined"&&typeof r.publisher!="string")return l.push(g.localize(8,null)),!1;if(typeof r.name!="string")return l.push(g.localize(9,null,"name")),!1;if(typeof r.version!="string")return l.push(g.localize(10,null,"version")),!1;if(!r.engines)return l.push(g.localize(11,null,"engines")),!1;if(typeof r.engines.vscode!="string")return l.push(g.localize(12,null,"engines.vscode")),!1;if(typeof r.extensionDependencies!="undefined"&&!f._isStringArray(r.extensionDependencies))return l.push(g.localize(13,null,"extensionDependencies")),!1;if(typeof r.activationEvents!="undefined"){if(!f._isStringArray(r.activationEvents))return l.push(g.localize(14,null,"activationEvents")),!1;if(typeof r.main=="undefined"&&typeof r.browser=="undefined")return l.push(g.localize(15,null,"activationEvents","main")),!1}if(typeof r.main!="undefined"){if(typeof r.main!="string")return l.push(g.localize(16,null,"main")),!1;{const v=R.join(i,r.main);v.startsWith(i)||l.push(g.localize(17,null,v,i))}if(typeof r.activationEvents=="undefined")return l.push(g.localize(18,null,"activationEvents","main")),!1}if(typeof r.browser!="undefined"){if(typeof r.browser!="string")return l.push(g.localize(19,null,"browser")),!1;{const v=R.join(i,r.browser);v.startsWith(i)||l.push(g.localize(20,null,v,i))}if(typeof r.activationEvents=="undefined")return l.push(g.localize(21,null,"activationEvents","browser")),!1}return!0}static _isStringArray(i){if(!Array.isArray(i))return!1;for(let r=0,l=i.length;r<l;r++)if(typeof i[r]!="string")return!1;return!0}}class c{constructor(i,r,l,v,D,L,p,_,A){this.ourVersion=i,this.ourProductDate=r,this.commit=l,this.locale=v,this.devMode=D,this.absoluteFolderPath=L,this.isBuiltin=p,this.isUnderDevelopment=_,this.translations=A}static createNLSConfig(i){return{devMode:i.devMode,locale:i.locale,pseudo:i.locale==="pseudo",translations:i.translations}}static equals(i,r){return i.ourVersion===r.ourVersion&&i.ourProductDate===r.ourProductDate&&i.commit===r.commit&&i.locale===r.locale&&i.devMode===r.devMode&&i.absoluteFolderPath===r.absoluteFolderPath&&i.isBuiltin===r.isBuiltin&&i.isUnderDevelopment===r.isUnderDevelopment&&i.mtime===r.mtime&&o.Translations.equals(i.translations,r.translations)}}e.ExtensionScannerInput=c;class a{constructor(i){this.root=i}resolveExtensions(){return n.Promises.readDirsInDir(this.root).then(i=>i.map(r=>({name:r,path:R.join(this.root,r)})))}}class t{static scanExtension(i,r,l,v,D,L,p){return v=R.normalize(v),new E(i,r,l,v,D,L).parse().then(A=>A===null?null:new C(i,r,l,v,D,L,p).replaceNLS(A)).then(A=>A===null?null:new f(i,r,l,v,D,L).validate(A))}static async scanExtensions(i,r,l=null){const v=i.absoluteFolderPath,D=i.isBuiltin,L=i.isUnderDevelopment;l||(l=new a(v));try{let p={};if(!D)try{const B=await n.Promises.readFile(R.join(v,".obsolete"),"utf8");p=JSON.parse(B)}catch(B){}let _=await l.resolveExtensions();_.sort((B,ee)=>B.name<ee.name?-1:1),D||(_=_.filter(B=>B.name.indexOf(".")!==0));const A=c.createNLSConfig(i);let I=await Promise.all(_.map(B=>this.scanExtension(i.ourVersion,i.ourProductDate,r,B.path,D,L,A))),U=T.coalesce(I);return U=U.filter(B=>B!==null&&!p[new P.ExtensionIdentifierWithVersion({id:(0,P.getGalleryExtensionId)(B.publisher,B.name)},B.version).key()]),D||(U=(0,P.groupByExtension)(U,ee=>({id:ee.identifier.value,uuid:ee.uuid})).map(ee=>ee.sort((Q,O)=>w.rcompare(Q.version,O.version))[0])),U.sort((B,ee)=>B.extensionLocation.fsPath<ee.extensionLocation.fsPath?-1:1),U}catch(p){return r.error(v,p),[]}}static scanOneOrMultipleExtensions(i,r){const l=i.absoluteFolderPath,v=i.isBuiltin,D=i.isUnderDevelopment;return n.SymlinkSupport.existsFile(R.join(l,u)).then(L=>{if(L){const p=c.createNLSConfig(i);return this.scanExtension(i.ourVersion,i.ourProductDate,r,l,v,D,p).then(_=>_===null?[]:[_])}return this.scanExtensions(i,r)},L=>(r.error(l,L),[]))}static scanSingleExtension(i,r){const l=i.absoluteFolderPath,v=i.isBuiltin,D=i.isUnderDevelopment,L=c.createNLSConfig(i);return this.scanExtension(i.ourVersion,i.ourProductDate,r,l,v,D,L)}static mergeBuiltinExtensions(i,r){return Promise.all([i,r]).then(([l,v])=>{let D=Object.create(null);for(let p=0,_=l.length;p<_;p++)D[b.ExtensionIdentifier.toKey(l[p].identifier)]=l[p];for(let p=0,_=v.length;p<_;p++)D[b.ExtensionIdentifier.toKey(v[p].identifier)]=v[p];let L=Object.keys(D).map(p=>D[p]);return L.sort((p,_)=>{const A=R.basename(p.extensionLocation.fsPath),I=R.basename(_.extensionLocation.fsPath);return A<I?-1:A>I?1:0}),L})}}e.ExtensionScanner=t}),define(J[198],Z([0,1,41,22,36,16,25,6,3,17,7,49,42,56,30,58,188,89,189,192,197,65]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y,E,C,f,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalProviderChannel=e.ExtensionEnvironmentChannel=e.FileProviderChannel=void 0;class t extends b.DiskFileSystemProvider{constructor(){super(...arguments);this.watches=new Map}dispose(){this.watches.forEach(L=>L.dispose()),this.watches.clear(),super.dispose()}_watch(L,p,_){this.watches.set(L,this.watch(p,_))}unwatch(L){this.watches.get(L).dispose(),this.watches.delete(L)}}class s{constructor(L,p){this.environmentService=L,this.logService=p,this.watchers=new Map,this.provider=new b.DiskFileSystemProvider(this.logService)}listen(L,p,_){switch(p){case"filechange":return this.filechange(L,_[0]);case"readFileStream":return this.readFileStream(_[0],_[1])}throw new Error(`Invalid listen '${p}'`)}filechange(L,p){const _=new S.Emitter({onFirstListenerAdd:()=>{const A=new t(this.logService);this.watchers.set(p,A);const I=(0,a.createServerURITransformer)(L.remoteAuthority);A.onDidChangeFile(U=>{_.fire(U.map(B=>({...B,resource:I.transformOutgoing(B.resource)})))}),A.onDidErrorOccur(U=>this.logService.error(U))},onLastListenerRemove:()=>{this.watchers.get(p).dispose(),this.watchers.delete(p)}});return _.event}readFileStream(L,p){const _=new T.CancellationTokenSource,A=this.provider.readFileStream(this.transform(L),p,_.token),I=new S.Emitter({onFirstListenerAdd:()=>{A.on("data",U=>I.fire(k.VSBuffer.wrap(U))),A.on("error",U=>I.fire(U)),A.on("end",()=>I.fire("end"))},onLastListenerRemove:()=>_.cancel()});return I.event}call(L,p,_){switch(p){case"stat":return this.stat(_[0]);case"open":return this.open(_[0],_[1]);case"close":return this.close(_[0]);case"read":return this.read(_[0],_[1],_[2]);case"readFile":return this.readFile(_[0]);case"write":return this.write(_[0],_[1],_[2],_[3],_[4]);case"writeFile":return this.writeFile(_[0],_[1],_[2]);case"delete":return this.delete(_[0],_[1]);case"mkdir":return this.mkdir(_[0]);case"readdir":return this.readdir(_[0]);case"rename":return this.rename(_[0],_[1],_[2]);case"copy":return this.copy(_[0],_[1],_[2]);case"watch":return this.watch(_[0],_[1],_[2],_[3]);case"unwatch":return this.unwatch(_[0],_[1])}throw new Error(`Invalid call '${p}'`)}dispose(){this.watchers.forEach(L=>L.dispose()),this.watchers.clear()}async stat(L){return this.provider.stat(this.transform(L))}async open(L,p){return this.provider.open(this.transform(L),p)}async close(L){return this.provider.close(L)}async read(L,p,_){const A=k.VSBuffer.alloc(_),I=await this.provider.read(L,p,A.buffer,0,_);return[A,I]}async readFile(L){return k.VSBuffer.wrap(await this.provider.readFile(this.transform(L)))}write(L,p,_,A,I){return this.provider.write(L,p,_.buffer,A,I)}writeFile(L,p,_){return this.provider.writeFile(this.transform(L),p.buffer,_)}async delete(L,p){return this.provider.delete(this.transform(L),p)}async mkdir(L){return this.provider.mkdir(this.transform(L))}async readdir(L){return this.provider.readdir(this.transform(L))}async rename(L,p,_){return this.provider.rename(this.transform(L),n.URI.from(p),_)}copy(L,p,_){return this.provider.copy(this.transform(L),n.URI.from(p),_)}async watch(L,p,_,A){this.watchers.get(L)._watch(p,this.transform(_),A)}async unwatch(L,p){this.watchers.get(L).unwatch(p)}transform(L){if(/^\/static[^/]*\//.test(L.path))return n.URI.file(this.environmentService.appRoot+L.path.replace(/^\/static[^/]*\//,"/"));if(L.path==="/vscode-resource"&&L.query)try{const p=JSON.parse(L.query);if(p.requestResourcePath)return n.URI.file(p.requestResourcePath)}catch(p){}return n.URI.from(L)}}e.FileProviderChannel=s;class i{constructor(L,p,_,A){this.environment=L,this.log=p,this.telemetry=_,this.connectionToken=A}listen(L,p){throw new Error(`Invalid listen '${p}'`)}async call(L,p,_){switch(p){case"getEnvironmentData":return(0,P.transformOutgoingURIs)(await this.getEnvironmentData(),(0,a.createServerURITransformer)(L.remoteAuthority));case"scanExtensions":return(0,P.transformOutgoingURIs)(await this.scanExtensions(_.language),(0,a.createServerURITransformer)(L.remoteAuthority));case"getDiagnosticInfo":return this.getDiagnosticInfo();case"disableTelemetry":return this.disableTelemetry();case"logTelemetry":return this.logTelemetry(_.eventName,_.data);case"flushTelemetry":return this.flushTelemetry()}throw new Error(`Invalid call '${p}'`)}async getEnvironmentData(){return{pid:process.pid,connectionToken:this.connectionToken,appRoot:n.URI.file(this.environment.appRoot),settingsPath:this.environment.settingsResource,logsPath:n.URI.file(this.environment.logsPath),extensionsPath:n.URI.file(this.environment.extensionsPath),extensionHostLogsPath:n.URI.file(w.join(this.environment.logsPath,"extension-host")),globalStorageHome:this.environment.globalStorageHome,workspaceStorageHome:this.environment.workspaceStorageHome,userHome:this.environment.userHome,arch:process.arch,useHostProxy:!1,os:h.OS,marks:[]}}async scanExtensions(L){const p=await(0,u.getTranslations)(L,this.environment.userDataPath),_=(U,B,ee)=>Promise.all(ee.map(Q=>c.ExtensionScanner.scanExtensions(new c.ExtensionScannerInput(o.default.version,o.default.date,o.default.commit,L,!!process.env.VSCODE_DEV,Q,U,B,p),this.log))),A=async()=>_(!0,!1,[this.environment.builtinExtensionsPath,...this.environment.extraBuiltinExtensionPaths]),I=async()=>_(!1,!0,[this.environment.extensionsPath,...this.environment.extraExtensionPaths]);return Promise.all([A(),I()]).then(U=>{const B=new Map;return U.forEach(ee=>{ee.forEach(Q=>{Q.forEach(O=>{const $=d.ExtensionIdentifier.toKey(O.identifier);if(B.has($)){const W=B.get($).extensionLocation.fsPath,K=O.extensionLocation.fsPath;this.log.warn(`${W} has been overridden ${K}`)}B.set($,O)})})}),Array.from(B.values())})}getDiagnosticInfo(){throw new Error("not implemented")}async disableTelemetry(){this.telemetry.setEnabled(!1)}async logTelemetry(L,p){this.telemetry.publicLog(L,p)}async flushTelemetry(){}}e.ExtensionEnvironmentChannel=i;class r extends f.AbstractVariableResolverService{constructor(L,p,_){super({getFolderUri:A=>{const I=p.workspaceFolders.find(U=>U.name===A);return I&&n.URI.revive(I.uri)},getWorkspaceFolderCount:()=>p.workspaceFolders.length,getConfigurationValue:(A,I)=>p.resolvedVariables[`config:${I}`],getAppRoot:()=>p.resolverEnv&&p.resolverEnv.VSCODE_CWD||_.VSCODE_CWD||process.cwd(),getExecPath:()=>p.resolverEnv&&p.resolverEnv.VSCODE_EXEC_PATH||_.VSCODE_EXEC_PATH,getFilePath:()=>{const A=v(L,p.activeFileResource);if(!!A)return A.scheme==="file"?A.fsPath:A.path},getSelectedText:()=>p.resolvedVariables.selectedText,getLineNumber:()=>p.resolvedVariables.selectedText},void 0,Promise.resolve(_))}}class l{constructor(L,p){this.logService=L,this.ptyService=p}listen(L,p,_){switch(g.logger.trace("TerminalProviderChannel:listen",(0,g.field)("event",p),(0,g.field)("args",_)),p){case"$onPtyHostExitEvent":return this.ptyService.onPtyHostExit||S.Event.None;case"$onPtyHostStartEvent":return this.ptyService.onPtyHostStart||S.Event.None;case"$onPtyHostUnresponsiveEvent":return this.ptyService.onPtyHostUnresponsive||S.Event.None;case"$onPtyHostResponsiveEvent":return this.ptyService.onPtyHostResponsive||S.Event.None;case"$onPtyHostRequestResolveVariablesEvent":return this.ptyService.onPtyHostRequestResolveVariables||S.Event.None;case"$onProcessDataEvent":return this.ptyService.onProcessData;case"$onProcessExitEvent":return this.ptyService.onProcessExit;case"$onProcessReadyEvent":return this.ptyService.onProcessReady;case"$onProcessReplayEvent":return this.ptyService.onProcessReplay;case"$onProcessTitleChangedEvent":return this.ptyService.onProcessTitleChanged;case"$onProcessShellTypeChangedEvent":return this.ptyService.onProcessShellTypeChanged;case"$onProcessOverrideDimensionsEvent":return this.ptyService.onProcessOverrideDimensions;case"$onProcessResolvedShellLaunchConfigEvent":return this.ptyService.onProcessResolvedShellLaunchConfig;case"$onProcessOrphanQuestion":return this.ptyService.onProcessOrphanQuestion;case"$onDidRequestDetach":return this.ptyService.onDidRequestDetach;case"$onProcessDidChangeHasChildProcesses":return this.ptyService.onProcessDidChangeHasChildProcesses;case"$onExecuteCommand":return S.Event.None}throw new Error(`Invalid listen '${p}'`)}call(L,p,_){switch(g.logger.trace("TerminalProviderChannel:call",(0,g.field)("command",p),(0,g.field)("args",_)),p){case"$restartPtyHost":return this.ptyService.restartPtyHost();case"$createProcess":return this.createProcess(L.remoteAuthority,_);case"$attachToProcess":return this.ptyService.attachToProcess(_[0]);case"$start":return this.ptyService.start(_[0]);case"$input":return this.ptyService.input(_[0],_[1]);case"$acknowledgeDataEvent":return this.ptyService.acknowledgeDataEvent(_[0],_[1]);case"$shutdown":return this.ptyService.shutdown(_[0],_[1]);case"$resize":return this.ptyService.resize(_[0],_[1],_[2]);case"$getInitialCwd":return this.ptyService.getInitialCwd(_[0]);case"$getCwd":return this.ptyService.getCwd(_[0]);case"$sendCommandResult":return this.sendCommandResult(_[0],_[1],_[2],_[3]);case"$orphanQuestionReply":return this.ptyService.orphanQuestionReply(_[0]);case"$listProcesses":return this.ptyService.listProcesses();case"$setTerminalLayoutInfo":return this.ptyService.setTerminalLayoutInfo(_);case"$getTerminalLayoutInfo":return this.ptyService.getTerminalLayoutInfo(_);case"$getEnvironment":return this.ptyService.getEnvironment();case"$getDefaultSystemShell":return this.ptyService.getDefaultSystemShell(_[0]);case"$reduceConnectionGraceTime":return this.ptyService.reduceConnectionGraceTime();case"$updateTitle":return this.ptyService.updateTitle(_[0],_[1],_[2]);case"$getProfiles":return this.ptyService.getProfiles(_[0],_[1],_[2]);case"$acceptPtyHostResolvedVariables":return this.ptyService.acceptPtyHostResolvedVariables(_[0],_[1]);case"$updateIcon":return this.ptyService.updateIcon(_[0],_[1],_[2])}throw new Error(`Invalid call '${p}'`)}async dispose(){}async createProcess(L,p){const _={name:p.shellLaunchConfig.name,executable:p.shellLaunchConfig.executable,args:p.shellLaunchConfig.args,cwd:typeof p.shellLaunchConfig.cwd!="string"?v(L,p.shellLaunchConfig.cwd):p.shellLaunchConfig.cwd,env:p.shellLaunchConfig.env},A=v(L,p.activeWorkspaceFolder?.uri),I=A&&p.activeWorkspaceFolder?{...p.activeWorkspaceFolder,uri:A,toResource:W=>m.joinPath(A,W)}:void 0,U=new r(L,p,process.env),B=C.createVariableResolver(I,process.env,U);_.cwd=C.getCwd(_,R.homedir(),B,A,p.configuration["terminal.integrated.cwd"],this.logService);const ee=()=>h.isWindows?p.configuration["terminal.integrated.env.windows"]:h.isMacintosh?p.configuration["terminal.integrated.env.osx"]:p.configuration["terminal.integrated.env.linux"],Q=async()=>{const W=await this.ptyService.getEnvironment();return W.VSCODE_IPC_HOOK_CLI=process.env.VSCODE_IPC_HOOK_CLI,W},O=C.createTerminalEnvironment(_,ee(),B,o.default.version,p.configuration["terminal.integrated.detectLocale"],await Q());if(!_.strictEnv){const W=new Map;for(const[V,M]of p.envVariableCollections)W.set(V,{map:(0,E.deserializeEnvironmentVariableCollection)(M)});new y.MergedEnvironmentVariableCollection(W).applyToProcessEnvironment(O)}return{persistentTerminalId:await this.ptyService.createProcess(_,_.cwd,p.cols,p.rows,"11",O,process.env,!1,p.shouldPersistTerminal,p.workspaceId,p.workspaceName),resolvedShellLaunchConfig:_}}async sendCommandResult(L,p,_,A){throw new Error("not implemented")}}e.TerminalProviderChannel=l;function v(D,L){const p=(0,a.createServerURITransformer)(D);return L&&n.URI.revive(p.transformIncoming(L))}}),define(J[199],Z([0,1,143]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteFileSystemProvider=e.REMOTE_FILE_SYSTEM_CHANNEL_NAME=void 0,e.REMOTE_FILE_SYSTEM_CHANNEL_NAME="remotefilesystem";class R extends g.IPCFileSystemProvider{constructor(k){super(k.getConnection().getChannel(e.REMOTE_FILE_SYSTEM_CHANNEL_NAME));this.setCaseSensitive(!0),(async()=>{const T=await k.getEnvironment();this.setCaseSensitive(T?.os===3)})()}}e.RemoteFileSystemProvider=R}),define(J[200],Z([0,1,4]),function(x,e,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IRemoteAgentService=e.RemoteExtensionLogFileName=void 0,e.RemoteExtensionLogFileName="remoteagent",e.IRemoteAgentService=(0,g.createDecorator)("remoteAgentService")}),define(J[48],Z([0,1,32,14,5,13,15,115,216,217]),function(x,e,g,R,w,k,T,S,h,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=e.extract=e.zip=e.ExtractError=void 0;class n extends Error{constructor(t,s){let i=s.message;switch(t){case"CorruptZip":i=`Corrupt ZIP: ${i}`;break}super(i);this.type=t,this.cause=s}}e.ExtractError=n;function P(a){const t=a.externalFileAttributes>>16||33188;return[448,56,7].map(s=>t&s).reduce((s,i)=>s+i,t&61440)}function d(a){if(a instanceof n)return a;let t;return/end of central directory record signature not found/.test(a.message)&&(t="CorruptZip"),new n(t,a)}function b(a,t,s,i,r,l){const v=w.dirname(t),D=w.join(i,v);if(!D.startsWith(i))return Promise.reject(new Error(S.localize(0,null,t)));const L=w.join(i,t);let p;return l.onCancellationRequested(()=>{p&&p.destroy()}),Promise.resolve(T.Promises.mkdir(D,{recursive:!0})).then(()=>new Promise((_,A)=>{if(!l.isCancellationRequested)try{p=(0,g.createWriteStream)(L,{mode:s}),p.once("close",()=>_()),p.once("error",A),a.once("error",A),a.pipe(p)}catch(I){A(I)}}))}function o(a,t,s,i){let r=(0,R.createCancelablePromise)(()=>Promise.resolve()),l=0;return i.onCancellationRequested(()=>{r.cancel(),a.close()}),new Promise((v,D)=>{const L=new R.Sequencer,p=_=>{_.isCancellationRequested||(l++,a.readEntry())};a.once("error",D),a.once("close",()=>r.then(()=>{i.isCancellationRequested||a.entryCount===l?v():D(new n("Incomplete",new Error(S.localize(1,null,l,a.entryCount))))},D)),a.readEntry(),a.on("entry",_=>{if(i.isCancellationRequested)return;if(!s.sourcePathRegex.test(_.fileName)){p(i);return}const A=_.fileName.replace(s.sourcePathRegex,"");if(/\/$/.test(A)){const B=w.join(t,A);r=(0,R.createCancelablePromise)(ee=>T.Promises.mkdir(B,{recursive:!0}).then(()=>p(ee)).then(void 0,D));return}const I=y(a,_),U=P(_);r=(0,R.createCancelablePromise)(B=>L.queue(()=>I.then(ee=>b(ee,A,U,t,s,B).then(()=>p(B)))).then(null,D))})})}function u(a,t=!1){return new Promise((s,i)=>{(0,h.open)(a,t?{lazyEntries:!0}:void 0,(r,l)=>{r?i(d(r)):s((0,k.assertIsDefined)(l))})})}function y(a,t){return new Promise((s,i)=>{a.openReadStream(t,(r,l)=>{r?i(d(r)):s((0,k.assertIsDefined)(l))})})}function E(a,t){return new Promise((s,i)=>{const r=new m.ZipFile;t.forEach(v=>{v.contents?r.addBuffer(typeof v.contents=="string"?Buffer.from(v.contents,"utf8"):v.contents,v.path):v.localPath&&r.addFile(v.localPath,v.path)}),r.end();const l=(0,g.createWriteStream)(a);r.outputStream.pipe(l),r.outputStream.once("error",i),l.once("error",i),l.once("finish",()=>s(a))})}e.zip=E;function C(a,t,s={},i){const r=new RegExp(s.sourcePath?`^${s.sourcePath}`:"");let l=u(a,!0);return s.overwrite&&(l=l.then(v=>T.Promises.rm(t).then(()=>v))),l.then(v=>o(v,t,{sourcePathRegex:r},i))}e.extract=C;function f(a,t){return u(a).then(s=>new Promise((i,r)=>{s.on("entry",l=>{l.fileName===t&&y(s,l).then(v=>i(v),v=>r(v))}),s.once("close",()=>r(new Error(S.localize(2,null,t))))}))}function c(a,t){return f(a,t).then(s=>new Promise((i,r)=>{const l=[];s.once("error",r),s.on("data",v=>l.push(v)),s.on("end",()=>i(Buffer.concat(l)))}))}e.buffer=c}),define(J[201],Z([0,1,48,123]),function(x,e,g,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getManifest=void 0;function w(k){return(0,g.buffer)(k,"extension/package.json").then(T=>{try{return JSON.parse(T.toString("utf8"))}catch(S){throw new Error((0,R.localize)(0,null))}})}e.getManifest=w}),define(J[202],Z([0,1,21,14,11,2,8,5,3,17,45,7,26,15,48,124,23,28,29,142,19,12,46]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y,E,C,f,c,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsScanner=void 0;const s="scanningSystem",i="scanningUser",r="extracting",l="deleting",v="renaming";let D=class extends k.Disposable{constructor(p,_,A,I,U){super();this.beforeRemovingExtension=p,this.fileService=_,this.logService=A,this.environmentService=I,this.productService=U,this._devSystemExtensionsPath=null,this.systemExtensionsPath=I.builtinExtensionsPath,this.extensionsPath=I.extensionsPath,this.uninstalledPath=S.join(this.extensionsPath,".obsolete"),this.uninstalledFileLimiter=new R.Queue}async cleanUp(){await this.removeUninstalledExtensions(),await this.removeOutdatedExtensions()}async scanExtensions(p){const _=[];(p===null||p===0)&&_.push(this.scanSystemExtensions().then(null,A=>Promise.reject(new E.ExtensionManagementError(this.joinErrors(A).message,s)))),(p===null||p===1)&&_.push(this.scanUserExtensions(!0).then(null,A=>Promise.reject(new E.ExtensionManagementError(this.joinErrors(A).message,i))));try{const A=await Promise.all(_);return(0,g.flatten)(A)}catch(A){throw this.joinErrors(A)}}async scanUserExtensions(p){this.logService.trace("Started scanning user extensions");let[_,A]=await Promise.all([this.getUninstalledExtensions(),this.scanAllUserExtensions()]);return A=A.filter(I=>!_[new C.ExtensionIdentifierWithVersion(I.identifier,I.manifest.version).key()]),p&&(A=(0,C.groupByExtension)(A,U=>U.identifier).map(U=>U.sort((B,ee)=>n.rcompare(B.manifest.version,ee.manifest.version))[0])),this.logService.trace("Scanned user extensions:",A.length),A}async scanAllUserExtensions(){return this.scanExtensionsInDirs([this.extensionsPath,...this.environmentService.extraExtensionPaths],1)}async extractUserExtension(p,_,A){const I=p.key(),U=S.join(this.extensionsPath,`.${(0,d.generateUuid)()}`),B=S.join(this.extensionsPath,I);try{await b.Promises.rm(B)}catch(Q){try{await b.Promises.rm(B)}catch(O){}throw new E.ExtensionManagementError((0,u.localize)(0,null,B,p.id),l)}await this.extractAtLocation(p,_,U,A);let ee=await this.scanExtension(P.URI.file(U),1);if(!ee)throw new Error((0,u.localize)(1,null,U));await this.storeMetadata(ee,{installedTimestamp:Date.now()});try{await this.rename(p,U,B,Date.now()+2*60*1e3),this.logService.info("Renamed to",B)}catch(Q){try{await b.Promises.rm(U)}catch(O){}if(Q.code==="ENOTEMPTY")this.logService.info("Rename failed because extension was installed by another source. So ignoring renaming.",p.id);else throw this.logService.info(`Rename failed because of ${(0,w.getErrorMessage)(Q)}. Deleted from extracted location`,U),Q}try{ee=await this.scanExtension(P.URI.file(B),1)}catch(Q){}if(ee)return ee;throw new Error((0,u.localize)(2,null,this.extensionsPath))}async saveMetadataForLocalExtension(p,_){return this.setMetadata(p,_),await this.storeMetadata(p,{..._,installedTimestamp:p.installedTimestamp}),p}async storeMetadata(p,_){_.isMachineScoped=_.isMachineScoped||void 0,_.isBuiltin=_.isBuiltin||void 0,_.installedTimestamp=_.installedTimestamp||void 0;const A=S.join(p.location.fsPath,"package.json"),I=await b.Promises.readFile(A,"utf8"),{manifest:U}=await this.parseManifest(I);return U.__metadata=_,await b.Promises.writeFile(A,JSON.stringify(U,null,"	")),p}getUninstalledExtensions(){return this.withUninstalledExtensions()}async setUninstalled(...p){const _=p.map(A=>new C.ExtensionIdentifierWithVersion(A.identifier,A.manifest.version));await this.withUninstalledExtensions(A=>{_.forEach(I=>A[I.key()]=!0)})}async setInstalled(p){await this.withUninstalledExtensions(I=>delete I[p.key()]);const A=(await this.scanExtensions(1)).find(I=>new C.ExtensionIdentifierWithVersion(I.identifier,I.manifest.version).equals(p))||null;return A?(await this.storeMetadata(A,{installedTimestamp:Date.now()}),this.scanExtension(A.location,1)):null}async withUninstalledExtensions(p){return this.uninstalledFileLimiter.queue(async()=>{let _;try{_=await b.Promises.readFile(this.uninstalledPath,"utf8")}catch(I){if(I.code!=="ENOENT")throw I}let A={};if(_)try{A=JSON.parse(_)}catch(I){}return p&&(p(A),Object.keys(A).length?await b.Promises.writeFile(this.uninstalledPath,JSON.stringify(A)):await b.Promises.rm(this.uninstalledPath)),A})}async removeExtension(p,_){this.logService.trace(`Deleting ${_} extension from disk`,p.identifier.id,p.location.fsPath),await b.Promises.rm(p.location.fsPath),this.logService.info("Deleted from disk",p.identifier.id,p.location.fsPath)}async removeUninstalledExtension(p){await this.removeExtension(p,"uninstalled"),await this.withUninstalledExtensions(_=>delete _[new C.ExtensionIdentifierWithVersion(p.identifier,p.manifest.version).key()])}async extractAtLocation(p,_,A,I){this.logService.trace(`Started extracting the extension from ${_} to ${A}`);try{await b.Promises.rm(A)}catch(U){throw new E.ExtensionManagementError(this.joinErrors(U).message,l)}try{await(0,o.extract)(_,A,{sourcePath:"extension",overwrite:!0},I),this.logService.info(`Extracted extension to ${A}:`,p.id)}catch(U){try{await b.Promises.rm(A)}catch(B){}throw new E.ExtensionManagementError(U.message,U instanceof o.ExtractError&&U.type?U.type:r)}}async rename(p,_,A,I){try{await b.Promises.rename(_,A)}catch(U){if(h.isWindows&&U&&U.code==="EPERM"&&Date.now()<I)return this.logService.info(`Failed renaming ${_} to ${A} with 'EPERM' error. Trying again...`,p.id),this.rename(p,_,A,I);throw new E.ExtensionManagementError(U.message||(0,u.localize)(3,null,_,A),U.code||v)}}async scanSystemExtensions(){this.logService.trace("Started scanning system extensions");const p=this.scanDefaultSystemExtensions();if(this.environmentService.isBuilt)return p;const _=this.scanDevSystemExtensions(),[A,I]=await Promise.all([p,_]);return[...A,...I]}async scanExtensionsInDir(p,_){const A=new R.Limiter(10),I=await this.fileService.resolve(P.URI.file(p));return I.children?(await Promise.all(I.children.filter(B=>B.isDirectory).map(B=>A.queue(async()=>_===1&&(0,m.basename)(B.resource).indexOf(".")===0?null:this.scanExtension(B.resource,_))))).filter(B=>B&&B.identifier):[]}async scanExtension(p,_){try{const A=await this.fileService.resolve(p);if(A.children){const{manifest:I,metadata:U}=await this.readManifest(p.fsPath),B=A.children.find(({name:$})=>/^readme(\.txt|\.md|)$/i.test($))?.resource,ee=A.children.find(({name:$})=>/^changelog(\.txt|\.md|)$/i.test($))?.resource,Q={id:(0,C.getGalleryExtensionId)(I.publisher,I.name)},O={type:_,identifier:Q,manifest:I,location:p,readmeUrl:B,changelogUrl:ee,publisherDisplayName:null,publisherId:null,isMachineScoped:!1,isBuiltin:_===0};return U&&(this.setMetadata(O,U),O.installedTimestamp=U.installedTimestamp),O}}catch(A){_!==0&&this.logService.trace(A)}return null}async scanDefaultSystemExtensions(){const p=await this.scanExtensionsInDirs([this.systemExtensionsPath,...this.environmentService.extraBuiltinExtensionPaths],0);return this.logService.trace("Scanned system extensions:",p.length),p}async scanDevSystemExtensions(){const p=this.getDevSystemExtensionsList();if(p.length){const _=await this.scanExtensionsInDir(this.devSystemExtensionsPath,0);return this.logService.trace("Scanned dev system extensions:",_.length),_.filter(A=>p.some(I=>(0,C.areSameExtensions)(A.identifier,{id:I})))}else return[]}setMetadata(p,_){p.publisherDisplayName=_.publisherDisplayName||null,p.publisherId=_.publisherId||null,p.identifier.uuid=_.id,p.isMachineScoped=!!_.isMachineScoped,p.isBuiltin=p.type===0||!!_.isBuiltin}async removeUninstalledExtensions(){const p=await this.getUninstalledExtensions(),_=await this.scanAllUserExtensions(),A=new Set;for(const B of _)p[new C.ExtensionIdentifierWithVersion(B.identifier,B.manifest.version).key()]||A.add(B.identifier.id.toLowerCase());const I=(0,C.groupByExtension)(_,B=>B.identifier);await R.Promises.settled(I.map(async B=>{const ee=B.sort((Q,O)=>n.rcompare(Q.manifest.version,O.manifest.version))[0];A.has(ee.identifier.id.toLowerCase())||await this.beforeRemovingExtension(ee)}));const U=_.filter(B=>p[new C.ExtensionIdentifierWithVersion(B.identifier,B.manifest.version).key()]);await R.Promises.settled(U.map(B=>this.removeUninstalledExtension(B)))}async removeOutdatedExtensions(){const p=await this.scanAllUserExtensions(),_=[],A=(0,C.groupByExtension)(p,I=>I.identifier);_.push(...(0,g.flatten)(A.map(I=>I.sort((U,B)=>n.rcompare(U.manifest.version,B.manifest.version)).slice(1)))),await R.Promises.settled(_.map(I=>this.removeExtension(I,"outdated")))}getDevSystemExtensionsList(){return(this.productService.builtInExtensions||[]).map(p=>p.name)}joinErrors(p){const _=Array.isArray(p)?p:[p];return _.length===1?_[0]instanceof Error?_[0]:new Error(_[0]):_.reduce((A,I)=>new Error(`${A.message}${A.message?",":""}${I instanceof Error?I.message:I}`),new Error(""))}get devSystemExtensionsPath(){return this._devSystemExtensionsPath||(this._devSystemExtensionsPath=S.normalize(S.join(T.FileAccess.asFileUri("",x).fsPath,"..",".build","builtInExtensions"))),this._devSystemExtensionsPath}async readManifest(p){const _=[b.Promises.readFile(S.join(p,"package.json"),"utf8").then(B=>this.parseManifest(B)),b.Promises.readFile(S.join(p,"package.nls.json"),"utf8").then(void 0,B=>B.code!=="ENOENT"?Promise.reject(B):"{}").then(B=>JSON.parse(B))],[{manifest:A,metadata:I},U]=await Promise.all(_);return{manifest:(0,f.localizeManifest)(A,U),metadata:I}}parseManifest(p){return new Promise((_,A)=>{try{const I=JSON.parse(p),U=I.__metadata||null;_({manifest:I,metadata:U})}catch(I){A(new Error((0,u.localize)(4,null)))}})}async scanExtensionsInDirs(p,_){return(await Promise.all(p.map(I=>this.scanExtensionsInDir(I,_)))).reduce((I,U)=>I.concat(U),[])}};D=we([ge(1,c.IFileService),ge(2,a.ILogService),ge(3,y.INativeEnvironmentService),ge(4,t.IProductService)],D),e.ExtensionsScanner=D}),define(J[90],Z([0,1,37,8,5,3,17,45,7,26,15,48,122,150,23,172,28,29,156,157,201,152,202,158,51,19,4,12,30,40]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y,E,C,f,c,a,t,s,i,r,l,v,D,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionManagementService=void 0;const p="unsetUninstalled",_="downloading";let A=class extends u.AbstractExtensionManagementService{constructor(O,$,W,K,V,M,G){super(O,$,W);this.environmentService=K,this.downloadService=V;const z=this._register(M.createInstance(f.ExtensionsLifecycle));this.extensionsScanner=this._register(M.createInstance(t.ExtensionsScanner,F=>z.postUninstall(F))),this.manifestCache=this._register(new a.ExtensionsManifestCache(K,this)),this.extensionsDownloader=this._register(M.createInstance(C.ExtensionsDownloader));const N=this._register(new s.ExtensionsWatcher(this,G,K,W));this._register(N.onDidChangeExtensionsByAnotherSource(({added:F,removed:q})=>{F.length&&this._onDidInstallExtensions.fire(F.map(H=>({identifier:H.identifier,operation:0,local:H}))),q.forEach(H=>this._onDidUninstallExtension.fire({identifier:H}))}))}async zip(O){this.logService.trace("ExtensionManagementService#zip",O.identifier.id);const $=await this.collectFiles(O),W=await(0,P.zip)((0,T.joinPath)(this.environmentService.tmpDir,(0,m.generateUuid)()).fsPath,$);return h.URI.file(W)}async unzip(O){return this.logService.trace("ExtensionManagementService#unzip",O.toString()),(await this.install(O)).identifier}async getManifest(O){const $=await this.downloadVsix(O),W=w.resolve($.fsPath);return(0,c.getManifest)(W)}getInstalled(O=null){return this.extensionsScanner.scanExtensions(O)}async canInstall(O){return!0}async install(O,$={}){this.logService.trace("ExtensionManagementService#install",O.toString());const W=await this.downloadVsix(O),K=await(0,c.getManifest)(w.resolve(W.fsPath));if(K.engines&&K.engines.vscode&&!(0,i.isEngineValid)(K.engines.vscode,D.default.version,D.default.date))throw new Error(d.localize(0,null,(0,E.getGalleryExtensionId)(K.publisher,K.name),D.default.version));return this.installExtension(K,W,$)}async updateMetadata(O,$){return this.logService.trace("ExtensionManagementService#updateMetadata",O.identifier.id),O=await this.extensionsScanner.saveMetadataForLocalExtension(O,{...O.manifest.__metadata||{},...$}),this.manifestCache.invalidate(),O}async updateExtensionScope(O,$){return this.logService.trace("ExtensionManagementService#updateExtensionScope",O.identifier.id),O=await this.extensionsScanner.saveMetadataForLocalExtension(O,{...O.manifest.__metadata||{},isMachineScoped:$}),this.manifestCache.invalidate(),O}removeDeprecatedExtensions(){return this.extensionsScanner.cleanUp()}async downloadVsix(O){if(O.scheme===R.Schemas.file)return O;if(!this.downloadService)throw new Error("Download service is not available");const $=(0,T.joinPath)(this.environmentService.tmpDir,(0,m.generateUuid)());return await this.downloadService.download(O,$),$}createInstallExtensionTask(O,$,W){return h.URI.isUri($)?new B(O,$,W,this.galleryService,this.extensionsScanner,this.logService):new U($,W,this.extensionsDownloader,this.extensionsScanner,this.logService)}createUninstallExtensionTask(O,$){return new ee(O,$,this.extensionsScanner)}async collectFiles(O){const $=async K=>{let V=await n.Promises.readdir(K);V=V.map(z=>w.join(K,z));const M=await Promise.all(V.map(z=>n.Promises.stat(z)));let G=Promise.resolve([]);return M.forEach((z,N)=>{const F=V[N];z.isFile()&&(G=G.then(q=>[...q,F])),z.isDirectory()&&(G=G.then(q=>$(F).then(H=>[...q,...H])))}),G};return(await $(O.location.fsPath)).map(K=>({path:`extension/${w.relative(O.location.fsPath,K)}`,localPath:K}))}};A=we([ge(0,y.IExtensionGalleryService),ge(1,L.ITelemetryService),ge(2,v.ILogService),ge(3,o.INativeEnvironmentService),ge(4,(0,l.optional)(b.IDownloadService)),ge(5,l.IInstantiationService),ge(6,r.IFileService)],A),e.ExtensionManagementService=A;class I extends u.AbstractExtensionTask{constructor(O,$,W,K){super();this.identifier=O,this.source=$,this.extensionsScanner=W,this.logService=K,this._operation=1}get operation(){return this._operation}async installExtension(O,$){try{const W=await this.unsetUninstalledAndGetLocal(O.identifierWithVersion);if(W)return O.metadata?this.extensionsScanner.saveMetadataForLocalExtension(W,O.metadata):W}catch(W){throw k.isMacintosh?new y.ExtensionManagementError(d.localize(1,null),p):new y.ExtensionManagementError(d.localize(2,null),p)}return this.extract(O,$)}async unsetUninstalledAndGetLocal(O){if(!await this.isUninstalled(O))return null;this.logService.trace("Removing the extension from uninstalled list:",O.id);const W=await this.extensionsScanner.setInstalled(O);return this.logService.info("Removed the extension from uninstalled list:",O.id),W}async isUninstalled(O){return!!(await this.extensionsScanner.getUninstalledExtensions())[O.key()]}async extract({zipPath:O,identifierWithVersion:$,metadata:W},K){let V=await this.extensionsScanner.extractUserExtension($,O,K);return this.logService.info("Extracting completed.",$.id),W&&(V=await this.extensionsScanner.saveMetadataForLocalExtension(V,W)),V}}class U extends I{constructor(O,$,W,K,V){super(O.identifier,O,K,V);this.gallery=O,this.options=$,this.extensionsDownloader=W}async doRun(O){const W=(await this.extensionsScanner.scanExtensions(null)).find(M=>(0,E.areSameExtensions)(M.identifier,this.gallery.identifier));W&&(this._operation=2);const K=await this.downloadInstallableExtension(this.gallery,this._operation);K.metadata.isMachineScoped=this.options.isMachineScoped||W?.isMachineScoped,K.metadata.isBuiltin=this.options.isBuiltin||W?.isBuiltin;const V=await this.installExtension(K,O);W&&S.neq(W.manifest.version,this.gallery.version)&&await this.extensionsScanner.setUninstalled(W);try{await this.extensionsDownloader.delete(h.URI.file(K.zipPath))}catch(M){}return V}async downloadInstallableExtension(O,$){const W={id:O.identifier.uuid,publisherId:O.publisherId,publisherDisplayName:O.publisherDisplayName};let K;try{this.logService.trace("Started downloading extension:",O.identifier.id),K=(await this.extensionsDownloader.downloadExtension(O,$)).fsPath,this.logService.info("Downloaded extension:",O.identifier.id,K)}catch(V){throw new y.ExtensionManagementError((0,u.joinErrors)(V).message,_)}try{const V=await(0,c.getManifest)(K);return{zipPath:K,identifierWithVersion:new E.ExtensionIdentifierWithVersion(O.identifier,V.version),metadata:W}}catch(V){throw new y.ExtensionManagementError((0,u.joinErrors)(V).message,u.INSTALL_ERROR_VALIDATING)}}}class B extends I{constructor(O,$,W,K,V,M){super({id:(0,E.getGalleryExtensionId)(O.publisher,O.name)},$,V,M);this.manifest=O,this.location=$,this.options=W,this.galleryService=K}async doRun(O){const $=new E.ExtensionIdentifierWithVersion(this.identifier,this.manifest.version),K=(await this.extensionsScanner.scanExtensions(1)).find(M=>(0,E.areSameExtensions)(this.identifier,M.identifier)),V=await this.getMetadata(this.identifier.id,O);if(K)if(V.isMachineScoped=this.options.isMachineScoped||K.isMachineScoped,V.isBuiltin=this.options.isBuiltin||K.isBuiltin,this._operation=2,$.equals(new E.ExtensionIdentifierWithVersion(K.identifier,K.manifest.version)))try{await this.extensionsScanner.removeExtension(K,"existing")}catch(M){throw new Error(d.localize(3,null,this.manifest.displayName||this.manifest.name))}else S.gt(K.manifest.version,this.manifest.version)&&await this.extensionsScanner.setUninstalled(K);else{const M=await this.unsetUninstalledAndGetLocal($);if(M)try{await this.extensionsScanner.removeExtension(M,"existing")}catch(G){throw new Error(d.localize(4,null,this.manifest.displayName||this.manifest.name))}}return this.installExtension({zipPath:w.resolve(this.location.fsPath),identifierWithVersion:$,metadata:V},O)}async getMetadata(O,$){try{const W=(await this.galleryService.query({names:[O],pageSize:1},$)).firstPage[0];if(W)return{id:W.identifier.uuid,publisherDisplayName:W.publisherDisplayName,publisherId:W.publisherId}}catch(W){}return{}}}class ee extends u.AbstractExtensionTask{constructor(O,$,W){super();this.extension=O,this.options=$,this.extensionsScanner=W}async doRun(O){const $=[],W=await this.extensionsScanner.scanUserExtensions(!1);if(this.options.versionOnly){const K=new E.ExtensionIdentifierWithVersion(this.extension.identifier,this.extension.manifest.version);$.push(...W.filter(V=>K.equals(new E.ExtensionIdentifierWithVersion(V.identifier,V.manifest.version))))}else $.push(...W.filter(K=>(0,E.areSameExtensions)(K.identifier,this.extension.identifier)));if(!$.length)throw new Error(d.localize(5,null,this.extension.manifest.displayName||this.extension.manifest.name));if(await this.extensionsScanner.setUninstalled(...$),this.options.remove)for(const K of $)try{O.isCancellationRequested||await this.extensionsScanner.removeUninstalledExtension(K)}catch(V){throw new Error(d.localize(6,null,(0,g.toErrorMessage)(V)))}}}}),define(J[203],Z([0,1,32,36,218,67,48,133,30]),function(x,e,g,R,w,k,T,S,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enableCustomMarketplace=e.buffer=e.extract=e.tar=void 0;const m=T.extract,n=T.buffer,P=async(C,f)=>{const c=w.pack(),a=[],t=new Promise(s=>{c.on("end",()=>s(Buffer.concat(a)))});c.on("data",s=>a.push(s));for(let s=0;s<f.length;s++){const i=f[s];c.entry({name:i.path},i.contents)}return c.finalize(),await k.promisify(g.writeFile)(C,await t),C};e.tar=P;const d=async(C,f,c={},a)=>{try{await y(C,f,c,a)}catch(t){t.toString().includes("Invalid tar header")&&await m(C,f,c,a)}};e.extract=d;const b=(C,f)=>new Promise(async(c,a)=>{try{let t=!1;if(await o(C,new RegExp(f),(s,i)=>{R.normalize(s)===R.normalize(f)&&(t=!0,c(i))}),!t)throw new Error("couldn't find asset "+f)}catch(t){t.toString().includes("Invalid tar header")?n(C,f).then(c).catch(a):a(t)}});e.buffer=b;const o=async(C,f,c)=>new Promise((a,t)=>{const s=w.extract(),i=r=>{s.destroy(),t(r)};s.once("error",i),s.on("entry",async(r,l,v)=>{const D=r.name;f.test(D)?u(l).then(L=>{c(D,L),v()}).catch(i):(l.on("end",()=>v()),l.resume())}),s.on("finish",a),g.createReadStream(C).pipe(s)}),u=C=>new Promise((f,c)=>{const a=[];C.on("error",c),C.on("end",()=>f(Buffer.concat(a))),C.on("data",t=>a.push(t))}),y=async(C,f,c={},a)=>new Promise((t,s)=>{const i=new RegExp(c.sourcePath?`^${c.sourcePath}`:""),r=w.extract(),l=v=>{r.destroy(),s(v)};r.once("error",l),r.on("entry",async(v,D,L)=>{const p=()=>{D.on("end",()=>L()),D.resume()},_=R.normalize(v.name);if(a.isCancellationRequested||!i.test(_))return p();const A=_.replace(i,""),I=R.join(f,A);if(/\/$/.test(A))return g.promises.mkdir(I,{recursive:!0}).then(p);const U=R.dirname(A),B=R.join(f,U);if(B.indexOf(f)!==0)return l(new Error(S.localize(0,null,A)));await g.promises.mkdir(B,{recursive:!0});const ee=g.createWriteStream(I,{mode:v.mode});ee.once("close",()=>L()),ee.once("error",l),D.pipe(ee)}),r.once("finish",t),g.createReadStream(C).pipe(r)}),E=()=>{const C={serviceUrl:process.env.SERVICE_URL||"https://extensions.coder.com/api",resourceUrlTemplate:"",itemUrl:process.env.ITEM_URL||"",controlUrl:"",recommendationsUrl:"",...h.default.extensionsGallery||{}};Object.assign(h.default,{extensionsGallery:C});const f=T;f.zip=e.tar,f.extract=e.extract,f.buffer=e.buffer};e.enableCustomMarketplace=E}),define(J[204],Z([0,1,159,219,22,16,11,6,2,5,3,26,35,69,205]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connect=e.serve=e.Server=e.createStaticIPCHandle=e.createRandomIPCHandle=e.XDG_RUNTIME_DIR=e.WebSocketNodeSocket=e.NodeSocket=void 0;class u{constructor(D){this.socket=D,this._errorListener=L=>{if(L){if(L.code==="EPIPE")return;(0,T.onUnexpectedError)(L)}},this.socket.on("error",this._errorListener)}dispose(){this.socket.off("error",this._errorListener),this.socket.destroy()}onData(D){const L=p=>D(k.VSBuffer.wrap(p));return this.socket.on("data",L),{dispose:()=>this.socket.off("data",L)}}onClose(D){const L=p=>{D({type:0,hadError:p,error:void 0})};return this.socket.on("close",L),{dispose:()=>this.socket.off("close",L)}}onEnd(D){return this.socket.on("end",D),{dispose:()=>this.socket.off("end",D)}}write(D){if(!this.socket.destroyed)try{this.socket.write(D.buffer,L=>{if(L){if(L.code==="EPIPE")return;(0,T.onUnexpectedError)(L)}})}catch(L){if(L.code==="EPIPE")return;(0,T.onUnexpectedError)(L)}}end(){this.socket.end()}drain(){return new Promise((D,L)=>{if(this.socket.bufferSize===0){D();return}const p=()=>{this.socket.off("close",p),this.socket.off("end",p),this.socket.off("error",p),this.socket.off("timeout",p),this.socket.off("drain",p),D()};this.socket.on("close",p),this.socket.on("end",p),this.socket.on("error",p),this.socket.on("timeout",p),this.socket.on("drain",p)})}}e.NodeSocket=u;var y;(function(v){v[v.MinHeaderByteSize=2]="MinHeaderByteSize"})(y||(y={}));var E;(function(v){v[v.PeekHeader=1]="PeekHeader",v[v.ReadHeader=2]="ReadHeader",v[v.ReadBody=3]="ReadBody",v[v.Fin=4]="Fin"})(E||(E={}));class C extends h.Disposable{constructor(D,L,p,_){super();this._onDidZlibFlush=this._register(new S.Emitter),this._recordedInflateBytes=[],this._pendingInflateData=[],this._pendingDeflateData=[],this._onData=this._register(new S.Emitter),this._onClose=this._register(new S.Emitter),this._isEnded=!1,this._state={state:1,readLen:2,fin:0,mask:0},this.socket=D,this._totalIncomingWireBytes=0,this._totalIncomingDataBytes=0,this._totalOutgoingWireBytes=0,this._totalOutgoingDataBytes=0,this.permessageDeflate=L,this._recordInflateBytes=_,L?(this._zlibInflate=o.createInflateRaw({windowBits:15}),this._zlibInflate.on("error",A=>{console.error(A),(0,T.onUnexpectedError)(A),this._onClose.fire({type:0,hadError:!0,error:A})}),this._zlibInflate.on("data",A=>{this._pendingInflateData.push(A)}),p&&(this._zlibInflate.write(p.buffer),this._zlibInflate.flush(()=>{this._pendingInflateData.length=0})),this._zlibDeflate=o.createDeflateRaw({windowBits:15}),this._zlibDeflate.on("error",A=>{console.error(A),(0,T.onUnexpectedError)(A),this._onClose.fire({type:0,hadError:!0,error:A})}),this._zlibDeflate.on("data",A=>{this._pendingDeflateData.push(A)})):(this._zlibInflate=null,this._zlibDeflate=null),this._zlibDeflateFlushWaitingCount=0,this._incomingData=new b.ChunkStream,this._register(this.socket.onData(A=>this._acceptChunk(A))),this._register(this.socket.onClose(A=>this._onClose.fire(A)))}get totalIncomingWireBytes(){return this._totalIncomingWireBytes}get totalIncomingDataBytes(){return this._totalIncomingDataBytes}get totalOutgoingWireBytes(){return this._totalOutgoingWireBytes}get totalOutgoingDataBytes(){return this._totalOutgoingDataBytes}get recordedInflateBytes(){return this._recordInflateBytes?k.VSBuffer.wrap(Buffer.concat(this._recordedInflateBytes)):k.VSBuffer.alloc(0)}dispose(){this._zlibDeflateFlushWaitingCount>0?this._register(this._onDidZlibFlush.event(()=>{this.dispose()})):(this.socket.dispose(),super.dispose())}onData(D){return this._onData.event(D)}onClose(D){return this._onClose.event(D)}onEnd(D){return this.socket.onEnd(D)}write(D){this._totalOutgoingDataBytes+=D.byteLength,this._zlibDeflate?(this._zlibDeflate.write(D.buffer),this._zlibDeflateFlushWaitingCount++,this._zlibDeflate.flush(2,()=>{this._zlibDeflateFlushWaitingCount--;let L=Buffer.concat(this._pendingDeflateData);this._pendingDeflateData.length=0,L=L.slice(0,L.length-4),this._isEnded||this._write(k.VSBuffer.wrap(L),!0),this._zlibDeflateFlushWaitingCount===0&&this._onDidZlibFlush.fire()})):this._write(D,!1)}_write(D,L){let p=2;D.byteLength<126?p+=0:D.byteLength<2**16?p+=2:p+=8;const _=k.VSBuffer.alloc(p);if(L?_.writeUInt8(194,0):_.writeUInt8(130,0),D.byteLength<126)_.writeUInt8(D.byteLength,1);else if(D.byteLength<2**16){_.writeUInt8(126,1);let A=1;_.writeUInt8(D.byteLength>>>8&255,++A),_.writeUInt8(D.byteLength>>>0&255,++A)}else{_.writeUInt8(127,1);let A=1;_.writeUInt8(0,++A),_.writeUInt8(0,++A),_.writeUInt8(0,++A),_.writeUInt8(0,++A),_.writeUInt8(D.byteLength>>>24&255,++A),_.writeUInt8(D.byteLength>>>16&255,++A),_.writeUInt8(D.byteLength>>>8&255,++A),_.writeUInt8(D.byteLength>>>0&255,++A)}this._totalOutgoingWireBytes+=_.byteLength+D.byteLength,this.socket.write(k.VSBuffer.concat([_,D]))}end(){this._isEnded=!0,this.socket.end()}_acceptChunk(D){if(D.byteLength!==0){for(this._totalIncomingWireBytes+=D.byteLength,this._incomingData.acceptChunk(D);this._incomingData.byteLength>=this._state.readLen;)if(this._state.state===1){const L=this._incomingData.peek(this._state.readLen),_=(L.readUInt8(0)&128)>>>7,A=L.readUInt8(1),I=(A&128)>>>7,U=A&127;this._state.state=2,this._state.readLen=2+(I?4:0)+(U===126?2:0)+(U===127?8:0),this._state.fin=_,this._state.mask=0}else if(this._state.state===2){const L=this._incomingData.read(this._state.readLen),p=L.readUInt8(1),_=(p&128)>>>7;let A=p&127,I=1;A===126?A=L.readUInt8(++I)*2**8+L.readUInt8(++I):A===127&&(A=L.readUInt8(++I)*0+L.readUInt8(++I)*0+L.readUInt8(++I)*0+L.readUInt8(++I)*0+L.readUInt8(++I)*2**24+L.readUInt8(++I)*2**16+L.readUInt8(++I)*2**8+L.readUInt8(++I));let U=0;_&&(U=L.readUInt8(++I)*2**24+L.readUInt8(++I)*2**16+L.readUInt8(++I)*2**8+L.readUInt8(++I)),this._state.state=3,this._state.readLen=A,this._state.mask=U}else if(this._state.state===3){const L=this._incomingData.read(this._state.readLen);f(L,this._state.mask),this._state.state=1,this._state.readLen=2,this._state.mask=0,this._zlibInflate?(this._recordInflateBytes&&this._recordedInflateBytes.push(Buffer.from(L.buffer)),this._zlibInflate.write(L.buffer),this._state.fin&&(this._recordInflateBytes&&this._recordedInflateBytes.push(Buffer.from([0,0,255,255])),this._zlibInflate.write(Buffer.from([0,0,255,255]))),this._zlibInflate.flush(()=>{const p=Buffer.concat(this._pendingInflateData);this._pendingInflateData.length=0,this._totalIncomingDataBytes+=p.length,this._onData.fire(k.VSBuffer.wrap(p))})):(this._totalIncomingDataBytes+=L.byteLength,this._onData.fire(L))}}}async drain(){this._zlibDeflateFlushWaitingCount>0&&await S.Event.toPromise(this._onDidZlibFlush.event),await this.socket.drain()}}e.WebSocketNodeSocket=C;function f(v,D){if(D===0)return;let L=v.byteLength>>>2;for(let B=0;B<L;B++){const ee=v.readUInt32BE(B*4);v.writeUInt32BE(ee^D,B*4)}let p=L*4,_=v.byteLength-p;const A=D>>>24&255,I=D>>>16&255,U=D>>>8&255;_>=1&&v.writeUInt8(v.readUInt8(p)^A,p),_>=2&&v.writeUInt8(v.readUInt8(p+1)^I,p+1),_>=3&&v.writeUInt8(v.readUInt8(p+2)^U,p+2)}e.XDG_RUNTIME_DIR=process.env.XDG_RUNTIME_DIR;const c={[2]:107,[1]:103};function a(){const v=(0,P.generateUuid)();if(process.platform==="win32")return`\\\\.\\pipe\\vscode-ipc-${v}-sock`;let D;return e.XDG_RUNTIME_DIR?D=(0,m.join)(e.XDG_RUNTIME_DIR,`vscode-ipc-${v}.sock`):D=(0,m.join)((0,w.tmpdir)(),`vscode-ipc-${v}.sock`),s(D),D}e.createRandomIPCHandle=a;function t(v,D,L){const p=(0,g.createHash)("md5").update(v).digest("hex");if(process.platform==="win32")return`\\\\.\\pipe\\${p}-${L}-${D}-sock`;let _;return e.XDG_RUNTIME_DIR&&!process.env.VSCODE_PORTABLE?_=(0,m.join)(e.XDG_RUNTIME_DIR,`vscode-${p.substr(0,8)}-${L}-${D}.sock`):_=(0,m.join)(v,`${L}-${D}.sock`),s(_),_}e.createStaticIPCHandle=t;function s(v){const D=c[n.platform];typeof D=="number"&&v.length>=D&&console.warn(`WARNING: IPC handle "${v}" is longer than ${D} chars, try a shorter --user-data-dir`)}class i extends d.IPCServer{constructor(D){super(i.toClientConnectionEvent(D));this.server=D}static toClientConnectionEvent(D){const L=S.Event.fromNodeEventEmitter(D,"connection");return S.Event.map(L,p=>({protocol:new b.Protocol(new u(p)),onDidClientDisconnect:S.Event.once(S.Event.fromNodeEventEmitter(p,"close"))}))}dispose(){super.dispose(),this.server&&(this.server.close(),this.server=null)}}e.Server=i;function r(v){return new Promise((D,L)=>{const p=(0,R.createServer)();p.on("error",L),p.listen(v,()=>{p.removeListener("error",L),D(new i(p))})})}e.serve=r;function l(v,D){return new Promise((L,p)=>{const _=(0,R.createConnection)(v,()=>{_.removeListener("error",p),L(b.Client.fromSocket(new u(_),D))});_.once("error",p)})}e.connect=l}),define(J[91],Z([0,1,168,16,11,2,13,31,23,72,12,167,205]),function(x,e,g,R,w,k,T,S,h,m,n,P,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestService=void 0;let b=class extends k.Disposable{constructor(u,y,E){super();this.environmentService=y,this.logService=E,this.configure(u.getValue()),this._register(u.onDidChangeConfiguration(()=>this.configure(u.getValue()),this))}configure(u){this.proxyUrl=u.http&&u.http.proxy,this.strictSSL=!!(u.http&&u.http.proxyStrictSSL),this.authorization=u.http&&u.http.proxyAuthorization}async request(u,y){this.logService.trace("RequestService#request",u.url);const{proxyUrl:E,strictSSL:C}=this,f={...process.env,...await(0,m.resolveShellEnv)(this.logService,this.environmentService.args,process.env)},c=u.agent?u.agent:await(0,P.getProxyAgent)(u.url||"",f,{proxyUrl:E,strictSSL:C});return u.agent=c,u.strictSSL=C,this.authorization&&(u.headers={...u.headers||{},"Proxy-Authorization":this.authorization}),this._request(u,y)}async getNodeRequest(u){return((0,g.parse)(u.url).protocol==="https:"?await new Promise((C,f)=>{x(["https"],C,f)}):await new Promise((C,f)=>{x(["http"],C,f)})).request}_request(u,y){return new Promise(async(E,C)=>{let f;const c=(0,g.parse)(u.url),a=u.getRawRequest?u.getRawRequest(u):await this.getNodeRequest(u),t={hostname:c.hostname,port:c.port?parseInt(c.port):c.protocol==="https:"?443:80,protocol:c.protocol,path:c.path,method:u.type||"GET",headers:u.headers,agent:u.agent,rejectUnauthorized:(0,T.isBoolean)(u.strictSSL)?u.strictSSL:!0};u.user&&u.password&&(t.auth=u.user+":"+u.password),f=a(t,s=>{const i=(0,T.isNumber)(u.followRedirects)?u.followRedirects:3;if(s.statusCode&&s.statusCode>=300&&s.statusCode<400&&i>0&&s.headers.location)this._request({...u,url:s.headers.location,followRedirects:i-1},y).then(E,C);else{let r=s;s.headers["content-encoding"]==="gzip"&&(r=s.pipe((0,d.createGunzip)())),E({res:s,stream:(0,R.streamToBufferReadableStream)(r)})}}),f.on("error",C),u.timeout&&f.setTimeout(u.timeout),u.data&&typeof u.data=="string"&&f.write(u.data),f.end(),y.onCancellationRequested(()=>{f.abort(),C((0,w.canceled)())})})}async resolveProxy(u){}};b=we([ge(0,S.IConfigurationService),ge(1,h.INativeEnvironmentService),ge(2,n.ILogService)],b),e.RequestService=b}),define(J[206],Z([0,1,22,32,220,15,5,14,30,53,52,74,23,71,28,90,82,40,47,83,81,57,91,31,80,84,12,8,55,175,79,19,56,2,46,151,7,75,54,11,37,16,24]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y,E,C,f,c,a,t,s,i,r,l,v,D,L,p,_,A,I,U,B,ee,Q,O,$,W,K,V){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.main=void 0;class M extends I.Disposable{constructor(N){super();this.argv=N,(0,w.gracefulify)(R),this.registerListeners()}registerListeners(){process.once("exit",()=>this.dispose())}async run(){const[N,F]=await this.initServices();return N.invokeFunction(async q=>{const H=q.get(l.ILogService),Y=q.get(_.IFileService),te=q.get(d.INativeEnvironmentService),oe=q.get(o.IExtensionManagementCLIService);return H.info("CLI main",this.argv),this.registerErrorHandler(H),await this.doRun(te,oe,Y),(0,S.raceTimeout)((0,C.combinedAppender)(...F).flush(),1e3)})}async initServices(){const N=new m.ServiceCollection,F={_serviceBrand:void 0,...h.default};N.set(U.IProductService,F);const q=new b.NativeEnvironmentService(this.argv,F);N.set(d.INativeEnvironmentService,q),await Promise.all([q.appSettingsHome.fsPath,q.extensionsPath].map(me=>me?k.Promises.mkdir(me,{recursive:!0}):void 0));const H=(0,l.getLogLevel)(q),Y=[];Y.push(new D.SpdLogLogger("cli",(0,T.join)(q.logsPath,"cli.log"),!0,H)),H===l.LogLevel.Trace&&Y.push(new l.ConsoleLogger(H));const te=this._register(new l.MultiplexLogService(Y));N.set(l.ILogService,te);const oe=this._register(new p.FileService(te));N.set(_.IFileService,oe);const se=this._register(new A.DiskFileSystemProvider(te));oe.registerProvider(v.Schemas.file,se);const ce=this._register(new i.ConfigurationService(q.settingsResource,oe));N.set(s.IConfigurationService,ce),await ce.initialize(),N.set(a.IRequestService,new n.SyncDescriptor(t.RequestService)),N.set(o.IExtensionManagementService,new n.SyncDescriptor(u.ExtensionManagementService)),N.set(o.IExtensionGalleryService,new n.SyncDescriptor(y.ExtensionGalleryService)),N.set(o.IExtensionManagementCLIService,new n.SyncDescriptor(B.ExtensionManagementCLIService)),N.set(O.ILocalizationsService,new n.SyncDescriptor(Q.LocalizationsService));const he=[];if(q.isBuilt&&!q.isExtensionDevelopment&&!q.disableTelemetry&&F.enableTelemetry){F.aiConfig&&F.aiConfig.asimovKey&&he.push(new r.AppInsightsAppender("monacoworkbench",null,F.aiConfig.asimovKey));const{appRoot:me,extensionsPath:De,installSourcePath:Oe}=q,Ce={appender:(0,C.combinedAppender)(...he),sendErrorTelemetry:!1,commonProperties:(async()=>{let Re;try{const Me=await k.Promises.readFile((0,T.join)(q.userDataPath,"storage.json"));Re=JSON.parse(Me.toString())[E.machineIdKey]}catch(Me){Me.code!=="ENOENT"&&te.error(Me)}return(0,c.resolveCommonProperties)(oe,(0,g.release)(),(0,g.hostname)(),process.arch,F.commit,F.version,Re,F.msftInternalDomains,Oe)})(),piiPaths:[me,De]};N.set(E.ITelemetryService,new n.SyncDescriptor(f.TelemetryService,[Ce]))}else N.set(E.ITelemetryService,C.NullTelemetryService);return[new P.InstantiationService(N),he]}registerErrorHandler(N){(0,$.setUnexpectedErrorHandler)(F=>{const q=(0,W.toErrorMessage)(F,!0);!q||N.error(`[uncaught exception in CLI]: ${q}`)})}async doRun(N,F,q){if(this.argv["install-source"])return this.setInstallSource(N,q,this.argv["install-source"]);if(this.argv["list-extensions"])return F.listExtensions(!!this.argv["show-versions"],this.argv.category);if(this.argv["install-extension"]||this.argv["install-builtin-extension"])return F.installExtensions(this.asExtensionIdOrVSIX(this.argv["install-extension"]||[]),this.argv["install-builtin-extension"]||[],!!this.argv["do-not-sync"],!!this.argv.force);if(this.argv["uninstall-extension"])return F.uninstallExtensions(this.asExtensionIdOrVSIX(this.argv["uninstall-extension"]),!!this.argv.force);if(this.argv["locate-extension"])return F.locateExtension(this.argv["locate-extension"]);this.argv.telemetry&&console.log((0,L.buildTelemetryMessage)(N.appRoot,N.extensionsPath))}asExtensionIdOrVSIX(N){return N.map(F=>/\.vsix$/i.test(F)?ee.URI.file((0,T.isAbsolute)(F)?F:(0,T.join)((0,V.cwd)(),F)):F)}async setInstallSource(N,F,q){await F.writeFile(ee.URI.file(N.installSourcePath),K.VSBuffer.fromString(q.slice(0,30)))}}async function G(z){const N=new M(z);try{await N.run()}finally{N.dispose()}}e.main=G}),define(J[207],Z([0,1,41,16,69,204]),function(x,e,g,R,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Protocol=void 0;class T extends w.PersistentProtocol{constructor(h,m){super(m.skipWebSocketFrames?new k.NodeSocket(h):new k.WebSocketNodeSocket(new k.NodeSocket(h),m.permessageDeflate||!1,m.inflateBytes||null,m.permessageDeflate||!1));this.options=m,this.logger=g.logger.named("protocol",(0,g.field)("token",this.options.reconnectionToken))}getUnderlyingSocket(){const h=this.getSocket();return h instanceof k.NodeSocket?h.socket:h.socket.socket}handshake(){return this.logger.debug("Initiating handshake..."),new Promise((h,m)=>{const n=()=>{b.dispose(),P.dispose(),clearTimeout(d)},P=this.onSocketClose(()=>{n(),this.logger.debug("Handshake failed"),m(new Error("Protocol socket closed unexpectedly"))}),d=setTimeout(()=>{n(),this.logger.debug("Handshake timed out"),m(new Error("Protocol handshake timed out"))},1e4),b=this.onControlMessage(o=>{try{const u=o.toString();this.logger.trace("Got message",(0,g.field)("message",u));const y=JSON.parse(u);switch(y.type){case"auth":return this.authenticate(y);case"connectionType":return n(),this.logger.debug("Handshake completed"),h(y);default:throw new Error("Unrecognized message type")}}catch(u){n(),m(u)}});this.authenticate()})}authenticate(h){this.sendMessage({type:"sign",data:""})}tunnel(){throw new Error("Tunnel is not implemented yet")}sendMessage(h){this.sendControl(R.VSBuffer.fromString(JSON.stringify(h)))}destroy(h){try{h&&this.sendMessage({type:"error",reason:h}),this.sendDisconnect()}catch(m){this.logger.warn(m.message||m)}this.dispose(),this.getSocket().dispose()}get inflateBytes(){const h=this.getSocket();return h instanceof k.WebSocketNodeSocket?h.recordedInflateBytes.buffer:void 0}}e.Protocol=T}),define(J[208],Z([0,1,32,22,36,6,8,7,103,35,186,206,31,80,137,23,71,82,28,141,90,19,79,56,52,74,53,54,75,12,77,161,55,30,46,57,166,91,174,81,40,173,83,47,84,198,187,185,86,58,207,195,199,200,183,76,2,11,65]),function(x,e,g,R,w,k,T,S,h,m,n,P,d,b,o,u,y,E,C,f,c,a,t,s,i,r,l,v,D,L,p,_,A,I,U,B,ee,Q,O,$,W,K,V,M,G,z,N,F,q,H,Y,te,oe,se,ce,he,me,De,Oe){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vscode=void 0;const Ce=I.default.commit||"development";class Re extends me.Disposable{constructor(){super();this._onDidClientConnect=new k.Emitter,this.onDidClientConnect=this._onDidClientConnect.event,this.ipc=new m.IPCServer(this.onDidClientConnect),this.maxExtraOfflineConnections=0,this.connections=new Map,this.services=new l.ServiceCollection,(0,De.setUnexpectedErrorHandler)(pe=>{console.trace("Uncaught error",pe instanceof Error?pe.message:pe)})}async cli(pe){return(0,P.main)(pe)}async initialize(pe){const be=(0,Oe.createServerURITransformer)(pe.remoteAuthority);this.servicesPromise||(this.servicesPromise=this.initializeServices(pe.args)),await this.servicesPromise;const Ee=this.services.get(u.IEnvironmentService),Fe=pe.startPath,_e=Ue=>{try{return S.URI.parse(Ue,!0)}catch(X){return S.URI.from({scheme:T.Schemas.vscodeRemote,authority:pe.remoteAuthority,path:Ue})}};return{workbenchWebConfiguration:{workspaceUri:Fe&&Fe.workspace?_e(Fe.url):void 0,folderUri:Fe&&!Fe.workspace?_e(Fe.url):void 0,remoteAuthority:pe.remoteAuthority,logLevel:(0,L.getLogLevel)(Ee),workspaceProvider:{payload:[["userDataPath",Ee.userDataPath],["enableProposedApi",JSON.stringify(pe.args["enable-proposed-api"]||[])]]}},remoteUserDataUri:be.transformOutgoing(S.URI.file(Ee.userDataPath)),productConfiguration:I.default,nlsConfiguration:await(0,H.getNlsConfiguration)(Ee.args.locale||await(0,H.getLocaleFromConfig)(Ee.userDataPath),Ee.userDataPath),commit:Ce}}async handleWebSocket(pe,be,Ee){if(!be.reconnectionToken)throw new Error("Reconnection token is missing from query parameters");const Fe=new Y.Protocol(pe,{reconnectionToken:be.reconnectionToken,reconnection:be.reconnection==="true",skipWebSocketFrames:be.skipWebSocketFrames==="true",permessageDeflate:Ee});try{await this.connect(await Fe.handshake(),Fe)}catch(_e){Fe.destroy(_e.message)}return!0}async connect(pe,be){switch(I.default.commit&&pe.commit!==I.default.commit&&q.logger.warn(`Version mismatch (${pe.commit} instead of ${I.default.commit})`),pe.desiredConnectionType){case 2:case 1:this.connections.has(pe.desiredConnectionType)||this.connections.set(pe.desiredConnectionType,new Map);const Ee=this.connections.get(pe.desiredConnectionType),Fe=be.options.reconnectionToken;let _e=Ee.get(Fe);if(be.options.reconnection&&_e)return _e.reconnect(be);if(be.options.reconnection)throw new Error(`Unable to reconnect; session no longer exists (${Fe})`);if(_e)throw new Error("Unable to connect; token is already in use");pe.desiredConnectionType===1?(_e=new N.ManagementConnection(be),this._onDidClientConnect.fire({protocol:be,onDidClientDisconnect:_e.onClose})):_e=new N.ExtensionHostConnection(be,{language:"en",...pe.args},this.services.get(u.IEnvironmentService)),Ee.set(Fe,_e),_e.onClose(()=>Ee.delete(Fe)),this.disposeOldOfflineConnections(Ee),q.logger.debug(`${Ee.size} active ${_e.name} connection(s)`);break;case 3:return be.tunnel();default:throw new Error(`Unrecognized connection type ${pe.desiredConnectionType}`)}}disposeOldOfflineConnections(pe){const be=Array.from(pe.values()).filter(Ee=>typeof Ee.offline!="undefined");for(let Ee=0,Fe=be.length-this.maxExtraOfflineConnections;Ee<Fe;++Ee)be[Ee].dispose("old")}async initializeServices(pe){const be={_serviceBrand:void 0,...I.default},Ee=new y.NativeEnvironmentService(pe,be);await Promise.all([Ee.extensionsPath,Ee.logsPath,Ee.globalStorageHome.fsPath,Ee.workspaceStorageHome.fsPath,...Ee.extraExtensionPaths,...Ee.extraBuiltinExtensionPaths].map(ye=>g.promises.mkdir(ye,{recursive:!0}).catch(ke=>{q.logger.warn(ke.message||ke)})));const Fe=new he.BufferLogService,_e=new L.MultiplexLogService([new L.ConsoleMainLogger((0,L.getLogLevel)(Ee)),Fe]);process.once("exit",()=>_e.dispose()),this.services.set(L.ILogService,_e);const Ue=new t.FileService(_e);Ue.registerProvider(T.Schemas.file,new s.DiskFileSystemProvider(_e));const X=new _.LoggerService(_e,Ue),re=[w.join(Ee.userDataPath,"clp"),Ee.appRoot,Ee.extensionsPath,Ee.builtinExtensionsPath,...Ee.extraExtensionPaths,...Ee.extraBuiltinExtensionPaths];this.ipc.registerChannel("logger",new p.LogLevelChannel(_e)),this.ipc.registerChannel(o.ExtensionHostDebugBroadcastChannel.ChannelName,new o.ExtensionHostDebugBroadcastChannel),this.services.set(L.ILogService,_e),this.services.set(u.IEnvironmentService,Ee),this.services.set(u.INativeEnvironmentService,Ee),this.services.set(L.ILoggerService,X);const ie=new b.ConfigurationService(Ee.settingsResource,Ue);await ie.initialize(),this.services.set(d.IConfigurationService,ie),this.services.set(B.IRequestService,new i.SyncDescriptor(Q.RequestService)),this.services.set(a.IFileService,Ue),this.services.set(U.IProductService,be);const de=await(0,h.getMachineId)();await new Promise(ye=>{const ke=new r.InstantiationService(this.services);ke.invokeFunction(Ie=>{ke.createInstance(n.LogsDataCleaner);let Ne;!Ee.isExtensionDevelopment&&!Ee.disableTelemetry&&!!be.enableTelemetry?Ne=new V.TelemetryService({appender:(0,M.combinedAppender)(new G.AppInsightsAppender("code-server",null,()=>new F.TelemetryClient),new K.TelemetryLogAppender(Ie.get(L.ILoggerService),Ee)),sendErrorTelemetry:!0,commonProperties:(0,$.resolveCommonProperties)(Ue,(0,R.release)(),(0,R.hostname)(),process.arch,Ce,I.default.version,de,void 0,Ee.installSourcePath,"code-server"),piiPaths:re},ie):Ne=M.NullTelemetryService,this.services.set(W.ITelemetryService,Ne),this.services.set(C.IExtensionManagementService,new i.SyncDescriptor(c.ExtensionManagementService)),this.services.set(C.IExtensionGalleryService,new i.SyncDescriptor(E.ExtensionGalleryService)),this.services.set(v.ILocalizationsService,new i.SyncDescriptor(D.LocalizationsService)),this.ipc.registerChannel("extensions",new f.ExtensionManagementChannel(Ie.get(C.IExtensionManagementService),j=>(0,Oe.createServerURITransformer)(j.remoteAuthority))),this.ipc.registerChannel("remoteextensionsenvironment",new z.ExtensionEnvironmentChannel(Ee,_e,Ne,"")),this.ipc.registerChannel("request",new ee.RequestChannel(Ie.get(B.IRequestService))),this.ipc.registerChannel("localizations",m.ProxyChannel.fromService(Ie.get(v.ILocalizationsService))),this.ipc.registerChannel(oe.REMOTE_FILE_SYSTEM_CHANNEL_NAME,new z.FileProviderChannel(Ee,_e));const Ae=new ce.PtyHostService({graceTime:6e4,shortGraceTime:6e3,scrollback:ie.getValue("terminal.integrated.persistentSessionScrollback")??100,useExperimentalSerialization:ie.getValue("terminal.integrated.persistentSessionExperimentalSerializer")??!0},ie,_e,Ne);this.ipc.registerChannel(te.REMOTE_TERMINAL_CHANNEL_NAME,new z.TerminalProviderChannel(_e,Ae)),Fe.logger=new A.SpdLogLogger("main",w.join(Ee.logsPath,`${se.RemoteExtensionLogFileName}.log`),!0,Fe.getLevel()),this._register((0,me.combinedDisposable)(ke.createInstance(n.LogsDataCleaner),ke.createInstance(O.default),this.ipc)),ye()})})}}e.Vscode=Re}),define(J[221],Z([0,1,41,105,86,208,203]),function(x,e,g,R,w,k,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,T.enableCustomMarketplace)(),R.monkeyPatch(!0);const S=process.exit;if(process.exit=function(n){w.logger.warn(`process.exit() was prevented: ${n||"unknown code"}.`)},typeof process.env.CODE_SERVER_PARENT_PID!="undefined"){const n=parseInt(process.env.CODE_SERVER_PARENT_PID,10);setInterval(()=>{try{process.kill(n,0)}catch(P){S()}},5e3)}else w.logger.error("no parent process"),S(1);const h=new k.Vscode,m=n=>{if(!process.send)throw new Error("not spawned with IPC");process.send(n)};process.on("message",async(n,P)=>{switch(w.logger.debug("got message from code-server",(0,g.field)("type",n.type)),w.logger.trace("code-server message content",(0,g.field)("message",n)),n.type){case"init":try{const d=await h.initialize(n.options);m({type:"options",id:n.id,options:d})}catch(d){w.logger.error(d.message),w.logger.error(d.stack),S(1)}break;case"cli":try{await h.cli(n.args),S(0)}catch(d){w.logger.error(d.message),w.logger.error(d.stack),S(1)}break;case"socket":h.handleWebSocket(P,n.query,n.permessageDeflate);break}}),process.send?m({type:"ready"}):(w.logger.error("not spawned with IPC"),S(1))})}).call(this);

//# sourceMappingURL=entry.js.map
